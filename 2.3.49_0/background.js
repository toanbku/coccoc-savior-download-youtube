!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./",r(r.s=389)}([function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"query",(function(){return c})),r.d(t,"queryAll",(function(){return l})),r.d(t,"findParent",(function(){return d})),r.d(t,"nearestParent",(function(){return h})),r.d(t,"getNodePropOrEmptyString",(function(){return p})),r.d(t,"stripTagsExcept",(function(){return f})),r.d(t,"toArray",(function(){return m})),r.d(t,"unique",(function(){return v})),r.d(t,"isMatches",(function(){return g})),r.d(t,"getYoutubeInfo",(function(){return b})),r.d(t,"getYoutubeDashMPDInfo",(function(){return y})),r.d(t,"send",(function(){return _})),r.d(t,"get",(function(){return w})),r.d(t,"_getSize",(function(){return E})),r.d(t,"getSize",(function(){return D})),r.d(t,"logDownloadError",(function(){return C})),r.d(t,"beautifyFileSize",(function(){return T})),r.d(t,"detectMediaTypeAndExt",(function(){return A})),r.d(t,"getFileNameFromContentDisposition",(function(){return x})),r.d(t,"getMediaType",(function(){return L})),r.d(t,"getProp",(function(){return O})),r.d(t,"call",(function(){return R})),r.d(t,"defined",(function(){return k})),r.d(t,"debounce",(function(){return I})),r.d(t,"flatten",(function(){return F})),r.d(t,"generateId",(function(){return P})),r.d(t,"sendMessage",(function(){return M})),r.d(t,"isSpecialUrls",(function(){return U})),r.d(t,"getFilenameFromTitleOfDownload",(function(){return j})),r.d(t,"getVideoId",(function(){return q})),r.d(t,"isValidData",(function(){return H})),r.d(t,"getBestFitResolution",(function(){return V})),r.d(t,"createMP3Resources",(function(){return Y})),r.d(t,"splitMediaByTitle",(function(){return $})),r.d(t,"i18n",(function(){return z})),r.d(t,"isSameMedia",(function(){return Q})),r.d(t,"isTikTok",(function(){return W})),r.d(t,"cleanSymbols",(function(){return G})),r.d(t,"fetchWithTimeout",(function(){return X})),r.d(t,"sleep",(function(){return Z})),r.d(t,"beDefinedOr",(function(){return K})),r.d(t,"mergeArray",(function(){return J})),r.d(t,"Storage",(function(){return ee})),r.d(t,"nextTick",(function(){return te})),r.d(t,"jwtDecode",(function(){return re})),r.d(t,"formatDomain",(function(){return ne})),r.d(t,"paddZero",(function(){return ie})),r.d(t,"transformVersionToNumber",(function(){return oe}));var n=r(1),i=r(7),o=r(2),a=r(3);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new A(i||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h={};function p(){}function f(){}function m(){}var v={};c(v,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&r.call(b,o)&&(v=b);var y=m.prototype=p.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;n(this,"_invoke",{value:function(n,o){function a(){return new t((function(i,a){!function n(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=D(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function D(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,D(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m,n(y,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:f,configurable:!0}),f.displayName=c(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,u,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var u=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};function c(e,t){return(t=t||document).querySelector(e)}function l(e,t){var r,n;return m(null!==(n=null===(r=(t=t||document).querySelectorAll)||void 0===r?void 0:r.call(t,e))&&void 0!==n?n:[])}function d(e,t){for(;null!==e&&e.classList&&!e.classList.contains(t);)e=e.parentNode;return e}function h(e,t){for(var r,n=null===(r=document.body.parentNode)||void 0===r?void 0:r.parentNode,i=e;null!=i&&i!=n&&!i.matches(t);)i=i.parentElement;return n==i?null:i}function p(e,t){return e&&e[t]||""}function f(e){return e.replace(/<(?!\/?(?:b|em))[^>]+>/g,"")}function m(e){return Array.prototype.slice.call(e)}function v(e){return Array.from(new Set(e))}function g(e,t){var r,n,i;if(Array.isArray(e)){for(r=0;r<e.length;++r)if(g(e[r],t))return!0;return!1}for(r=0,n=(t=Array.isArray(t)?t:[t]).length;r<n;++r)if("string"==typeof(i=t[r])&&-1!==e.indexOf(i)||i instanceof RegExp&&e.match(i))return!0;return!1}function b(e){return u(this,void 0,void 0,s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(t=>{EE.emit("message.background.send",{type:"youtube_get_info",data:{method:"GET",url:e}}),EE.on("youtube_get_info_result",r=>{r.data.url===e&&t(r.data)})}));case 1:case"end":return t.stop()}}),t)})))}function y(e){return u(this,void 0,void 0,s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(t=>{EE.emit("message.background.send",{type:"youtube_get_mpd_info",data:{url:e,method:"GET"}}),EE.on("youtube_set_mpd_info",e=>{var r,n;e&&"resolve"===(null===(r=e.data)||void 0===r?void 0:r.success)&&t(null===(n=e.data)||void 0===n?void 0:n.response)})}));case 1:case"end":return t.stop()}}),t)})))}function _(t,r,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];function a(e){return[/www\.facebook\.com\/video\/tahoe\/async\/\d+\/\?originalmediaid=\d.+&payloadtype=primary/,/vnecdn\.net/,/vnecdn\.net\/vnexpress\/video\/.+master.m3u8$/,/.smamuhh1metro/,/gpt[0-9]+\.phimmoi\.net/,/vtvgiaitri\.vn/,/hydra/,/www\.facebook\.com\/api\/graphql/,/www.facebook.com\/video\/tahoe\/async/,/www\.nhaccuatui\.com\/flash\/xml\?key3/,/content-aapm1\.uplynk\.com/,/master2-eu\.playerx\.stream/,/i\.instagram\.com\/api\/v1\/media/,/s\d+\.imacdn\.com/,/ok\d+-\d+\.vkuser\.net/,/vd\d+\.mycdn\.me/,/cdn\.javhd\..+\/stream\/.+\.m3u8/].some(t=>e.match(t))}if(e.IS_CONTENT_SCRIPT&&!a(r)){var s="background_request."+P();return EE.emit("message.background.send",{type:"background_request",data:{id:s,method:t,url:r,params:n,headers:i,includeCredentials:o}}),new Promise((e,t)=>{EE.on("background_request_result",r=>{var n=r.data;n.id===s&&("resolve"===n.success?e(n.response):t(n.response))})})}var u=null,c=new Headers;if("object"==typeof i)for(var l in i)location.href.includes("nhaccuatui.com/video/")&&"X-Savior-Replace-Cookie"==l||c.append(l,i[l]);"object"==typeof n&&(u=Object.keys(n).map(e=>e+"="+n[e]).join("&"),location.host.includes("facebook")&&(u=Object.keys(n).map(e=>`${e}=${encodeURIComponent(n[e])}`).join("&"))),"POST"===t&&c.append("Content-type","application/x-www-form-urlencoded");var d={method:t,headers:c,cache:"reload",body:u||void 0};return o&&(d.credentials="include"),fetch(r,d).then(e=>e.text().then(t=>({status:e.status,statusText:e.statusText,ok:e.ok,redirected:e.redirected,url:e.url,type:e.type,bodyUsed:e.bodyUsed,body:e.body,headers:e.headers,responseText:t})))}function w(e,t){return _("GET",e,{},t)}function E(e){var t,r=new XMLHttpRequest;return e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http";if("//"===e.slice(0,2))return t+":"+e;return e}(e),new Promise((n,i)=>{function o(e){e?n(e):i(e),r.abort(),clearTimeout(t),t=void 0}r.open("GET",e),r.onreadystatechange=function(){if(!(this.readyState<2)){var e=null;try{e=+(this.getResponseHeader("Content-Length")||""),Number.isNaN(e)&&(e=null)}catch(e){}null===e&&200!==this.status||(200!==this.status&&(e=null),o(e))}},r.send(null),t=setTimeout(o,1e4)})}function D(e){return new Promise(t=>{var r=P(),n=e+"_size";function i(i,o){i==r&&(o?t(o):E(e).then(e=>{t(e),EE.emit("media-provider.cache.put",P(),n,e)}).catch(()=>{C({url:JSON.stringify(e),referrer:document.referrer||location.host||JSON.stringify(e),error:"Error: Cannot get media size or media url is wrong"}),t(null),EE.emit("media-provider.cache.put",P(),n,null)}))}EE.emit("media-provider.cache.get",r,n),EE.on("media-provider.cache.hit",i),EE.on("media-provider.cache.miss",i)})}function C(e){o.a.log("recordCustomData",[{key:"savior_download_error",value:JSON.stringify(e)}])}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=["B","KB","MB","GB","TB","PB"],n=-1!==window.navigator.appVersion.indexOf("Win")?1024:1e3;if(!e)return"";var i,o=n;for(i=0;i<r.length&&e>=o;++i)e/=o;var a=r[i],s=Math.round(10*e)/10;return t&&a&&"kb"===a.toLowerCase()&&(s=s.toFixed(0)),s+r[i]}function A(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=["application/x-mpegurl","application/vnd.apple.mpegurl","audio/x-mpegurl","audio/mpegurl"];if(-1!==o.indexOf(r))return e.type="video",e.ext="m3u8",e;var s=["application/dash+xml"];if(-1!==s.indexOf(r))return e.type="video",e.ext="mpd",e;var u=L(r,e.exts||[]);if(u&&n.i[u]){e.type=u;var c=r.match(/mp4|webm/g);e.exts&&0!==e.exts.length||!c||!c[0]||(e.ext=c[0])}var l=Object(a.d)(r),d=l.ext;if(e.ext||(e.ext=d),U(e.url)&&(e.ext="m3u8",e.exts=["m3u8"]),"application/octet-stream"==r){var h=(null===(t=x(i))||void 0===t?void 0:t.split("."))||[];if(h&&h.length){var p=h.shift(),f=h;p&&(e.filename=p),f&&f.length&&(e.exts=f,d=f[f.length-1],e.ext=d,"mp4"==d&&(e.type="video"))}}return"mp4"==d&&(e.ext="mp4"),e}function x(e){var t;return null===(t=e.match(/filename=["']([^"']+)["']/i))||void 0===t?void 0:t[1]}function L(e,t){var r;for(var i in n.i){if(r=n.i[i],e&&e.match(r.rgxp))return i;if(Array.isArray(t)&&S(t,r.extensions)||-1!==r.extensions.indexOf(t))return i}return null}function S(e,t){for(var r=e.concat(t),n={},i=0;i<r.length;++i){var o=r[i];if(n[o])return o;n[o]=!0}return null}function O(e,t){return function e(t,r){var n=r.shift();return!n||"object"!=typeof t&&"function"!=typeof t||null===t?null:0===r.length?t[n]:e(t[n],r)}(e,t.split("."))}function R(e,t){if(e&&!(e.length<=0))for(var r=[].slice.call(arguments,2),n=0;n<e.length;n++)e[n].apply(t,r)}function k(e){return void 0!==e}function I(e,t,r){var n,i=!1;function o(){if(!i){var o=this,a=arguments;n?clearTimeout(n):r&&e.apply(o,a),n=setTimeout(s,t||100)}function s(){r||e.apply(o,a),n=void 0}}return o.destroy=()=>{clearTimeout(n),i=!0},o}function F(e,t){var r,n=Object.prototype.toString,i=[],o=t&&e||e.slice();if(!e.length)return i;r=o.pop();do{"[object Array]"===n.call(r)?o.push.apply(o,r.filter(e=>!!e)):i.push(r)}while(o.length&&void 0!==(r=o.pop()));return i.reverse(),i}var B,N=0;function P(){return N++}function M(e){return new Promise(t=>{var r=e.type+"_"+P();e.id=r,EE.emit("message.background.send",e),EE.on("utils.send_message_result",e=>{e.id===r&&t(e.data)})})}function U(e){if(e&&"object"!=typeof e){return[/(http|https):\/\/[\s\S]*(streamasia\.|\.bongngo\.|\.manga123\.net)[\s\S]*\/playlist\/|stream\.vltv\.xyz\/m3u8\/|apix\.gooqlevideo\.com\/player|khophim18\.net\/m3u8|iamplayer\.xyz\/stream.*\/Manifest/g,/hls\.mediacdn\.vn\/.+\/\S+\.mp4\.json/gi,/hls\.(tuoitre)\.vn\/\1\/\S+\.mp4\.json/gi,/vdrm\.vtvgiaitri\.vn\/stream/,/api(-v[0-9]*)*\.soundcloud\.com\/media\/soundcloud:tracks:[0-9]+/gi,/https:\/\/zingmp3\.vn\/api\/v2\/.+\?id=/,/^\/sequence\/(play|full)\/([a-z0-9]+)/i,/\/video\/(\d+)\/config(\?|$)/i,/key[0-9]=[0-9a-f]{32}/i,/^\/(api|get)_video_info/,/\.mp4.+?\.ts\?nimblesessionid=/,/meo\.saku\.net\/player/,/get\.gooqlevideo\.com\/player/,/streamsb\.biz\/playlist\/json\/[a-z0-9]+\/[a-z0-9]+/i,/discordapp\.com\/attachments\/\d+\/\d+\/[a-z0-9_\- ]+\.mp4/,/vidsugar\.com\/.+api\.json/i,/\-hls.*\.cuoiia\.top\/(cdn|media|hls)/,/vkvd\d*\.mycdn\.me/,/vk[a-z0-9\-]+\.vkuser\.net/i,/v\.douyu\.com\/api\/stream\/getStreamUrl/,/api\-.+\.(play|plhq)[\s\S]*\.(xyz|site|click)\/api\/.+(playiframe|getblob)/,/ssplay\.net\/[a-z0-9]{2,4}\/(\d+\/(\d+)\/[a-z0-9]+\/[a-z0-9]+|[a-z\d]+\/[a-z\d]+)/i,/\.helurl\.com\/uploads\/.+filename/i,/((smutr\.com)|(cdnka\.net))\/remote_control\.php?.+&file=.+\.(mp4|m3u8)/i,/\.video-delivery\.net/i,/\.asiaplayer\.site\/m3u8\/.+\/[a-z0-9]+\/master\.txt/i,/.+\.play[\s\S]*(xyz|net)\/(m3u8|hls)/i,/.+\.plhqtv[\s\S]*(xyz|net)\/(type1rdv3)/i,/v[0-9]*\.sanstream\.xyz\/video\/.*\/master.html\?.*/i,/cdn.+\/segment.+\/?token.+/i,/helvid\.([a-z0-9]+)\/hash.php\?.+/i,/southeastasia1-mediap.svc.ms\/.+\/videomanifest/i,/cdn\.animevui\.[a-z]+\/file/i,/playhh3dhay.xyz\/cdn\/hls\/.+\/master\.txt/i,/\.xyz\/cdn\/hls\/.+\/master\.txt/i,/hls\.streamcdn\.[a-z]+\/m3u8\//i,/hls\.streamcdn\.xyz\/m3u8.+/i,/\.streamc\.xyz\/get[a-z0-9]*\.php\?hash=/i,/\.streamc\.xyz\/getPlaylist\.php+/i,/intl-api.iq.com.+\/cache\-video\.iq\.com\/dash\?.+/i].some(t=>t.test(e))}}function j(e){var t=e.title||e.filename||document.title,r="."+e.ext;return t=(t=(null==t?void 0:t.replace(/\s+/g," ").replace(/[/\\:*?"<>|\u200c\u200d]/g,"-"))+r).match(/[*~]/gi)?"_"+t.replace(/[*~]/gi,"."):t}function q(e){if(e){for(var t,r=[/^https?:\/\/(?:www\.)?youtube(?:-nocookie)?(?:\.googleapis)?\.com\/(?:(?:v)|(?:embed)|(?:e))\/(?!videoseries)([^&?]+)/i,/https?:\/\/(?:www\.)?youtu\.be\/([^#&?]+)/i,/https?:\/\/(?:www\.)?youtube\.com\/.*(?:\?|&)v=([^#&?]+)/i,/https?:\/\/(?:www\.)?youtube\.com\/shorts\/(.*)$/,/^https?:\/\/music\.youtube\.com\/watch\?v=([^#&?]+)/,/youtube.*.com\/embed\/([a-z0-9\-_]+)/i,/^https?:\/\/(?:www\.)?youtube\.com\/live\/([^#&?]+)/],n=0;n<r.length;++n)if(t=e.match(r[n]))return t[1];return null}}function H(e){if(i.a.M3U8&&Object(n.s)(e.ext))return!0;var t=e.type;if(!t)return!1;var r=n.i[t],o=r&&r.extensions;return r&&-1!==o.indexOf(e.ext)}function V(e){for(var t=0,r=n.n.length;t<r&&n.n[t]>=e;)t++;return n.n[t-1]}function Y(e){var t=e.filter((function(e){return"video"===e.type&&!(!i.a.DOWNLOAD.M3U8_AUDIO&&["m3u","m3u8"].includes(e.ext))&&("object"==typeof e.url&&e.url.audioUrl||"string"==typeof e.url)})),r=[{bitrate:"128kbps",name:"Medium",qualityValue:100,itag:"140"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"22"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"37"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"38"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"45"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"46"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"84"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"85"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"101"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"102"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"172"}],n="www.youtube.com"===location.host?r:[r[0]],o=[];return t.length?($(t).forEach((function(e){var t=e.media,i=n.map((function(e){var n=function(e,t){t=t.toLowerCase();var r=[...e],n=e.filter((function(e){return"mp4"===e.ext}));n.length&&(r=n);var i=r.filter((function(e){return e.quality&&"full hd"===e.quality.toLowerCase()})),o=r.filter((function(e){return e.quality&&"hd"===e.quality.toLowerCase()})),a=r.filter((function(e){return e.quality&&["normal","medium","standard"].includes(e.quality.toLowerCase())}));switch(t){case"high":i.length?r=i:o.length?r=o:a.length&&(r=a);break;case"medium":default:a.length?r=a:o.length?r=o:i.length&&(r=i)}var s=r.filter((function(e){return"object"==typeof e.url&&e.url.audioUrl}));s.length&&(r=s);return r[0]}(t,e.name),i=Object.assign({},n);if(i.url=i.url.audioUrl||i.url,["m3u8","m3u"].includes(i.ext)&&(i._hls=!0,delete i._isDashMPD),i.ext="mp3",i.soundOnly=!0,i.quality=e.name,i.resolution=e.bitrate,i.type="audio",i.sortValues={qualityValue:e.qualityValue},"www.youtube.com"===location.host){var o=i.url.audioUrl||i.url,a=new URLSearchParams(o).get("itag"),s=r.find(e=>e.itag===a)||r[0];i.resolution!==s.bitrate&&i.quality!==s.name&&(i.resolution="0kbps")}return i}));i=i.reduce((e,t)=>(e.some(e=>parseInt(e.resolution)>=parseInt(t.resolution))||(e=[]).push(t),e),[]),o=o.concat(i)})),o):o}function $(e){var t=[];return e.forEach(e=>{e.title||(e.title=e.filename);var r=e.title||e.filename,n=t.find(e=>e.title===r||e.filename===r);n?n.media.push(e):t.push({media:[e],title:r})}),t}try{B=chrome.i18n.getMessage||(()=>"")}catch(e){B=()=>""}var z=B,Q=(e,t)=>e.type===t.type&&("string"!=typeof e.url&&"string"!=typeof t.url?e.url.videoUrl==t.url.videoUrl:e.url===t.url),W=t=>{var r;return(t=null!==(r=null!=t?t:e.tab_url)&&void 0!==r?r:window.location.href).match(/^https:\/\/(www\.)?tiktok\.com/)},G=e=>e?e.replaceAll(/[^aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ0-9\s\,\.\<\>\/\?\;\:\'\"\!\@\#\$\%\^\&\*\(\)\-\_\+\=\\\|]/g,"").replaceAll(/\s+/g," "):e,X=(e,t,r)=>{var n=t.timeout;return delete t.timeout,n?(r=null!=r?r:new AbortController,setTimeout(()=>r.abort(),n),fetch(e,Object.assign({signal:r.signal},t))):fetch(e,t)},Z=e=>new Promise(t=>setTimeout(t,e));function K(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return t}}function J(e,t,r){return t.forEach(t=>{("function"==typeof r&&r(t,e)||e.includes(t))&&e.push(t)}),e}class ee{static get(e){return new Promise(t=>{chrome.storage.local.get(e,e=>{t(e)})})}}function te(e){"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,20)}function re(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)}function ne(e){return e.trim().replace("www.","").replace(/^https?:\/\//i,"")}function ie(e){try{return Number(e)<=9?"0"+e:""+e}catch(e){return"00"}}function oe(e){var t=e.split(".");return Number(t.map(e=>ie(e)).join(""))}}.call(this,r(10))},function(e,t,r){"use strict";r.d(t,"i",(function(){return n})),r.d(t,"o",(function(){return i})),r.d(t,"p",(function(){return o})),r.d(t,"s",(function(){return a})),r.d(t,"n",(function(){return s})),r.d(t,"j",(function(){return u})),r.d(t,"m",(function(){return c})),r.d(t,"l",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"q",(function(){return h})),r.d(t,"k",(function(){return p})),r.d(t,"f",(function(){return f})),r.d(t,"c",(function(){return m})),r.d(t,"h",(function(){return v})),r.d(t,"g",(function(){return g})),r.d(t,"r",(function(){return b})),r.d(t,"e",(function(){return y})),r.d(t,"d",(function(){return _})),r.d(t,"a",(function(){return w}));var n={audio:{title:"Audio",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.34701 16.1464C3.91819 16.7176 4.60481 17.0032 5.40688 17.0032C6.20895 17.0032 6.89558 16.7176 7.46676 16.1464C8.03792 15.5752 8.3235 14.8886 8.3235 14.0865V5.72114H16.2603V11.7404C16.0263 11.5502 15.7699 11.4076 15.491 11.3125C15.2122 11.2174 14.913 11.1699 14.5936 11.1699C13.7915 11.1699 13.1049 11.4555 12.5337 12.0267C11.9625 12.5978 11.6769 13.2845 11.6769 14.0865C11.6769 14.8886 11.9625 15.5752 12.5337 16.1464C13.1049 16.7176 13.7915 17.0032 14.5936 17.0032C15.3957 17.0032 16.0823 16.7176 16.6535 16.1464C17.2246 15.5752 17.5102 14.8886 17.5102 14.0865V5.72114V2.99683H16.6768H16.2603H7.07355V11.7404C6.83957 11.5502 6.58316 11.4076 6.30432 11.3125C6.02547 11.2174 5.72632 11.1699 5.40688 11.1699C4.60481 11.1699 3.91819 11.4555 3.34701 12.0267C2.77582 12.5978 2.49023 13.2845 2.49023 14.0865C2.49023 14.8886 2.77582 15.5752 3.34701 16.1464Z" fill="currentColor"/>\n</svg>\n',rgxp:/audio/i,extensions:["mp3","flac","m4a","wma","ogg","wav","aif","mid","opus"],extensions_weight:["mp3","flac","m4a","wma","ogg","wav","aif","mid","opus"],ctype2extension:{midi:"mid",mp4:"m4a",m4a:"m4a",mpeg:"mp3",mpeg3:"mp3",wav:"wav",aiff:"aif",opus:"opus"}},video:{title:"Video",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.79009 16.25C3.36914 16.25 3.01284 16.1041 2.72117 15.8125C2.42952 15.5208 2.28369 15.1645 2.28369 14.7435V5.25642C2.28369 4.83547 2.42952 4.47917 2.72117 4.1875C3.01284 3.89583 3.36914 3.75 3.79009 3.75H13.2772C13.6982 3.75 14.0545 3.89583 14.3461 4.1875C14.6378 4.47917 14.7836 4.83547 14.7836 5.25642V9.07052L17.7163 6.13785V13.8621L14.7836 10.9294V14.7435C14.7836 15.1645 14.6378 15.5208 14.3461 15.8125C14.0545 16.1041 13.6982 16.25 13.2772 16.25H3.79009ZM3.79009 15H13.2772C13.352 15 13.4135 14.9759 13.4615 14.9279C13.5096 14.8798 13.5337 14.8183 13.5337 14.7435V5.25642C13.5337 5.18162 13.5096 5.12019 13.4615 5.0721C13.4135 5.02402 13.352 4.99998 13.2772 4.99998H3.79009C3.7153 4.99998 3.65386 5.02402 3.60577 5.0721C3.55769 5.12019 3.53365 5.18162 3.53365 5.25642V14.7435C3.53365 14.8183 3.55769 14.8798 3.60577 14.9279C3.65386 14.9759 3.7153 15 3.79009 15Z" fill="currentColor"/>\n</svg>\n',rgxp:/video/i,extensions:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","3gp","m3u8","m3u","ogv","mpd"],extensions_weight:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","m3u8","m3u","3gp"],ctype2extension:{mpeg:"mp4",mp4:"mp4",m4v:"mp4","3gpp":"3gp",flv:"flv",quicktime:"mov",msvideo:"avi","ms-wmv":"wmv","ms-asf":"asf"}},no_watermark_video:{title:"No watermark video",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M21.53 7.15C21.378 7.06223 21.2055 7.01603 21.03 7.01603C20.8545 7.01603 20.682 7.06223 20.53 7.15L17 8.89C16.9715 8.11357 16.6429 7.37847 16.0834 6.83944C15.5238 6.3004 14.777 5.99948 14 6H5C4.20435 6 3.44129 6.31607 2.87868 6.87868C2.31607 7.44129 2 8.20435 2 9V15C2 15.7957 2.31607 16.5587 2.87868 17.1213C3.44129 17.6839 4.20435 18 5 18H14C14.777 18.0005 15.5238 17.6996 16.0834 17.1606C16.6429 16.6215 16.9715 15.8864 17 15.11L20.56 16.89C20.6963 16.9599 20.8468 16.9975 21 17C21.1872 17.0006 21.3709 16.9486 21.53 16.85C21.6741 16.7599 21.7929 16.6346 21.8751 16.4859C21.9574 16.3372 22.0003 16.1699 22 16V8C22.0003 7.83006 21.9574 7.66283 21.8751 7.51411C21.7929 7.36538 21.6741 7.24007 21.53 7.15ZM15 15C15 15.2652 14.8946 15.5196 14.7071 15.7071C14.5196 15.8946 14.2652 16 14 16H5C4.73478 16 4.48043 15.8946 4.29289 15.7071C4.10536 15.5196 4 15.2652 4 15V9C4 8.73478 4.10536 8.48043 4.29289 8.29289C4.48043 8.10536 4.73478 8 5 8H14C14.2652 8 14.5196 8.10536 14.7071 8.29289C14.8946 8.48043 15 8.73478 15 9V15ZM20 14.38L17 12.88V11.12L20 9.62V14.38Z" fill="currentColor"/></svg>',rgxp:/no watermark video/i,extensions:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","3gp","m3u8","m3u","ogv","mpd"],extensions_weight:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","m3u8","m3u","3gp"],ctype2extension:{mpeg:"mp4",mp4:"mp4",m4v:"mp4","3gpp":"3gp",flv:"flv",quicktime:"mov",msvideo:"avi","ms-wmv":"wmv","ms-asf":"asf"}},subtitles:{title:"Subtitles",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.90869 13.6143V12.3643H11.8253V13.6143H3.90869ZM3.90869 10.2809V9.03096H16.8253V10.2809H3.90869ZM3.90869 6.94759V5.69763H16.8253V6.94759H3.90869Z" fill="currentColor"/>\n</svg>\n',rgxp:/subtitles/i,extensions:["yt_srt","srt","vtt"],extensions_weight:["yt_srt","srt","vtt"]}},i={"4320p":{i18n_label:"quality_8k_uhd",label:"8K UHD",value:1600},"3072p":{i18n_label:"quality_4k_qfhd",label:"4K QFHD",value:1400},"2160p":{i18n_label:"quality_4k_uhd",label:"4K UHD",value:1200},"2048p":{i18n_label:"quality_qhd",label:"Quad HD",value:1100},"1440p":{i18n_label:"quality_qhd",label:"Quad HD",value:1e3},"1080p":{i18n_label:"quality_fhd",label:"Full HD",value:800},"720p":{i18n_label:"quality_hd",label:"HD",value:600},"540p":{i18n_label:"quality_standard",label:"Standard",value:500},"480p":{i18n_label:"quality_standard",label:"Standard",value:500},"360p":{i18n_label:"quality_medium",label:"Medium",value:400},"320p":{i18n_label:"quality_medium",label:"Medium",value:400},"270p":{i18n_label:"quality_small",label:"Small",value:300},"240p":{i18n_label:"quality_small",label:"Small",value:200},"144p":{i18n_label:"quality_mobile",label:"Mobile",value:100}},o=["video","audio","subtitles"];function a(e){return!!e&&-1!==["m3u8","m3u","hls","zip"].indexOf(e)}var s=[4320,3072,2160,2048,1440,1080,720,540,480,360,320,270,240,144],u=[/^(.+\.)?nixcdn\.com/im,/^(.+\.)?vcmedia\.vn/i,/^(.+\.)?kenhhd\.tv/i],c=[/coccoc\.com\/sitemap\.xml/i],l="hidePermanent",d="customControlFromServer",h="youtubeControls",p="otherControls",f="116.0.0.0",m=1,v=3,g=1,b="youtubeTurnOffAdblock",y=["xoilac","thapcam","cakhia","vebo","gavang","c19hcc","90phut","screenbid","socolive","luongson","xembong","livebong","caheo","rakhoi","tructiepbong","antlive"],_=["animevietsub","vuighe","anime47","animehay","phimmoi","motchill","dongchill","dailymotion.com","hhpanda","bluphim","phimtuoitho","subnhanh","tvhay","phim33","hoathinh3d","phimtm","hhkungfu","motphimtv","tvphim","phimhay","xem14","animesub","hh3dhay","ghienphim","vietsub","vipphim","khophim","phimvsub","ohitv"];class w{}w.PROMOTE_SERP={_:"promote_serp",GET:"get_promote_serp",CLOSE:"close_promote_serp"},w.ONBOARD_TRACK={GET:"get_onboard_track",SAVE:"save_onboard_track"},w.DOWNLOAD="download",w.PLAY="play_video",w.SET_FEATURE="set_feature",w.IS_SUPPORTED="is_supported",w.FRAME_TYPE="frame_type",w.FETCH="background_request",w.YOUTUBE={GET_INFO:"youtube_get_info",GET_MPD:"youtube_get_mpd_info"},w.OMNI={ACTIVE:"active_omnibox",DEACTIVE:"deactive_omnibox"},w.METRICS="metrics",w.CACHE="cache.background",w.PIP={REQUEST:"pip",INNER:"inner_frame_pip",ON:{ENTER:"inner_pip_enter",LEAVE:"inner_pip_leave"}},w.CONSOLE_LOG="console.log",w.GET_URL="get_url",w.SAVE_URL="save_url",w.GET_MATCHED_REQUESTS="get_matched_requests",w.GET_SERVER_TIME="get_server_time",w.OPEN_SEARCH_SETTINGS="open_search_engines_settings",w.SCRIPTING={INJECT:"inject_script",NOTIFY:"script_executed",EXEC:"execute_script"},w.OPEN_SETTINGS="open_settings",w.OFFSCREEN={},w.TURN_OFF_ADBLOCK_ON_YOUTUBE="turn_off_adblock_on_youtube",w.TURN_ON_ADBLOCK_ON_YOUTUBE="turn_on_adblock_on_youtube",w.GET_FASTFORWARD_ENABLED="get_ff_enabled"},function(e,t,r){"use strict";var n=r(7);class i{constructor(){this.SOURCE_POPUP_PAGE=0,this.SOURCE_OPTIONS_PAGE=10,this.SOURCE_CONTENT_SCRIPT=20,this.SOURCE_BACKGROUND_PAGE=30,this.LEGACY_METRICS_NAME_MAP={ButtonClicked:"TryItNowButtonClicked",CheckBoxClicked:"OneClickCheckbox"},this.PAGE_WELCOME_SCREEN=0,this.PAGE_DOWNLOADS_LIST=1,this.PAGE_ONE_CLICK_DOWNLOAD=2,this.PAGE_NO_MEDIA_FOUND=3,this.PAGE_OPTIONS=4,this.PAGE_CONTENT_SHOW_CONTROLS=5,this.PAGE_CONTENT_NO_MEDIA=9,this.YOUTUBE_ADS_BLOCK_ERROR=0,this.YOUTUBE_ADS_BLOCK_ERROR_POPUP=1,this.YOUTUBE_SKIP_ADS_SHOWN=1,this.YOUTUBE_SKIP_ADS_FAST_FWD=2,this.DOWNLOAD_AUTO=0,this.DOWNLOAD_BUTTON=1,this.DOWNLOAD_ALL=2,this.DOWNLOAD_REQUEST_SIZE=3,this.DOWNLOAD_REQUEST_SIZE_FAILED=4,this.DOWNLOAD_SOUND_ONLY=5,this.DOWNLOAD_CANCELED=7,this.DOWNLOAD_SUBTITLES=9,this.BUTTON_MAIN=0,this.BUTTON_TRY_IT_NOW=1,this.BUTTON_SHOW_DOWNLOADS=2,this.BUTTON_OPEN_SETTINGS=3,this.BUTTON_DOWNLOAD_ALL=4,this.BUTTON_MORE_OPTIONS=5,this.BUTTON_HIDE_PERMANENT=6,this.BUTTON_FAKE_QUALITY=7,this.BUTTON_DETACH=8,this.BUTTON_HIDE=9,this.CHECK_BOX_ENABLE_ONE_CLICK=0,this.CHECK_BOX_SHOW_ON_PAGE_BUTTONS=2,this.CHECK_BOX_PREFER_LAST_QUALITY=4,this.CHECK_BOX_DETACH_ENABLED=6,this.CHECK_BOX_DARK_THEM_ENABLED=8,this.PIP_DETACH_CLICK=0,this.PIP_RESTORE_CLICK=1,this.PIP_SITE_LINK_CLICK=2,this.PLAY_NOW_SHOWN=0,this.PLAY_NOW_WIDGET_CLICKED=1,this.PLAY_NOW_TOOLTIP_SHOWN=2,this.PLAY_NOW_TOOLTIP_CLOSED=3,this.PLAY_NOW_TOOLTIP_NOT_SHOW_AGAIN=4,this.PLAY_NOW_TOOLTIP_BOTTOM_SHOWN=5,this.PLAY_NOW_TOOLTIP_BOTTOM_CLOSED=6,this.PLAY_NOW_TOOLTIP_BOTTOM_NOT_SHOW_AGAIN=7,this.EXTENSION_MP4=1,this.EXTENSION_MP3=2,this.EXTENSION_WEBM=3,this.EXTENSION_3GP=4,this.EXTENSION_SRT=5,this.EXTENSION_OTHER=6,this.SEND_MOBILE_SHOW=1,this.SEND_MOBILE_CLICK=2,this.SEND_MOBILE_CLICK_CLOSE=3,this.SEND_MOBILE_CLICK_A=4,this.SEND_MOBILE_CLICK_G=5,this.SEND_MOBILE_CLICK_W=6,this.SEND_MOBILE_CLICK_AUDIO=7,this.SEND_MOBILE_ERROR=9,this.TURN_LIGHT_ON=0,this.TURN_LIGHT_OFF=1,this.ONBOARD_POPUP_SHOWN=1,this.ONBOARD_POPUP_SHOWN_SECOND=1,this.ONBOARD_POPUP_SHOWN_THIRD=1,this.ONBOARD_TRY_NOW_BTN_CLICK=1,this.CLOSE_ONBOARD_POPUP=1,this.OPEN_SETTING_POPUP=1,this.OPEN_SETTING_CONTENT=2}get source(){if(!chrome.action&&!chrome.pageAction)return this.SOURCE_CONTENT_SCRIPT;switch(location.pathname){case"/popup.html":return this.SOURCE_POPUP_PAGE;case"/options.html":return this.SOURCE_OPTIONS_PAGE;case"/background.js":case"/background.html":return this.SOURCE_BACKGROUND_PAGE;default:return null}}_getFullName(e){return"Savior."+(this.LEGACY_METRICS_NAME_MAP[e]||e)}_getTotalValue(e,t,r){return 0===e.indexOf("Refr")||r||["PageShown","YTBlockType","YTSkipAdShown"].includes(e)||"number"!=typeof t?t:t+this.source}_doLog(e,t,r){var n,i=this._getFullName(t);if(!(parseInt((null===(n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))||void 0===n?void 0:n[2])||"")<=50))if(this.source===this.SOURCE_CONTENT_SCRIPT)EE.emit("message.background.send",{type:"metrics",method:"log",params:{name:t,value:r}});else if(chrome.metricsPrivate)switch(e){case"recordSmallCount":chrome.metricsPrivate.recordValue({metricName:i,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:100,buckets:100},r);break;case"recordValue":chrome.metricsPrivate.recordValue({metricName:i,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:1e3,buckets:1002},r);break;case"recordCustomData":chrome.metricsPrivate.recordCustomData(r)}else if("recordCustomData"===e){if(r&&1===r.length)return void console.info("%c[Metrics] %crecordCustomData %c%s","color:gray","color:silver","color: lightgreen",r[0].key,JSON.parse(r[0].value));console.info("%c[Metrics]","color:gray","recordCustomData",r)}else console.info("%c[Metrics]","color:gray",e,i,r)}static _getMethodByName(e){switch(e){case"Refr":case"RefrSE":case"RefrFE":case"RefrPin":return"recordValue";case"recordCustomData":return"recordCustomData";default:return"recordSmallCount"}}log(e,t,r){try{var o=i._getMethodByName(e);if("recordCustomData"===o&&n.a.CUSTOM_METRICS_JSON)return void this._doLog(o,e,t);var a=this._getTotalValue(e,t,r);this._doLog(o,e,a)}catch(e){console.warn("Catched",e)}}logYtExtension(e){switch(e.toLowerCase()){case"mp4":this.log("YtExtension",this.EXTENSION_MP4);break;case"mp3":this.log("YtExtension",this.EXTENSION_MP3);break;case"webm":this.log("YtExtension",this.EXTENSION_WEBM);break;case"3gp":this.log("YtExtension",this.EXTENSION_3GP);break;case"srt":this.log("YtExtension",this.EXTENSION_SRT);break;default:this.log("YtExtension",this.EXTENSION_OTHER)}}logSendMobile(e){this.log("SendMobile",e)}logFromContentScript(e,t){this.log(e,t,!0)}logRequest(e){var t=Object.keys(e).reduce((t,r,n)=>t+=`${n?"&":""}${r}=${e[r]}`,"?");navigator.sendBeacon("https://coccoc.com/log"+t)}}t.a=new i},function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"g",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"h",(function(){return h})),r.d(t,"c",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"a",(function(){return m}));var n=r(1),i=r(0),o=/([^/]+)$/i,a=/\.([^/.]*)$/i;function s(e){return e&&0!==e.indexOf("data:image")?/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/\.?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e):[]}function u(e){var t="",r="";try{var n=e.split("/");t=n[0];var i=n[1].split(";")[0];switch(r=i,i){case"webm":r="video"==t?"webm":"weba";break;case"3gpp":r="3gp";break;case"3gpp2":r="3g2";break;case"ogg":r="video"==t?"ogv":"oga";break;case"mpeg":r="video"==t?"mpeg":"mp3";break;case"x-midi":r="midi";break;case"x-msvideo":r="avi";break;case"mp2t":r="ts"}return{type:t,ext:r}}catch(e){return{type:t,ext:r}}}function c(e,t){var r=new URL("object"==typeof e?e.videoUrl:e),n=(r.pathname.match(o)||[])[1]||"",s=n.split(".").map(e=>e.toLowerCase());n=decodeURIComponent(n.replace(a,"")),s.shift(),0===s.length&&Object(i.isSpecialUrls)(e)&&(s=["m3u8"]);var c=s[s.length-1]||"",l=null;if(r.href.startsWith("data:")){var d=u(r.href.match(/data:([a-z]+\/[a-z0-9]+);/i)[1]);c=d.ext,l=d.type}var h={url:e,protocol:r.protocol,host:r.host,port:r.port,pathname:r.pathname,filename:n,ext:c,exts:s,hash:r.hash,search:r.search,type:l};if(h.port||delete h.port,t){var p={};r.search.replace(/^\?/,"").split(/&/).forEach(e=>{var t=e.split("=");p[t[0]]=t[1]}),h.query=p}return"flac"==c&&(h.quality="Lossless",h.resolution="lossless"),h}function l(e){var t,r="object"==typeof e?e.videoUrl:e;if(r.startsWith("data:")){var i=r.match(/data:([a-z]+)/)[1];return["audio","video"].includes(i)?i:""}var o=(null===(t=s(r))||void 0===t?void 0:t[11])||"";if(!o)return"";var a=new Map,u=["no_watermark_video"];Object.keys(n.i).forEach(e=>{if(!u.includes(e))for(var t=n.i[e].extensions,r=0;r<t.length;r++)a.set(t[r],e)}),r.includes("googlevideo.com/videoplayback")&&"videoplayback"===o&&r.includes("mp4")&&(o="video.mp4"),r.includes("videoplayback")&&"videoplayback"===o&&r.includes("mp4")&&(o="video.mp4");var c=o.split("."),l=c.length-1;if(l<=0)return"";var d=c[l].toLowerCase();return a.get(d)}function d(e){if((e=Object.create(e)).query){for(var t in e.search=[],e.query)void 0!==e.query[t]?e.search.push(t+"="+encodeURIComponent(e.query[t])):e.search.push(t);e.search="?"+e.search.join("&"),delete e.query}return e.href}function h(e){var t=(e=e.replace(/^[#?]{1}/,"")).split("&"),r={};return t.forEach(e=>{var t=e.split("=");Object(i.defined)(t[0])&&Object(i.defined)(t[1])&&(r[t[0]]=decodeURIComponent(t[1].replace(/\+/g," ")))}),r}var p=(()=>{for(var e=["facebook.com","youtube.com","video.vnexpress.net","mp3.zing.vn","radio.zing.vn","tv.zing.vn","nhaccuatui.com","video.thethao247.vn","video.ngoisao.net","xvideos.com","phimmoi.net","clip.vn","yan.vn","xem.vn","pornhub.com","xhamster.com","dailymotion.com","xnxx.com","hdonline.vn","phim3s.net","redtube.com","phim14.net","soundcloud.com","youporn.com","vimeo.com","fptplay.net","haivn.com","chiasenhac.com","movies.hdviet.com","nhac.vui.vn","nhacso.net","anime47.com","tube8.com","talktv.vn","chatvl.info","cohet.tv","vlxx.tv","hayhaytv.vn","xemphimso.com","vivo.vn","xemvtv.net","vkool.net","chimsedinang.com","keeng.vn","vuighe.net","vetv.vn","xemphimon.com","ixxx.com","biphim.com","kenhvideo.com","videogame.vn","phim.in","voh.com.vn","phimsexporn.com","porn99.net","news.zing.vn","me.zing.vn","twitter.com","24h.com.vn","phim.clip.vn","video.ringring.vn","v.nhaccuatui.com","clip.vietnamnet.vn","afamily.vn","media.bongdaplus.vn","bongdaclip.com","gamek.vn","phapluattp.vn","hdviet.com","haiivl.com","chatvl.com","2sao.vn","videos.vietgiaitri.com","nhac.vietgiaitri.com","megafun.vn","phim.hayhd.vn","cand.com.vn","ohay.tv","phim.megabox.vn","anhtrang.org","phim.anhtrang.org","8bongda.com","xemphimone.com","bongda365.com.vn","phimhd.vn","dinotube.com","phimvipvn.net","animeax.com","phimdata.com","phimnhanh.net","vipphim.net","phimvon.com","pubvn.tv","phim22.com","phim7.com","hayxemphim.com","m-viet.com","thethaoclip.com","nhac.hay365.com","ssphim.com","phimtructuyenhd.com","xuongphim.tv","vino.vn/mp3","haivl.io","nhacvang.org","starmovies.mobi","clipvuivn.com","phimporn.com","123tv.vn","phimonlinehd.net","hai24h.net","jax.vn","kenhgioitre.net","chiaseclip.net","phim.xixam.com","bilutv.com","phimbathu.com","instagram.com","banhtv.com","txxx.com","video.vietnamnet.vn","video.bongdaplus.vn","creatives.livejasmin.com","tv.naver.com","tv.tuoitre.vn","icdrama.se","video.thanhnien.vn","spankbang.com","dmm.co.jp","v.youku.com","v.qq.com","daikynguyenvn.com","thethao247.vn","e.vnexpress.net","ione.vnexpress.net","kenh14.vn","dantri.com.vn","baomoi.com","emdep.vn","tuoitre.vn","soha.vn","video.congan.com.vn","cafef.vn","bongda.com.vn","bongdaso.com","eva.vn","danviet.vn","cliptv.vn","bbc.co.uk","edition.cnn.com","buzzfeed.com","businessinsider.com","cnet.com","dailymail.co.uk","bilutvx.net","chill123.gotdns.ch"],t={},r=0,n=e.length;r<n;++r){var i=e[r];console.assert(!(i in t),'Duplicate "'+i+'": '+t[i]+", "+r),t[i]=r+1}return function(e){for(var r=function(e){var t;return(null===(t=s(e))||void 0===t?void 0:t[6])||""}(e),n=t[r];!n&&r;){var i=r.indexOf(".")+1;if(0===i)break;r=r.substr(i),n=t[r]}return 100+(0|n)}})();function f(){return 4==(null==="2.3.49"?void 0:"2.3.49".split(".").length)?"https://dev-ytdl.coccoc.com":"https://ytdl.coccoc.com"}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e||new URL(t);if(t.includes("https")||t.includes("//"))return t.includes("http")||(t="https:"+t),t;if(r&&t.startsWith("/"))return n.origin+t;var i=(n.host+n.pathname).split("/").filter(e=>!!e).slice(0,-1),o=t.split("/").filter(e=>!!e),a=o.lastIndexOf(".."),s=o.slice(0,a+1),u=o.slice(a+1);s.length>0&&(i=i.slice(0,-s.length));var c=i.indexOf(u[0]);if(-1==c)i.push(...u);else{c+=1;for(var l=1;l<u.length;++l){var d=u[l];i.includes(d)||(i[c-1]===u[l-1]?i[c]=d:i.push(d)),c+=1}}return n.protocol+"//"+i.join("/")}},function(e,t,r){"use strict";var n=r(5),i=r(1);var o=new class{constructor(){this._storage=chrome.storage.local,this._handlerMap=new Map,this._options={},this._default={skipping_ads_enable:!0,detach_enabled:!0,on_page_buttons:!0,min_stream_size:30720,prefer_last_quality:!0,last_quality:void 0,hide_play_now_tooltip:!1,hide_play_now_tooltip_bottom:!1,instant_actions_tooltip_shown:!1,instant_actions_tooltip_shown_count:0,instant_actions_button_download:!1,preferred_quality_level:n.b.DEFAULT_QUALITY_LEVEL,show_3gp_ext:!1,video_changed:!1,ADLIST_CUSTOM_RULE:{},[i.l]:[]},this.loaded=!1;var e=this;chrome.storage.onChanged.addListener((t,r)=>{var n;if("local"===r){for(var i in t)e._options[i]=t[i].newValue;for(var o in t)null===(n=this._handlerMap.get(o))||void 0===n||n.forEach(e=>e())}})}load(){var e=this;return new Promise(t=>{e._storage.get(null,r=>{e._options=r,e.loaded=!0,t(r)})})}set(e,t){var r={};r[e]=t,this._storage.set(r),this.loaded&&("string"==typeof e||"number"==typeof e&&void 0!==t)&&(this._options[e]=t)}get(e){return this.loaded&&e in this._options?this._options[e]:this._default[e]}has(e){return void 0!==this._options[e]}remove(e){delete this._options[e],this._storage.remove([e],()=>{var e=chrome.runtime.lastError;e&&console.warn("Caught",e)})}addOptionChangedListener(e,t){var r,n=null!==(r=this._handlerMap.get(e))&&void 0!==r?r:[];n.push(t),this._handlerMap.set(e,n)}};t.a=o},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),i=r(1);class o{constructor(){this.QUALITY_TYPES={},this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(n.i18n)(i.o["3072p"].i18n_label),qualityIndex:8,size:3072,videoTitle:"Super HD"},this.QUALITY_TYPES["4K"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES["4K UHD"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(n.i18n)(i.o["2160p"].i18n_label),qualityIndex:7,size:2160,videoTitle:"Ultra HD"},this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(n.i18n)(i.o["1440p"].i18n_label),qualityIndex:6,size:1440,videoTitle:"Quad HD"},this.QUALITY_TYPES["Quad HD"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES[o.QL_VIDEO_FULLHD]={quality:o.QL_HIGH,i18n_quality:Object(n.i18n)(i.o["1080p"].i18n_label),qualityIndex:5,size:1080,videoTitle:"Full HD",audioTitle:"High",vimeoQuality:"1080p",zingTag:["1080p","label1080"],dailymotionQuality:"1080p",clipvnQuality:"5"},this.QUALITY_TYPES[o.QL_HIGH]=this.QUALITY_TYPES[o.QL_VIDEO_FULLHD],this.QUALITY_TYPES[o.QL_HIGHEST]=Object.assign({},this.QUALITY_TYPES[o.QL_VIDEO_FULLHD]),this.QUALITY_TYPES[o.QL_HIGHEST].qualityIndex+=.01,this.QUALITY_TYPES[o.QL_VIDEO_HD]={quality:o.QL_HIGH,i18n_quality:Object(n.i18n)(i.o["720p"].i18n_label),qualityIndex:4,size:720,videoTitle:"HD",audioTitle:"High",zingTag:["720p","label720"],vimeoQuality:"720p",dailymotionQuality:["hd","720p"],facebookQuality:["hd_src","hd_src_no_ratelimit"],JWQuality:"highquality",clipvnQuality:"4"},this.QUALITY_TYPES[o.QL_VIDEO_STANDARD]={quality:o.QL_MEDIUM,i18n_quality:Object(n.i18n)(i.o["480p"].i18n_label),qualityIndex:3,size:480,videoTitle:"Standard",audioTitle:"Standard",zingTag:["480p"],dailymotionQuality:"480p",vimeoQuality:"480p",facebookQuality:["sd_src","sd_src_no_ratelimit"],JWQuality:"location",clipvnQuality:"3"},this.QUALITY_TYPES[o.QL_VIDEO_MEDIUM]={quality:o.QL_MEDIUM,i18n_quality:Object(n.i18n)(i.o["360p"].i18n_label),qualityIndex:2,size:360,videoTitle:"Medium",audioTitle:"Medium",vimeoQuality:"360p",dailymotionQuality:"380p",zingTag:["source","360p"],JWQuality:"lowquality",clipvnQuality:"2"},this.QUALITY_TYPES[o.QL_VIDEO_SMALL]={quality:o.QL_LOW,i18n_quality:Object(n.i18n)(i.o["270p"].i18n_label),qualityIndex:1,size:240,altSizes:[270],videoTitle:"Small",audioTitle:"Low",dailymotionQuality:"240p",vimeoQuality:"270p",zingTag:["f","f240"],clipvnQuality:"1"},this.QUALITY_TYPES[o.QL_LOW]=this.QUALITY_TYPES[o.QL_VIDEO_SMALL],this.QUALITY_TYPES[o.QL_VIDEO_MOBILE]={quality:o.QL_LOW,i18n_quality:Object(n.i18n)(i.o["144p"].i18n_label),qualityIndex:0,size:144,altSizes:[180],videoTitle:"Mobile",audioTitle:"Low",dailymotionQuality:"144p",vimeoQuality:"",clipvnQuality:"0"},this.PREFERRED_QUALITY_INDEX={},this.PREFERRED_QUALITY_INDEX[o.QL_HIGH]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD].qualityIndex,this.PREFERRED_QUALITY_INDEX[o.QL_MEDIUM]=this.QUALITY_TYPES[o.QL_VIDEO_STANDARD].qualityIndex,this.PREFERRED_QUALITY_INDEX[o.QL_LOW]=this.QUALITY_TYPES[o.QL_VIDEO_SMALL].qualityIndex,this.DEFAULT_QUALITY_LEVEL=o.QL_HIGH,this.QUALITY_LEVELS=[o.QL_HIGH,o.QL_MEDIUM,o.QL_LOW],this.VIDEO_QUALITY_LEVELS=[o.QL_VIDEO_ULTRAHD,o.QL_VIDEO_FULLHD,o.QL_VIDEO_HD,o.QL_VIDEO_STANDARD,o.QL_VIDEO_MEDIUM,o.QL_VIDEO_SMALL,o.QL_VIDEO_MOBILE],this.DEFAULT_QUALITY_TYPE=o.QL_VIDEO_STANDARD}getFacebookQuality(e){var t;return null===(t=this._getVideoQuality("facebookQuality",e))||void 0===t?void 0:t.videoTitle}getDailymotionQuality(e){var t;return null===(t=this._getVideoQuality("dailymotionQuality",e))||void 0===t?void 0:t.videoTitle}getZingVideoQuality(e){var t;return null===(t=this._getVideoQuality("zingTag",e))||void 0===t?void 0:t.videoTitle}getZingAudioQuality(e){var t;return null===(t=this._getVideoQuality("zingTag",e))||void 0===t?void 0:t.audioTitle}getVimeoQuality(e){var t;return null===(t=this._getVideoQuality("vimeoQuality",e))||void 0===t?void 0:t.videoTitle}getClipvnQuality(e){var t;return null===(t=this._getVideoQuality("clipvnQuality",e))||void 0===t?void 0:t.videoTitle}getJWQuality(e){var t;return null===(t=this._getVideoQuality("JWQuality",e))||void 0===t?void 0:t.videoTitle}getQualityBySize(e){var t;return null===(t=this._getVideoQuality("size",e))||void 0===t?void 0:t.videoTitle}getSizeByQuality(e){return(this.QUALITY_TYPES[e]||{}).size||0}getI18nOfQuality(e){var t;return null===(t=this.QUALITY_TYPES[e])||void 0===t?void 0:t.i18n_quality}_getVideoQuality(e,t,r){for(var n in this.QUALITY_TYPES){var i=this.QUALITY_TYPES[n][e];if(Array.isArray(i)||(i=[i]),-1!==i.indexOf(t))return this.QUALITY_TYPES[n]}return r?null:this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]}_getTypeByQualityType(e){for(var t in this.QUALITY_TYPES)if(e===t||e===this.QUALITY_TYPES[t].videoTitle||e===this.QUALITY_TYPES[t].audioTitle)return this.QUALITY_TYPES[t];return this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]}_calculateWeight(e,t){var r,n=(null===(r=i.i[e.type])||void 0===r?void 0:r.extensions_weight)||[],o=n.indexOf(e.ext),a=this._getTypeByQualityType(e.quality||"").qualityIndex;return o/n.length+Math.abs(t-a)/7}getQualityLevelByType(e){return Object.keys(this.QUALITY_TYPES).indexOf(this._getTypeByQualityType(e).videoTitle)}getVideoQualityIndex(e){return this.VIDEO_QUALITY_LEVELS.concat().reverse().indexOf(e)}getOneClickQualityIndex(e){return this.QUALITY_LEVELS.concat().reverse().indexOf(e)}getQualityLevelByQualityType(e){return this._getTypeByQualityType(e).quality}getQualityIndexByVideoTitleQuality(e){return void 0!==this.QUALITY_TYPES[e]?this.QUALITY_TYPES[e].qualityIndex:this.getOneClickQualityIndex(e)}getQualityNameByResolution(e){var t=parseInt(e),r=Object.values(this.QUALITY_TYPES),n=r.find(e=>e.size===t||e.altSizes&&e.altSizes.includes(t));if(n)return n.videoTitle;var i=r.find(e=>e.size<t);return i?i.videoTitle:null}getQualityExtFromDowload(e){return(e.ext||"")+"/"+(e.quality||"")+"/"+(e.resolution||"")}chooseBestDownload(e,t,r){var n=e.length;if(r)for(var i=r.split("/").filter(e=>e).length>2,o=0;o<n;++o){var a=e[o],s=this.getQualityExtFromDowload(a);if(s===r)return a;if(i){var u=r.replace(/(.+)\/.+/,"$1");if(s.replace(/(.+)\/.+/,"$1")===u)return a}}t=t||this.DEFAULT_QUALITY_LEVEL;var c=e.filter(e=>"video"===e.type||"no_watermark_video"===e.type);c&&c.length||(c=e),n=c.length;for(var l=this.PREFERRED_QUALITY_INDEX[t],d=1e3,h=-1,p=0;p<n;++p){var f=c[p],m=this._calculateWeight(f,l);d>m&&(d=m,h=p)}return c[t.toLocaleLowerCase()===r?0:h]}}o.QL_HIGHEST="Highest",o.QL_HIGH="High",o.QL_MEDIUM="Medium",o.QL_LOW="Low",o.QL_VIDEO_ULTRAHD="Ultra HD",o.QL_VIDEO_FULLHD="Full HD",o.QL_VIDEO_HD="HD",o.QL_VIDEO_STANDARD="Standard",o.QL_VIDEO_MEDIUM="Medium",o.QL_VIDEO_SMALL="Small",o.QL_VIDEO_MOBILE="Mobile",t.b=new o},,function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return a}));var n=r(1);function i(e){return e.split(".").map(e=>parseInt(e))}function o(e,t){if(!e)return!1;var r=t.split(" ");if(2!==r.length)return!1;var n=-1;switch(r[0]){case">":n=1;break;case">=":n=0}var o,a,s,u=i(r[1]);return a=u,(0!==(s=(o=e)[0]-a[0])||0!=(s=o[1]-a[1])||0!=(s=o[2]-a[2])?s:s=o[3]-a[3])>=n}function a(e){var t=e.match(/Chrome\/([\d.]+)/);return t&&t[1]&&(t=i(t[1])),o.bind(null,t)}var s=function(e){var t=e.match(/Chrome\/([\d.]+)/);t&&t[1]&&(t=i(t[1]));var r=o.bind(null,t);return{YT:{mp4:!0,m4a:!0,webm:r(">= 39.0.2171.103"),weba:r(">= 39.0.2171.103")},M3U8:r("> 62.4.3202.180"),SOUND_ONLY:r("> 55.4.2883.114")||!!t&&50===t[0]&&r("> 50.3.2661.150"),SUBTITLES:r("> 55.4.2883.114")||!!t&&50===t[0]&&r("> 50.3.2661.150"),PLAY_NOW_BOTTOM_TOOLTIP:r("> 55.4.2883.126"),IS_ADS_PIP_PARAMS:r("> 60.4.3112.120"),MEDIA_WEB_REQUEST:r(">= 58.4.3029.118"),SERP_ADD_STRUCTURES:r(">= 62.4.3202.176"),SERP_ADD_INNER_STRUCTURES:r(">= 64.4.3282.200"),MOBILE_TRANSFER_PANEL:!0,CUSTOM_METRICS_JSON:r(">= 64.4.3282.236"),DASH_DOWNLOAD:r(">= 72.0.3626.130"),WEB_REQUEST_EXTRA_HEADERS:r(">= 72.0.0.0"),NATIVE_PIP:r(">= 74.0.0.0"),DOWNLOAD:{EXTRA_DATAS:r(">= 103.0.0.0"),M3U8_AUDIO:r(">= 109.0.0.0")},CHATGPT:r(">= 110.0.0.0"),DO_NOT_ONBOARD_YOUTUBE_ANTI_ADBLOCKER:r(">= 117.0.0.0"),DO_NOT_FAST_FORWARD_YOUTUBE_ADS:r(">= "+n.f),SRT_V3_SUPPORT:r(">= 121.0.0.0")}}(e.navigator.userAgent);t.a=s}).call(this,r(10))},,function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return p}));var n=r(3),i=r(0);r.d(t,"d",(function(){return i.query})),r.d(t,"e",(function(){return i.queryAll}));var o=r(4);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){return e&&e.getAttribute(t)||""}var c={isCocCocSerp:function(e){if(e)return Boolean(e.match(/(^(https|http):\/\/(dev[0-9]?\.)?coccoc.com\/search\?query=)(?!.*tbm).*$/i))},isGGAds:function(e){return Boolean(e.match(/^https:\/\/www\.(google\.com\/afs\/ads([\s\S]+master[\-A-Za-z\-0-9])*)|(((adsensecustomsearchads|google)\.com|syndicatedsearch\.goog)\/afs\/ads\?[\s\S]+&cont=search__ggsense)/i))},isCocCocComposer:function(e){return Boolean(e.match(/(^(https|http):\/\/(dev[0-9]?\.)?coccoc.com\/composer\?)(?!.*tbm).*$/i))},saveQueryId:function(e){o.a.remove("_serpid_on_coccoc"),e&&o.a.get("coccoc_query_id")!==e&&o.a.set("coccoc_query_id",e)},hasGGAdsIrames:function(e){var t,r=a(Object(i.queryAll)("iframe",e));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(p.isGGAdsOnCocCoc(null==n?void 0:n.src))return!0}}catch(e){r.e(e)}finally{r.f()}}},l=new RegExp("^(www\\.)?google\\.((com|ac|ad|ae|al|am|as|at|az|ba|be|bf|bg|bi|bj|bs|bt|by|ca|cc|cd|cf|cat|cg|ch|ci|cl|cm|cn|cv|cz|de|dj|dk|ee|fi|dm|dz|es|fm|fr|ga|ge|gf|gg|gl|gm|gp|gr|gy|hn|hr|ht|hu|ir|iq|ie|im|io|is|it|je|ki|kg|jo|kz|la|lt|lu|lv|li|lk|md|me|mg|mk|ml|mn|ms|mu|mv|mw|nl|no|nr|nu|pl|ne|pn|ps|pt|ro|rs|ru|rw|sc|se|sh|si|sn|sm|so|tk|tl|tm|to|tn|st|sk|tt|td|vu|ws|vg|tg|us)|(co((\\.(th|id|il|in|jp|ke|ma|kr|mz|ls|nz|tz|ug|uk|uz|ve|vi|za|zm|zw|ao|ck|bw|cr))|m\\.(pr|py|qa|sa|sb|sg|sl|sv|tj|tn|tr|tw|gh|gi|gt|hk|jm|kw|lb|lc|ly|mm|mt|mx|my|na|nf|ng|ni|np|om|pa|pe|ph|pk|pg|ua|uy|vc|vn|af|ag|ai|ar|au|bd|bh|bn|bo|br|bz|kh|co|cu|cy|do|ec|eg|et|fj))))$","i"),d=/[&?]q=[^&]/i,h=/^https:\/\/www.google.com\/afs\/ads/i,p={isSERPHost:function(e){return Boolean(e.match(l)&&!location.href.match(h)||c.isCocCocSerp(location.href))},isGGAdsOnCocCoc:function(e){return Boolean(c.isGGAds(e)&&c.isCocCocSerp(new URL(e).searchParams.get("rurl")))},isYSERPHref:function(e){return e&&Boolean(e.match(/(youtube.com\/results+[\s\S]+search_query=)/g))},isVideoSERPHref:function(e){return Boolean(e.match(/(https:\/\/www.google.+\/search)+[\s\S]+(tbm=vid)/g))||Boolean(e.match(/(https:\/\/www.google.+\/search)+[\s\S]+(vid:)/i))},isImageSERPHref:function(e){return Boolean(e.match(/(https:\/\/www.google.+\/search)+[\s\S]+(tbm=isch)/g))},isSERPRequest:function(e){var t,r,i=Object(n.g)(e);return Boolean(this.isSERPHost(i.host)&&(null===(t=i.pathname)||void 0===t?void 0:t.match(/\/s(earch)?/i))&&(null===(r=i.search)||void 0===r?void 0:r.match(d)))},getSearchParams:function(e){var t=Object(n.g)(e),r=Object(n.h)(t.search),o=Object(n.h)(t.hash||"#"),a=Object(i.defined)(o.q);return{_rawSearch:r,_rawHash:o,q:a?o.q:r.q||r.query||"",s:a?o.start||0:r.start||0,tbm:a?o.tbm:r.tbm&&"vid"!=r.tbm&&"isch"!=r.tbm||null,isXHR:r.tch,isHash:a}},isGGAds:function(e){return e&&/(^https:\/\/www\.google\.com\/afs\/ads([\s\S]+master[\-A-Za-z\-0-9])*)|(^https:\/\/googleads\.g\.doubleclick\.net\/pagead\/ads)|(^https:\/\/.+safeframe\.googlesyndication\.com\/safeframe)/i.test(e)},isCollectingAdSites:function(e){return e&&/^(https:\/\/((www\.)?(eva\.vn\/)|(vietnamnet\.vn\/)|(coccoc\.com\/webhp)))|(chrome:\/\/newtab\/)/i.test(e)}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"f",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"g",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"h",(function(){return l}));var n=["/pre-roll/","/preroll/","/ads/","||histats.com/","||adnetwork.vn/","||doubleclick.net/","||admicro/","||adnet.vn/","||ds-vn.serving-sys.com/","||lavanetwork.net/","||video.sgame.vn:8080/","blueseed.tv","||new-cdn.blueseed/","||vcmedia.vn/","||innity.net/","||serving-sys.com/","||ambientplatform.vn/","||gvt1.com/","||comment.dantri.com.vn/","||adsquangcao.com/","||facebook.com/connect","||facebook.com/plugins/likebox.php","||facebook.com/plugins/like.php","||cdn.cloudfrale.com","||www990.o0-2.com","||facebook.com/plugins/comments.php","||facebook.com/connect/xd_arbiter","||facebook.com/plugins/page.php","||facebook.com/v*/plugins/*","||googlesyndication.com","||qccoccocmedia.vn/","||coccoc.com/webhp##*","||coccoc.com/welcome##*","||meme.vn/##*","||ads.phimnhanh.net/","||adsquangcao.com/","||edgecastcdn.net/","||qccoccocmedia.vn/","||dev-qccoccocmedia.vn/","||media.adnetwork.vn/","||www.google.com/maps/embed","@@||vhosting.vcmedia.vn/","@@||vcplayer.vcmedia.vn/","@@||vscc.hosting.vcmedia.vn/","@@||vscc.dantri.hosting.vcmedia.vn/","@@||vscc-kenh14-hosting.vcmedia.vn/","@@||hls.vcmedia.vn/","##.adsbygoogle iframe","###adcontainer *","##.ad-container *",'##.facebook-top *, .fb-like-box *, iframe[title^="fb:like_box"]','##iframe[title^="fb:page"]','##[id^="AbdVideoPreroll"]','##[data^="player-ads"]','##[id^="google_ads_iframe_"]',"###pyv-iframe","##.box-ads *","##.ads *","##.video-ads *",'##iframe[onload*="google_iframe_oncopy"]','||youtube.com##[id*="sidebar-ads"] *',"||bit.ly/",'##[name*="zeroclipboard"],[data*="zeroclipboard"]',"||xemphimso.com/##.right-menu *","###AbdPopupAd_left iframe",'||phim.hayhd.vn/###adsdiv iframe,div[class*="ads"] iframe',"||nhaccuatui.com/##.box_right *,#banner-container-bottom *","||adxpansion.com/","||porn99.net##.content-right *","||thuvienanh.org/","||xemvtv.net/###ads-slider *",'||yeucahat.com/##div[id^="adscont"] *',"||sexad.net/","||ads.sex.com/",'||redtube.com/##div[id^="as_"] *','##object[id^="abdPopup"]',"||adnetwork.vn/",'##object[data*=".adnetwork.vn/"]',"||phim3s.net/##.ad_location *","||xhamster.com/###plAds *,.adVideo *,#adBottom *","||exoclick.com/","||trafficstars.com/","||traffichaus.com/","||trafficjunky.net/","||vivo.vn##.content-right-sidebar *","||pornhub.com/###pb_block *,.right-ads *",'||xemphimso.com/##[id^="ebAd"],#eyeDiv *','||vivo.vn/##div[class*="ads"] *',"||phim.hayhd.vn/###block-resize-sidebar *","||phim.hayhd.vn/##.container .col-sm-8+.col-sm-4 *","||pornhub.com,tube8.com,youporn.com,redtube.com###pb_template *","||nhac.vui.vn/##.colRight *","||tube8.com/##.blockHtml *","||vkool.net/##.float-ck *,.col-left *,#sidebar *, #boxes *","||comment.vietid.net/comments","||dantri.com.vn/comment","||dantri.com.vn/##.fr.w510 *",'||vnexpress.net/##[id*="_BANNER_"] *, .block_banner *',"||vnexpress.net/authen/users/guestpost",'||24h.com.vn/##[id*="ADS_"] *',"||ngoisao.net/###right *","||nhaccuatui.com/##.coverImage *","||phimsexporn.com/##.balloons-ck *","/twitter\\.com\\/.*cards\\/.*cardname=poll/","##.twitter-tweet.twitter-tweet-rendered",'##[id^="preroll"] *','##[id^="preroll-player_swf_0"]','##[class^="preroll"] *',"||adpoints.media","||media.yomedia.vn","goldendatagroup.*","||video-juice.com","##.jw-flag-ads > .jw-media > .jw-video","||zing.vn###highlight video",/[\s\S]\.danet.vn\/html\/embed/,/([\/\/]|_)blank|bg.mp4|manclub.mp4|AnimeTVN_P.mp4|main.mp4|init.mp4|blip2.ogg|chunklist(?!.m3u8)|([0-9]+s\.(mp4|m3u8|ogg))|black\.mp4|(wp-content\/uploads\/\d+\/\d+\/[a-zA-Z0-9\-_]+\.(mp4))|bichilltv\.com[\s\S]+\d+\.mp4/,"vividobj.*.cdnviet.com","vcdn.media.innity.net","ds-vn.serving-sys.com","###video-anchor_ad iframe","###pagelet_page_cover video","##.jw-flag-ads-googleima.jw-flag-ads *",/https?:\/\/www\.phimmoi\.net\/resource\/video\/blank\d+\.mp4/,"ads-pd.nbcuni.com",/adtool-premium\/creatives/,/banners[\s\S]*\.trafficfactory[\s\S]*\.mp4/,"contentabc.com","criteo.net","||coccoc.com/search##video[data-savior-token]","||force.com##iframe",'||drive.google.com##[role="main"] iframe:not([id*="video-player"])',"||zingmp3.vn##.Player.--z-video-ads .Player-content","@@||coccoc.com^$document","@@||suckhoedoisong.vn$image","@@||idplanguage.com$image","!PF - 2023","||unreshiramor.com^","!PF - 1740","@@||embed.dugout.com^","!PF - 2023","||unreshiramor.com^$popup,third-party","||hydracdn.network^$popup,third-party","/about:blank#/$popup,domain=22pixx.xyz|9anime.to|disk.ly|dood.to|dood.watch|fmovies.to|gogoanime.pro|hydracdn.network|imagetwist.com|mixdrop.co|mstream.xyz|popads.net|powvideo.net|powvldeo.cc|putlocker.style|run-syndicate.com|spcdn.cc|steamplay.cc|streamtape.com|upstream.to|uptostream.com|vev.io|vev.red|vevo.io|vidcloud.co|videobin.co|videowood.tv|viditodo.com|vidoza.net|vidup.io|vortez.net|vshare.eu|watchserieshd.tv|unreshiramor.com","about:blank","||fdrgtt9edmej010.com","||ribunews.com","||itnuzleafan.com","||yougotacheck.com","||derevya2sh8ka09.com","||syndication.realsrv.com","||prismgadnarc.icu","!PF - 2683","dantri.com.vn#@#.ng-isolate-scope","!PF-2084 - open for savior",'@@||video.kenh14.vn,div^$[class*="ads"]',"!PF - 860","||buy.tinypass.com^$third-party,domain=insider.com","!Not whitelist for Coc Coc adnetword in strict mode","!@@||cdn2.cache.vn/banners/sspAnetTest/cc_ssp_new.js","!@@||static.adconnect.vn/main.js ",'docs.google.com#@#iframe[src="about:blank"]',"@@||tuyensinh247.com/$image,third-party","||jarvispopsu.com^","||03ed9035a0801f.com^","||widow5blackfr.com^","||thanosofcos5.com^","truyenaudiocv.net#$#abort-current-inline-script adblockDetect","truyenaudiocv.net#@#.adsbygoogle","levelmaxblock.js","||se.lingoeroily.com^$third-party","||aloetichansels.casa^$third-party","||glixaing.com^","||yonsandileer.com^","||itheatmoran.com^","||fieldofbachus.com^","||se42ade5e3son7ing.com^","||03ed9035a0801f.com^","||pubmaner5.com^","||susifhfh2d8ldn09.com^","||osshydreigonan.com^","||log.videocampaign.co^","||graizoah.com^","||hoanoola.net^","||agacelebir.com^","||se.lingoeroily.com^","||gpcdreunite.casa^","||zinblemedia.fuse-cloud.com^","||egreephu.com^","||agurgeed.net^","||dartarscuspids.casa^","||ayyubidgconv.casa^","||sillyflowermachine.com^","||stawhoph.com^","||rotabol.com^","||hadesleta.com^","||03ed9035a0801f.com^","||nyalacornily.cam^","||codedexchange.com^$script,third-party","||streetcoddiffident.com^$script,third-party","||tsardagger.com^$script,third-party","||onemboaran.com^$script,third-party","||nyalacornily.cam^$script,third-party","||nomorepecans.com^$script,third-party","||onmarshtompor.com^$third-party","||zo.ogamdidacts.com^$third-party","||quenchskirmishcohere.com^$third-party","||highmaidfhr.com^$third-party","||kgdvs9ov3l2aasw4nuts.com^$third-party","sex-hay.pro,phimsex7.net##.float-ck","cdnx.stream###banner","biphims.tv###overlay",".onetouch7.info","/asset/jquery/slim-3.2.min.js","/asset/vue.min.js?ts=1&_","xnxx-sex-videos.com/a$script","m.phimsexsub.info,phimsexsub.info###a-player","!snippet script","vcomic.net#$#abort-on-property-read window.canRunAds","hataphim.com#$#abort-on-property-write mdpDeBlocker","xnxx-sex-videos.com#$#abort-on-property-write user_out","!Fix salaphim.com","@@||salaphim.com/application/player/js/vastvideoplugin.js","@@||salaphim.com^*.gif$image","@@||salaphim.com^*.php$xmlhttprequest","!Adding rules for vieon.vn","@@||imasdk.googleapis.com/js/sdkloader/ima3.js","!Fix 20210906: biphimz.tv, phim33.co, vlogtruyen.net, phim7z.tv, biphims.tv, hpjav.tv, phephims.net, ailovemanga.com, vlive.tv, vidembed.cc, live90.live, fancoiphim.net, cakhiatv.live, hdzog.com, upornia.com","||xq.ypocrasbywalk.com^$third-party","||phim33.co$popup","||phim33.co/Theme/js/popup.js","||vlogtruyen.net$popup","||au.withyarryish.com^$third-party",'hpjav.tv##iframe[src*="stunninglover.com"]',"fardhvarment.com^$third-party","||rosteldicycle.cam^$third-party","vlive.tv###loginDimmedArea","vlive.tv##.ly_promotion","||chaingab.net^$third-party","live90.live###modalAds","live90.live##.fade-ads","||fancoiphim.net$popup","afon/rass$script","||upornia.com/niasffti/jcfxdexak.js","!Fix 20210916","phimhdvnz.net#$#abort-current-inline-script jQuery /#wrapper/","truyentranh86.com#$#abort-on-property-read document.body","201tube.tv#$#abort-on-property-read document.body","hataphim.com#$#abort-on-property-write mdpDeBlocker","@@||steamforvietnam.org^","@@/api/tracking/*$domain=steamify.steamforvietnam.org","||truyen3s.com/content/js/custom.js","||truyen3s.com/content/js/script.js","truyen3s.com#$#abort-on-property-read document.body","truyen3s.com#$#abort-on-property-read document.documentElement","@@*vast.js$domain=phimchat.vip|phimchat.club","@@/video_ads.$domain=phimchat.vip|phimchat.club","!Fix 20210922","@@$script,xmlhttprequest,domain=napthengay.vn","||bicepsseiner.com^",'dualeotruyen.top##[id^="popup_banner"]',"rakhoi1.tv,cakhia10.tv,cakhia.xyz,cakhia9.tv,rakhoi.tv,cakhiatv.live,cakhialive.tv,cakhia6.tv,cakhia8.tv,cakhia20.tv##.modal-ads","rakhoi1.tv,cakhia10.tv,cakhia.xyz,cakhia9.tv,rakhoi.tv,cakhiatv.live,cakhialive.tv,cakhia6.tv,cakhia8.tv,cakhia20.tv##.slide-bar-top-live-hide-mobi","rakhoi1.tv,cakhia10.tv,cakhia.xyz,cakhia9.tv,rakhoi.tv,cakhiatv.live,cakhialive.tv,cakhia6.tv,cakhia8.tv,cakhia20.tv##.footer-banner",'rakhoi1.tv,cakhia10.tv,cakhia.xyz,cakhia9.tv,rakhoi.tv,cakhiatv.live,cakhialive.tv,cakhia6.tv,cakhia8.tv,cakhia20.tv##div[class^="slide-bar-"]',"rakhoi1.tv,cakhia10.tv,cakhia.xyz,cakhia9.tv,rakhoi.tv,cakhiatv.live,cakhialive.tv,cakhia6.tv,cakhia8.tv,cakhia20.tv##.adHTML2","rakhoi1.tv,cakhia10.tv,cakhia.xyz,cakhia9.tv,rakhoi.tv,cakhiatv.live,cakhialive.tv,cakhia6.tv,cakhia8.tv,cakhia20.tv##.adHTML4","rakhoi1.tv,cakhia10.tv,cakhia.xyz,cakhia9.tv,rakhoi.tv,cakhiatv.live,cakhialive.tv,cakhia6.tv,cakhia8.tv,cakhia20.tv##.adHTML3","xuongphim18z.net##.modal-backdrop","###quang-cao","xuongphim18z.net###pc-preload-modal","truyentranh8.org#$#abort-on-property-read document.body","vuvitv.net,animevisub.net###modal-block-ads-msg","vuvitv.net,animevisub.net##.modal-backdrop","@@/vast.$script,xmlhttprequest,domain=vuianime.net","@@player.vuianime.net/ads_code","bilutvx.net##.abp-ballon","proporn.com##.puFloatLine","/js/ads.js","/asset/angular.min.js$domain=websextop.com","||sexfrisk.com/bounce.js","truyenqqtop.com##.left-banner","/js/upload/main.v2.min.js$domain=s1.zendplace.pro","z.phimsexsub.info##.clipxx","xoso88.tv##.banner","xoso88.tv##.ads_home","!Fix 20210929","xvideo-xxx.com#$#abort-on-property-write user_out","/asset/angular.min.js?t=","||z.phimsexsub.info/pp/puinfo.js","z.phimsexsub.info###htmlctry",'z.phimsexsub.info##div[style*="height: 255px;"]',"@@/1x1.png$domain=miti.vn","ngentotxsex.com#$#abort-on-property-write user_out","@@||mv.vkool.net^$image","!Fix 20211001",'phimlau.online##a[href^="///"][rel="nofollow norefferer noopener"]',"||mg.ratchgablet.com^$script","||sofinpushpile.com^$third-party","@@/advert/*$domain=nimec.gov.vn","!Fix 20211006","sexbombo.com#$#abort-on-property-write user_out","||asg.bhabhiporn.pro^","truyen86.com#$#abort-on-property-read document.body","truyen86.com#$#abort-on-property-read window.canRunAds","xuongphim18z.com###quang-cao","xuongphim18z.com###pc-preload-modal","xuongphim18z.com#$#abort-on-property-read document.cookie","vivutv.net#$#abort-on-property-write popups","@@||gstatic.com^$third-party,domain=google.com","@@||google.com/display-ads-","@@weiyun.com$generichide","@@||gateway.chotot.com^","||ig.lurefuleuryon.com^$script","||lm.anywaypimpish.com^$script","ssphim.net##.uniad-zonetype-preload-overlay","ssphim.net##.uniad-zonetype-preload-container","||dendrafilterednthe4edm7um.com^$script","mitom2.tv#$#abort-current-inline-script jQuery popupBanners","||cdn.hurirk.net/static/js/amvn.js","||playersb.com/js/jquery/jquery-1.4.1.min.js","violet.vn###previewad","||yg.humorersingult.com^","||subnhanh.net/js/ads_xx.js","logo.png$popup,domain=animehay.site","||olivcytyspixd.xyz^$third-party","||casyxndfiyb.xyz^$third-party","gamevui.vn###underplayad","gamevui.vn###topplayad","gamevui.vn###adindexsecond","gamevui.vn###adindextop","gamevui.vn###adrightthird","gamevui.vn###adrighttop","||hu.bathingrefont.com^$script","xoilac1.tv#$#abort-current-inline-script jQuery popupBanners","xoilac1.tv#$#abort-on-property-write adsRedirectPopups","mitom1.tv#$#abort-current-inline-script jQuery popupBanners","mitom1.tv#$#abort-on-property-read adsRedirectPopups","||untimburra.com^$script","||t.dtscout.com^$script","javmup.net#$#abort-current-inline-script Math","||lu.oppleteniffers.com^$script","websosanh.vn#@#.ads-wrap","||x2sfa.javgg.eu^","||id.fc2-ppv.live^$script","||japopav.tv/js/jquery/3.6.0/jquery-1.4.1.1.min.js","||hdvietsub.net/wp-content/themes/movies/js/qcphd.js",'youtube.com#@#div[id^="sponsor-"]',"lucaphim.com,salaphim.com##.dont_show_pop_ups","@@||lucaphim.com^*.php$xmlhttprequest","||fw.noritesroyally.com^$script","||cg.nonentnastier.com^$script","||ay.cydoniarouting.com^$script","xoilac2.com#$#abort-current-inline-script jQuery popupBanners","xoilac2.com#$#abort-on-property-write adsRedirectPopups","phimgii.net###preload-11bet-pc","||lr.heavedmealock.com^","motphimtv.com##.mp-adz","@@$script,domain=game24h.vn","game24h.vn#@#.adsbyvli",'game24h.vn##[data-id="vi-smartbanner-unit"]',"chill.popv.js$script","@@$script,XMLHTTPREQUEST,domain=myreadingmanga.info","iphimmoi.net###popup-giua-man-hinh","iphimmoi.net#$#abort-current-inline-script $ /#btn-film-watch/","dualeotruyentv.com###popup_banner_beta","@@/video_ads.$domain=phimchat.vip|phimchat.xyz","@@||p.jwpcdn.com/player/plugins/vast/$domain=phimchat.vip|phimchat.xyz","@@||imasdk.googleapis.com^$domain=baogiaothong.vn","||rw.preopensorrel.com^$script","hypebeast.com#@#.ad-blocked","@@/storage.adpia.vn/$image,domain=mail.google.com","phephimzz.net##.mp-adz","phephimzz.net##.sda-preload-popup","phephimzz.net##.sda-preload-popup-overlay","phimplay.com#$#abort-current-inline-script jQuery /#itro_popup/","phimplay.com#$#abort-on-property-write amf","@@/quangcao/*$domain=hanoicdc.gov.vn","||us.operonsablate.com^","phimsexkhongche.club#$#abort-on-property-write customDB","sex333.net#$#abort-current-inline-script Math","||kenhvn2.com/js/v3$script","javhd.today###closeButton","luotphim.fun,luotphim.cc,luotphim.vip,luotphimzz.com,webphim.cc#@##fakeplayer","@@||luotphim*/wp-content/uploads/$media","##.adsphim-popup-center","chill.popv.js$script","chillnew.popv.js$script","jav1s.net#$#abort-current-inline-script Math","||sqacbhlngoxw.com^$script,third-party","||ygnnqkxheq.com^$script,third-party","dood.sh#$#abort-on-property-write DoodPop","/ads/ad.js","vn.phimsexsub.info##.clipxx","vn.phimsexsub.info#$#abort-on-property-read pss.add","hentaiz.top##.position-fixed","||cresfpho2ntesepapillo3.com^$script","||opencoccoc.com^$script","mephimtrungz.com##[id^=sponsor-]","||auspiceguidance.com^$script","javhdporn.net###player_3x2_container_inner","adserver.*ads.*","||ip.shoversnobs.com^$script","||yf.seitsinlike.com^$script","||yulunanews.name^$script","||zf.indeftroppo.com^","||ephimmoi.net/wp-content/cache/wpfc-minified/2darkmog/6lbb1.js","||ephimmoi.net/wp-content/cache/wpfc-minified/jnnvv5cn/6lbb0.js","xemphimvn2.com,fullfim.net,xemphimz.net,aphimmoi.org,vn2.vn,fullphim.co,phimzhay.net,vn2phim.net,vn2phim.com,motfim.net,phimvn2.net,phimvn2.org,aphimmoi.net,aphimmoi.com,xemphimvn2.net,phim.vn2.vn#$#abort-on-property-read window.google_ad_status","finance.vietstock.vn###allsite_anchor_bottom","sosanhgia.com##.grid-ads","||fr.neebourinthrow.com^$script","||je.zizzlescomplex.com^$script","phim18hd.com##.top-pc-banner","dualeotruyen.tv###popup_banner_beta","sexdiary.xyz#$#abort-on-property-read document.body","||sinmgaepu3or9a61w.com^","||fofyphugi.com^","||chitaglipti.pro^$script","||ta3nfsordd.com^$script","xnxxz.net#$#abort-current-inline-script Math /atob|break/","@@/pubads.*vtvcab.vn*","@@||search.spotxchange.com*vtvcab.vn*","||accounts.google.com##audio",'||*.google.com*/search##video[src*="encrypted-vtbn0.gstatic.com/video?"]',"||coccoc.com/search/about-us##video","||*.coccoc.com/about-us##video","||*quizz.coccoc.com##video","||youtube.com##.miniplayer video","||onetouch.mic.gov.vn##video","||onetouch.mic.gov.vn##iframe","||mydns.playpdc.xyz/video/","||wizardunstablecommissioner.com/watchnew",'||*##iframe[src*="/recaptcha/api"]','||*##iframe[src*="funcaptcha.com"]','||*##iframe[src*="octocaptcha.com"]','||youtube.com##iframe[src^="/live_chat"]','||*vnexpress.net##iframe[src*="vnexpress.net/authen"]','||*##iframe[src*="/authen/users/login"]','||vtc.vn##iframe[src^="javascript:"]','||dantri.com.vn##iframe[src*="gadgets.dantri.com.vn/polls"]','||24h.com.vn##video[src*="/upload/html"]',"cdn.thoctv.com",/scontent.cdninstagram.com.+\&bytestart\=.+\&byteend\=.+/],i=["||mail.google.com/","||docs.google.com/","||dropbox.com/","||meme.vn/"],o=["||soundcloud.com##.playControls","||zingmp3.vn##.video-minimize video","||musicbed.com##img","||oxfordlearnersdictionaries.com##.audio_play_button",'||artgrid.io##video[id^="video_"],#main-clipvideo_9999999999999_html5_api','||coccoc.com/about-us##[id^="youtube-player-"]',"||instagram.com/explore##video",'||instagram.com##a[role="link"] video',"||**##audio","||dantri.com.vn##div,article","||tienganh123.com##span"],a=["||fptplay.net/##.hls-playback embed","||pubvn.tv/bar/threads/##iframe#player","||www.24h.com.vn/###player_video_kieu_moi iframe",'||facebook.com/##iframe[src^="https://attachment.fbsbx.com/external_iframe.php"]',"||coccoc.com/search##video[data-savior-token]","@@www.blogger.com/video.g?*","@@www.youtube.com/embed/*","@@www.dmm.co.jp/service/*",/i1-kinhdoanh.vnecdn.net\/.+\/.+?\.gif/,"@@xh.video/*"],s=[/video\.fhan.*?\.fna\.fbcdn\.net/,"/.[\\s\\S]{0,100}dailymotion.*\\/frag\\(\\d+\\)\\//","||fb88.mp4",/https?:\/\/(!=redirector)\.googlevideo\.com\/videoplayback?.+&source=youtube.+/,"||vimeocdn.com/","||clip.vn/","||subs.xemphimonlines.com/","||dmxleo.dailymotion.com/","||nhacrap.tv/","||nixcdn.com/","||zdn.vn/","/fptplay\\.net\\/.*?seg\\d*-frag\\d*/","/hlscache\\.fptplay\\.net(?:\\.vn)?\\//","/49ef4358-e34d-484f-a18e-495cd9fe3817","/75247339-7897-437d-9627-55b1a1528700","http://www.phimmoi.net/resource/video/blank.mp4","http://xemvtv.net/kaka/blank2.mp4",/https?:\/\/.+\.gvt1\.com\/videoplayback\/.+/,/https?:\/\/.+\.2mdn\.net\/videoplayback\/.+/,/\.[\s\S]{0,1000}RomanoHangoutNew15s7\.mp4$/,/blank_video/,/media\/beacon\.webm/,/https:\/\/cdn2?\.cache\.vn\/skin\/.+\.mp4/,"||mail.google.com/","||docs.google.com/","||drive.google.com/","||dropbox.com/","||fptplay.net/livetv","||twitch.tv","@@||twitch.tv/videos/","||talktv.vn","@@||talktv.vn/video/","garena.live","www.dkn.tv","xemphimso.com"],u=[/^https:\/\/(www\.)?tiktok.com\/@[^/]+$/,/^https:\/\/(www\.)?instagram.com\//i,/^https:\/\/(www\.)?lazi.vn\//i],c=[/docs\.google\.com/,/.+\.sharepoint\.com\/:p:\//],l=[/(www\.)?youtube\.com/,/(www\.)?hayko\.tv/,/(www\.)?boyfriendtv\.com/,/(www\.)?kuaishou\.com/,/(www\.)?theyounglove\.com/]},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},,function(e,t,r){"use strict";(function(e){var n=r(15),i=r(4),o=r(0),a=r(1),s=r(26);function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new A(i||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h={};function p(){}function f(){}function m(){}var v={};c(v,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&r.call(b,o)&&(v=b);var y=m.prototype=p.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;n(this,"_invoke",{value:function(n,o){function a(){return new t((function(i,a){!function n(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=D(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function D(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,D(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m,n(y,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:f,configurable:!0}),f.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var c=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},l={ad_filter:"",hide_savior:"hide-widget",disable_pin_rx:"disallow-pip",disable_savior_rx:"disable_savior_sites"},d=["disallow-pip","disable_savior_sites"];t.a=new class{constructor(){this.extra={},this._loadRules(n.a),this._loadRules(n.f,"pip"),this._loadRules(n.c,"pip-allowfullscreen-false"),this._loadRules(n.g,"requests"),this._loadRules(n.e,"hide-widget"),this._loadRegex(n.d,"disallow-pip"),this._loadRegex(n.b,"disable_savior_sites"),this.loadCustomRules()}loadCustomRules(){return c(this,void 0,void 0,u().mark((function t(){var r,n,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Storage.get(["ADLIST_CUSTOM_RULE"]);case 2:if(r=t.sent,(n=(null==r?void 0:r.ADLIST_CUSTOM_RULE)||{}).timestamp&&!(n.timestamp+288e5<Date.now())){t.next=17;break}if(e.IS_CONTENT_SCRIPT){t.next=17;break}return"https://browser.coccoc.com/api/savior/rules",t.prev=7,t.next=10,fetch("https://browser.coccoc.com/api/savior/rules",{mode:"no-cors"}).then(e=>e.json());case 10:(c=t.sent)&&(c.timestamp=Date.now(),i.a.set("ADLIST_CUSTOM_RULE",c),n=c),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),console.warn("Caught an error",t.t0);case 17:Object.keys(n).forEach(e=>{var t=l[e];if("string"==typeof t){if(d.includes(t))return void this._loadRegex(n[e],e);this._loadRules(n[e],t||void 0),delete n[e]}});try{n.youtube_logic&&("object"!=typeof n.youtube_logic&&(n.youtube_logic=JSON.parse(n.youtube_logic||"{}")),i.a.set(a.q,n.youtube_logic)),n.custom_control&&("object"!=typeof n.custom_control&&(n.custom_control=JSON.parse(n.custom_control||"{}")),i.a.set(a.b,n.custom_control)),delete n.timestamp,delete n.custom_control,delete n.youtube_logic,Object.keys(n).length&&i.a.set(a.k,n)}catch(e){}e.IS_CONTENT_SCRIPT||s.a.loadTestsFromServer();case 20:case"end":return t.stop()}}),t,this,[[7,14]])})))}check(e,t){var r=t?this.extra[t]:this.rules;return this._testRules(e,r)}checkWhite(e,t){var r=t?this.extra[t]:this.rules;return this._testWhiteList(e,r)}checkRegex(e,t){var r=this.extra[t];return!(!r||!Array.isArray(r)||"string"!=typeof e)&&r.some(t=>t instanceof RegExp&&t.test(e))}shouldWidgetAttachToParentNode(e){return n.h.some(t=>t.test(e))}shouldDisableSavior(e){return(this.extra.disable_savior_sites||n.b).some(t=>t.test(e))}_loadRules(e,t){var r=this._parseFilters(e);if(t){if(!this.extra[t])return void(this.extra[t]=r);var n=this.extra[t];if(Array.isArray(n))return;this._appendRules(n,r)}else{if(!this.rules)return void(this.rules=r);this._appendRules(this.rules,r)}}_appendRules(e,t){e.blCosmetics.push(...t.blCosmetics),e.blUrls.push(...t.blUrls),e.wlCosmetics.push(...t.wlCosmetics),e.wlUrls.push(...t.wlUrls)}_loadRegex(e,t){Array.isArray(e)&&t&&(this.extra[t]||(this.extra[t]=[]),this.extra[t].push(...e))}_testRules(e,t){if(!t)return!1;var r;if("string"==typeof e?r=e:(e.src||e.href)&&(r=e.src||e.href),null==r?void 0:r.startsWith("data:"))return!!/^data:(audio|video)/i.test(r);if(r){for(var n=t.wlUrls.length,i=0;i<n;i++)try{if(t.wlUrls[i].test(r))return!1}catch(e){}n=t.blUrls.length;for(var o=0;o<n;o++)try{if(t.blUrls[o].test(r))return!0}catch(e){}}if(!(e instanceof EventTarget))return!1;for(var a=e.ownerDocument.location.href,s=0;s<t.wlCosmetics.length;s++)try{var u=t.wlCosmetics[s];if(("~"===u.domain[0]&&a.match(u.domain.substr(1))||a.match(u.domain))&&u.selectors.some(e.matches.bind(e)))return!1}catch(e){}for(var c=0;c<t.blCosmetics.length;c++)try{var l=t.blCosmetics[c];if(("~"===l.domain[0]&&a.match(l.domain.substr(1))||a.match(l.domain))&&l.selectors.some(e.matches.bind(e)))return!0}catch(e){}return!1}_testWhiteList(e,t){if(!t)return!1;var r;if("string"==typeof e?r=e:(e.src||e.href)&&(r=e.src||e.href),r)for(var n=t.wlUrls.length,i=0;i<n;i++)try{if(t.wlUrls[i].test(r))return!0}catch(e){}if(!(e instanceof EventTarget))return!1;for(var o=e.ownerDocument.location.href,a=0;a<t.wlCosmetics.length;a++)try{var s=t.wlCosmetics[a];if(("~"===s.domain[0]&&o.match(s.domain.substr(1))||o.match(s.domain))&&s.selectors.some(e.matches.bind(e)))return!0}catch(e){}return!1}_convertWildcard(e){if(/^\/.*?\/$/.test(e)&&/[[\\(){}]/.test(e))return new RegExp(e.replace(/^\/|\/$/g,""),"i");var t=e.replace(/[.?+\\[{()]/g,e=>"\\"+e).replace(/\^/g,"[\\w\\d_.%-]").replace(/\*/g,".*").replace(/\|\|/g,"^\\w+://([\\d\\w-]+\\.)*").replace(/\|/g,"$");return new RegExp(t,"i")}_getParsingRegex(){if(this.regex)return this.regex;return this.regex=new RegExp("^\\s*(@@)?(/(?:[^/]|\\\\/)+/|(?:[^#$]+|#(?!#))+)?(?:(#@#|##)([^$]+))?(?:\\$(.*))?\\s*$","i"),this.regex}_parseFilters(e){var t=e;"string"==typeof e&&(t=e.split(/[\r\n]+/));for(var r={blUrls:[],wlUrls:[],blCosmetics:[],wlCosmetics:[]},n={"":{bl:[],wl:[]}},i=0;i<t.length;i++){var o=t[i];if(!/^\s*!|^\s*\[.*?\]\s*$/.test(o)){var a=void 0;try{if(!(a=this._getParsingRegex().exec(o)))throw new Error}catch(e){console.warn("AdFilter: could not parse adblock rule: "+o);continue}var s={whitelist:a[1],url:a[2],separator:a[3],selector:a[4],comment:a[5]};if(s.separator)for(var u=s.url?s.url.split(/,/):[""],c=void 0,l=0;l<u.length;l++)(c=u[l])in n||(n[c]={bl:[],wl:[]}),c=n[c],"#@#"===s.separator?(s.whitelist||n[""].wl.push(s.selector),c[s.whitelist?"bl":"wl"].push(s.selector)):c[s.whitelist?"wl":"bl"].push(s.selector);else{if(!s.url)continue;var d="@@"===s.whitelist?r.wlUrls:r.blUrls;try{var h=this._convertWildcard(s.url);d.push(h)}catch(e){}}}}for(var p=Object.keys(n),f=0;f<p.length;f++){var m=p[f],v=n[m];if(v.bl.length)try{r.blCosmetics.push({domain:this._convertWildcard(m),selectors:n[m].bl})}catch(e){}if(v.wl.length)try{r.wlCosmetics.push({domain:this._convertWildcard(m),selectors:n[m].wl})}catch(e){}}return r}}}).call(this,r(10))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,d=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(62),i=r(63),o=r(53);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return L(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var d=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function _(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function w(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return w(e,t,r,n)}function D(e,t,r,n){return H(q(t),e,r,n)}function C(e,t,r,n){return H(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),d=0;d<s;++d)if(c[d]!==l[d]){o=c[d],a=l[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return D(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function S(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=U(e[o]);return i}function O(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function B(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,o){return o||B(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function P(e,t,r,n,o){return o||B(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);k(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);k(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:j(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(10))},function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,a,s;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(o(t,"type"))}return s+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var i=r(41),o=r(45);r(16)(c,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var u=a[s];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r(19))},,,,function(e,t,r){"use strict";var n=r(1),i=r(4),o=r(48),a=r.n(o);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=20,l=new Date;if(l.getMonth()>=8){c=5;var d=l.getDate();d>=8&&(c=2),d>=11&&(c=1)}class h{constructor(){this.tests={ytdlservice:{groups:["A"],buckets:c},coccocTVonboarding:{groups:["A","B"],buckets:20},coccocTVMovieonboarding:{groups:["A",null,null,null,null,null,null,null,null,null,"B",null,null,null,null,null,null,null,null,null],buckets:20}},this.loadTestsFromServer(),this.cookies={},this.forced={}}loadTestsFromServer(){var e=i.a.get(n.k)||{};i.a.get(n.b);e.ab_test_data&&Object.entries(e.ab_test_data).forEach(e=>{var t=s(e,2),r=t[0],n=t[1];n.groups&&n.buckets&&(this.tests[r]=n)})}processRequest(e){var t=e.testName;return t?this.getCookies().then(this.getTest.bind(this,t)):Promise.reject("No test name")}getCookies(){return new Promise((e,t)=>{chrome.cookies.getAll({url:"https://coccoc.com"},r=>{var n=r.find(e=>"uid"===e.name),i=r.find(e=>"forceAB"===e.name);if(n&&n.value){if(this.cookies={uid:n.value},i&&i.value){this.cookies.forceAB=i.value;try{var o=decodeURIComponent(this.cookies.forceAB);this.forced=h.parseForcedTests(o)}catch(e){console.warn("Cannot parse forced tests")}}e()}else t("No uid cookie")})})}getTest(e){var t=this.forced[e];if(void 0!==t){var r=this.tests[e]?this.tests[e].groups[t]:null;return Promise.resolve({group:t,groupName:r})}var n=this.tests[e];if(!n||n.time&&n.time.end&&(Date.parse(n.time.end)<Date.now()||n.time&&n.time.start&&Date.parse(n.time.start)>Date.now()))return Promise.resolve({group:null});var i=h.generateGroup(n.groups,n.buckets,this.cookies.uid,e);if(!i)return Promise.resolve({group:null});var o=n.groups.indexOf(i);return Promise.resolve({group:o,groupName:i})}static generateGroup(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e[parseInt((new a.a).update(r+String(n)).digest("hex").slice(-12),16)%t]||null}static parseForcedTests(e){return(e||"").split(",").filter(Boolean).reduce((function(e,t){var r=t.split(":");return e[r[0]]=Number(r[1]),e}),{})}}t.a=new h},,function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(20),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var i,o,a,s;if(c(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=v(u,c);for(r=0;r<c;++r)o(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,o,a;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";var n=r(28).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";var n=r(21).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,d=!0,s||o.call(t)},p=function(e){o.call(t,e)},f=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",f),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},c.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,o),!0;case 6:return l.fn.call(l.context,t,r,n,o,a),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,n);break;default:if(!u)for(h=1,u=new Array(d-1);h<d;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},c.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},c.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||u(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==t||n&&!a[s].once||r&&a[s].context!==r)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},,,,,,,,,function(e,t,r){"use strict";(function(t,n){var i;e.exports=T,T.ReadableState=C;r(29).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=r(42),s=r(20).Buffer,u=t.Uint8Array||function(){};var c,l=r(65);c=l&&l.debuglog?l.debuglog("stream"):function(){};var d,h,p,f=r(66),m=r(43),v=r(44).getHighWaterMark,g=r(21).codes,b=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(16)(T,a);var E=m.errorOrDestroy,D=["error","close","destroy","pause","resume"];function C(e,t,n){i=i||r(22),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",n),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(30).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function T(e){if(i=i||r(22),!(this instanceof T))return new T(e);var t=this instanceof i;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function A(e,t,r,n,i){c("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?S(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}(e,a);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(a,t)),o)E(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)a.endEmitted?E(e,new w):x(e,a,t,!0);else if(a.ended)E(e,new y);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):R(e,a)):x(e,a,t,!1)}else n||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),R(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=m.destroy,T.prototype._undestroy=m.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),A(this,e,t,!1,r)},T.prototype.unshift=function(e){return A(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){d||(d=r(30).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(O,e))}function O(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function R(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(k,e,t))}function k(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){c("readable nexttick read 0"),e.read(0)}function B(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function M(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):S(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&M(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){E(this,new _("_read()"))},T.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?u:v;function s(t,n){c("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",f),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",v),r.removeListener("data",h),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,N(e))}}(r);e.on("drain",l);var d=!1;function h(t){c("ondata");var n=e.write(t);c("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!d&&(c("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function p(t){c("onerror",t),v(),e.removeListener("error",p),0===o(e,"error")&&E(e,t)}function f(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",f),v()}function v(){c("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",f),e.once("finish",m),e.emit("pipe",r),i.flowing||(c("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=j(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?S(this):i.reading||n.nextTick(F,this))),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(I,this),r},T.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(I,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(B,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<D.length;o++)e.on(D[o],this.emit.bind(this,D[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(68)),h(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=P,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===p&&(p=r(69)),p(T,e,t)})}).call(this,r(10),r(19))},function(e,t,r){e.exports=r(29).EventEmitter},function(e,t,r){"use strict";(function(t){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(n,a):(a._writableState.errorEmitted=!0,t.nextTick(r,a,e)):t.nextTick(r,a,e):o?(t.nextTick(n,a),o(e)):t.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,r(19))},function(e,t,r){"use strict";var n=r(21).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";(function(t,n){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=T,T.WritableState=C;var a={deprecate:r(54)},s=r(42),u=r(20).Buffer,c=t.Uint8Array||function(){};var l,d=r(43),h=r(44).getHighWaterMark,p=r(21).codes,f=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,g=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,y=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,w=p.ERR_UNKNOWN_ENCODING,E=d.errorOrDestroy;function D(){}function C(e,t,a){o=o||r(22),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(R,e,t),e._writableState.errorEmitted=!0,E(e,i)):(o(i),e._writableState.errorEmitted=!0,E(e,i),R(e,t))}(e,r,i,t,o);else{var a=S(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||L(e,r),i?n.nextTick(x,e,r,a,o):x(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function T(e){var t=this instanceof(o=o||r(22));if(!t&&!l.call(T,this))return new T(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function A(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function L(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)o[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;o.allBuffers=u,A(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,d=r.callback;if(A(e,t,!1,t.objectMode?1:c.length,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=S(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(16)(T,s),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===T&&(e&&e._writableState instanceof C)}})):l=function(e){return e instanceof this},T.prototype.pipe=function(){E(this,new g)},T.prototype.write=function(e,t,r){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof c);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=D),o.ending?function(e,t){var r=new _;E(e,r),n.nextTick(t,r)}(this,r):(s||function(e,t,r,i){var o;return null===r?o=new y:"string"==typeof r||t.objectMode||(o=new f("chunk",["string","Buffer"],r)),!o||(E(e,o),n.nextTick(i,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,s,n,i,o);return c}(this,o,s,e,t,r)),a},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||L(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new m("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=d.destroy,T.prototype._undestroy=d.undestroy,T.prototype._destroy=function(e,t){t(e)}}).call(this,r(10),r(19))},function(e,t,r){"use strict";e.exports=l;var n=r(21).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(22);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(16)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(72),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(10))},function(e,t,r){"use strict";var n=r(16),i=r(61),o=r(28).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,r,n,i,o,a){return u(e+(t&r|~t&n)+i+o|0,a)+t|0}function l(e,t,r,n,i,o,a){return u(e+(t&n|r&~n)+i+o|0,a)+t|0}function d(e,t,r,n,i,o,a){return u(e+(t^r^n)+i+o|0,a)+t|0}function h(e,t,r,n,i,o,a){return u(e+(r^(t|~n))+i+o|0,a)+t|0}n(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=c(r,n,i,o,e[0],3614090360,7),o=c(o,r,n,i,e[1],3905402710,12),i=c(i,o,r,n,e[2],606105819,17),n=c(n,i,o,r,e[3],3250441966,22),r=c(r,n,i,o,e[4],4118548399,7),o=c(o,r,n,i,e[5],1200080426,12),i=c(i,o,r,n,e[6],2821735955,17),n=c(n,i,o,r,e[7],4249261313,22),r=c(r,n,i,o,e[8],1770035416,7),o=c(o,r,n,i,e[9],2336552879,12),i=c(i,o,r,n,e[10],4294925233,17),n=c(n,i,o,r,e[11],2304563134,22),r=c(r,n,i,o,e[12],1804603682,7),o=c(o,r,n,i,e[13],4254626195,12),i=c(i,o,r,n,e[14],2792965006,17),r=l(r,n=c(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=l(o,r,n,i,e[6],3225465664,9),i=l(i,o,r,n,e[11],643717713,14),n=l(n,i,o,r,e[0],3921069994,20),r=l(r,n,i,o,e[5],3593408605,5),o=l(o,r,n,i,e[10],38016083,9),i=l(i,o,r,n,e[15],3634488961,14),n=l(n,i,o,r,e[4],3889429448,20),r=l(r,n,i,o,e[9],568446438,5),o=l(o,r,n,i,e[14],3275163606,9),i=l(i,o,r,n,e[3],4107603335,14),n=l(n,i,o,r,e[8],1163531501,20),r=l(r,n,i,o,e[13],2850285829,5),o=l(o,r,n,i,e[2],4243563512,9),i=l(i,o,r,n,e[7],1735328473,14),r=d(r,n=l(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=d(o,r,n,i,e[8],2272392833,11),i=d(i,o,r,n,e[11],1839030562,16),n=d(n,i,o,r,e[14],4259657740,23),r=d(r,n,i,o,e[1],2763975236,4),o=d(o,r,n,i,e[4],1272893353,11),i=d(i,o,r,n,e[7],4139469664,16),n=d(n,i,o,r,e[10],3200236656,23),r=d(r,n,i,o,e[13],681279174,4),o=d(o,r,n,i,e[0],3936430074,11),i=d(i,o,r,n,e[3],3572445317,16),n=d(n,i,o,r,e[6],76029189,23),r=d(r,n,i,o,e[9],3654602809,4),o=d(o,r,n,i,e[12],3873151461,11),i=d(i,o,r,n,e[15],530742520,16),r=h(r,n=d(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=h(o,r,n,i,e[7],1126891415,10),i=h(i,o,r,n,e[14],2878612391,15),n=h(n,i,o,r,e[5],4237533241,21),r=h(r,n,i,o,e[12],1700485571,6),o=h(o,r,n,i,e[3],2399980690,10),i=h(i,o,r,n,e[10],4293915773,15),n=h(n,i,o,r,e[1],2240044497,21),r=h(r,n,i,o,e[8],1873313359,6),o=h(o,r,n,i,e[15],4264355552,10),i=h(i,o,r,n,e[6],2734768916,15),n=h(n,i,o,r,e[13],1309151649,21),r=h(r,n,i,o,e[4],4149444226,6),o=h(o,r,n,i,e[11],3174756917,10),i=h(i,o,r,n,e[2],718787259,15),n=h(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},,,,function(e,t,r){"use strict";var n=r(85),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var o=Object.create(r(74));o.inherits=r(16);var a=r(114),s=r(98);o.inherits(d,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];d.prototype[l]||(d.prototype[l]=s.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(10))},,,function(e,t,r){e.exports=i;var n=r(29).EventEmitter;function i(){n.call(this)}r(16)(i,n),i.Readable=r(73),i.Writable=r(394),i.Duplex=r(395),i.Transform=r(396),i.PassThrough=r(397),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},,,function(e,t,r){"use strict";(function(e){var t=r(32);e.EE=new t.EventEmitter}).call(this,r(10))},function(e,t,r){"use strict";var n=r(28).Buffer,i=r(64).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(16)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+d],d+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=f,a/=256,c-=8);e[r+p-f]|=128*m}},function(e,t,r){(t=e.exports=r(41)).Stream=t,t.Readable=t,t.Writable=r(45),t.Duplex=r(22),t.Transform=r(46),t.PassThrough=r(70),t.finished=r(31),t.pipeline=r(71)},function(e,t){},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(20).Buffer,s=r(67).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),c&&o(t,c),e}()},function(e,t){},function(e,t,r){"use strict";(function(t){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(31),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[a];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[a]=null,e[s]=null,t(p(r,!1)))}}function m(e){t.nextTick(f,e)}var v=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[u]?n(e[u]):r(p(void 0,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(p(void 0,!0)):t[d](r,n)}),n)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),v);e.exports=function(e){var t,r=Object.create(g,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[a]=null,r[s]=null,e(p(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[l]=null,r[a]=null,r[s]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[s]=null,n(p(void 0,!0))),r[c]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this,r(19))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(46);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(16)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(21).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(31)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,u=1,c={},l=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},n=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(f,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[u]=i,n(u),u++},h.clearImmediate=p}function p(e){delete c[e]}function f(e){if(l)setTimeout(f,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(10),r(19))},function(e,t,r){(t=e.exports=r(114)).Stream=t,t.Readable=t,t.Writable=r(98),t.Duplex=r(52),t.Transform=r(117),t.PassThrough=r(393)},function(e,t,r){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(20).Buffer.isBuffer},function(e,t,r){(function(e){const n=r(87);t.between=(e,t,r)=>{let n;if(t instanceof RegExp){const r=e.match(t);if(!r)return"";n=r.index+r[0].length}else{if(n=e.indexOf(t),-1===n)return"";n+=t.length}return n=(e=e.slice(n)).indexOf(r),-1===n?"":e=e.slice(0,n)},t.parseAbbreviatedNumber=e=>{const t=e.replace(",",".").replace(" ","").match(/([\d,.]+)([MK]?)/);if(t){let[,e,r]=t;return e=parseFloat(e),Math.round("M"===r?1e6*e:"K"===r?1e3*e:e)}return null},t.cutAfterJSON=e=>{let t,r;if("["===e[0]?(t="[",r="]"):"{"===e[0]&&(t="{",r="}"),!t)throw new Error("Can't cut unsupported JSON (need to begin with [ or { ) but got: "+e[0]);let n,i=!1,o=!1,a=0;for(n=0;n<e.length;n++)if('"'!==e[n]||o){if(o="\\"===e[n]&&!o,!i&&(e[n]===t?a++:e[n]===r&&a--,0===a))return e.substr(0,n+1)}else i=!i;throw Error("Can't cut unsupported JSON (no matching closing bracket found)")},t.playError=(e,t,r=Error)=>{let n=e&&e.playabilityStatus;return n&&t.includes(n.status)?new r(n.reason||n.messages&&n.messages[0]):null},t.exposedMiniget=(e,t={},r)=>{const i=n(e,r||t.requestOptions);return"function"==typeof t.requestCallback&&t.requestCallback(i),i},t.deprecate=(e,t,r,n,i)=>{Object.defineProperty(e,t,{get:()=>(console.warn(`\`${n}\` will be removed in a near future release, use \`${i}\` instead.`),r)})};const i=r(123);t.lastUpdateCheck=0,t.checkForUpdates=()=>!e.env.YTDL_NO_UPDATE&&!i.version.startsWith("0.0.0-")&&Date.now()-t.lastUpdateCheck>=432e5?(t.lastUpdateCheck=Date.now(),n("https://api.github.com/repos/fent/node-ytdl-core/releases/latest",{headers:{"User-Agent":"ytdl-core"}}).text().then(e=>{JSON.parse(e).tag_name!=="v"+i.version&&console.warn('[33mWARNING:[0m ytdl-core is out of date! Update with "npm install ytdl-core@latest".')},e=>{console.warn("Error checking for updates:",e.message),console.warn("You can disable this check by setting the `YTDL_NO_UPDATE` env variable.")})):null}).call(this,r(19))},,,,,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,r(19))},function(e,t,r){"use strict";t.decode=t.parse=r(399),t.encode=t.stringify=r(400)},function(e,t,r){"use strict";(function(t){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=n(r(119)),o=n(r(407)),a=r(57),s={"http:":i.default,"https:":o.default},u=new Set([301,302,303,307,308]),c=new Set([429,503]),l=["connect","continue","information","socket","timeout","upgrade"],d=["aborted"];function h(e,r={}){var n;const i=Object.assign({},h.defaultOptions,r),o=new a.PassThrough({highWaterMark:i.highWaterMark});let p,f,m;o.destroyed=o.aborted=!1;let v,g,b,y=0,_=0,w=0,E=!1,D=0,C=0;if(null===(n=i.headers)||void 0===n?void 0:n.Range){let e=/bytes=(\d+)-(\d+)?/.exec(""+i.headers.Range);e&&(D=parseInt(e[1],10),b=parseInt(e[2],10))}i.acceptEncoding&&(i.headers=Object.assign({"Accept-Encoding":Object.keys(i.acceptEncoding).join(", ")},i.headers));const T=e=>!!("HEAD"!==r.method&&E&&C!==g&&w++<i.maxReconnects)&&((e=>{m=null,_=0;let t=i.backoff.inc,r=Math.min(t,i.backoff.max);v=setTimeout(L,r),o.emit("reconnect",w,e)})(e),!0),A=e=>{if(o.destroyed)return!1;if(m&&C>0)return T(e.err);if((!e.err||"ENOTFOUND"===e.err.message)&&_++<i.maxRetries){let t=e.retryAfter||Math.min(_*i.backoff.inc,i.backoff.max);return v=setTimeout(L,t),o.emit("retry",_,e.err),!0}return!1},x=(e,t)=>{for(let r of t)e.on(r,o.emit.bind(o,r))},L=()=>{let t,r={};try{let n="string"==typeof e?new URL(e):e;r=Object.assign({},{host:n.host,hostname:n.hostname,path:n.pathname+n.search+n.hash,port:n.port,protocol:n.protocol}),n.username&&(r.auth=`${n.username}:${n.password}`),t=s[String(r.protocol)]}catch(e){}if(!t)return void o.emit("error",new h.MinigetError("Invalid URL: "+e));if(Object.assign(r,i),E&&C>0){let e=C+D,t=b||"";r.headers=Object.assign({},r.headers,{Range:`bytes=${e}-${t}`})}if(i.transform){try{r=i.transform(r)}catch(e){return void o.emit("error",e)}if((!r||r.protocol)&&(t=s[String(null==r?void 0:r.protocol)],!t))return void o.emit("error",new h.MinigetError("Invalid URL object from `transform` function"))}const n=e=>{o.destroyed||o.readableEnded||(v(),A({err:e})?p.removeListener("close",a):o.emit("error",e))},a=()=>{v(),A({})},v=()=>{p.removeListener("close",a),null==f||f.removeListener("data",_),null==m||m.removeListener("end",w)},_=e=>{C+=e.length},w=()=>{v(),T()||o.end()};p=t.request(r,t=>{if(!o.destroyed)if(u.has(t.statusCode)){if(y++>=i.maxRedirects)o.emit("error",new h.MinigetError("Too many redirects"));else{if(!t.headers.location){let e=new h.MinigetError("Redirect status code given with no location",t.statusCode);return o.emit("error",e),void v()}e=t.headers.location,setTimeout(L,1e3*parseInt(t.headers["retry-after"]||"0",10)),o.emit("redirect",e)}v()}else if(c.has(t.statusCode)){if(!A({retryAfter:parseInt(t.headers["retry-after"]||"0",10)})){let e=new h.MinigetError("Status code: "+t.statusCode,t.statusCode);o.emit("error",e)}v()}else{if(t.statusCode&&(t.statusCode<200||t.statusCode>=400)){let e=new h.MinigetError("Status code: "+t.statusCode,t.statusCode);return t.statusCode>=500?n(e):o.emit("error",e),void v()}if(m=t,i.acceptEncoding&&t.headers["content-encoding"])for(let e of t.headers["content-encoding"].split(", ").reverse()){let t=i.acceptEncoding[e];t&&(m=m.pipe(t()),m.on("error",n))}g||(g=parseInt(""+t.headers["content-length"],10),E="bytes"===t.headers["accept-ranges"]&&g>0&&i.maxReconnects>0),t.on("data",_),m.on("end",w),m.pipe(o,{end:!E}),f=t,o.emit("response",t),t.on("error",n),x(t,d)}}),p.on("error",n),p.on("close",a),x(p,l),o.destroyed&&O(...S),o.emit("request",p),p.end()};let S;o.abort=e=>{console.warn("`MinigetStream#abort()` has been deprecated in favor of `MinigetStream#destroy()`"),o.aborted=!0,o.emit("abort"),o.destroy(e)};const O=e=>{p.destroy(e),null==m||m.unpipe(o),null==m||m.destroy(),clearTimeout(v)};return o._destroy=(...e)=>{o.destroyed=!0,p?O(...e):S=e},o.text=()=>new Promise((e,t)=>{let r="";o.setEncoding("utf8"),o.on("data",e=>r+=e),o.on("end",()=>e(r)),o.on("error",t)}),t.nextTick(L),o}h.MinigetError=class extends Error{constructor(e,t){super(e),this.statusCode=t}},h.defaultOptions={maxRedirects:10,maxRetries:2,maxReconnects:0,backoff:{inc:100,max:1e4}},e.exports=h}).call(this,r(19))},,,,,,,,,,function(e,t,r){var n=r(20),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t,n,i){var o=r(85);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;b.WritableState=g;var c=Object.create(r(74));c.inherits=r(16);var l={deprecate:r(54)},d=r(115),h=r(97).Buffer,p=i.Uint8Array||function(){};var f,m=r(116);function v(){}function g(e,t){s=s||r(52),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),C(e,t))}(e,r,n,t,i);else{var a=E(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?u(_,e,r,a,i):_(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(s=s||r(52),!(f.call(b,this)||this instanceof s))return new b(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,y(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,d=r.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function D(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var r=E(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(D,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(b,d),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===b&&(e&&e._writableState instanceof g)}})):f=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(n=e,h.isBuffer(n)||n instanceof p);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=v),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(n,a),i=!1),i}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,i,o);return u}(this,i,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(19),r(47).setImmediate,r(10))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=r(57),o=n(r(87)),a=n(r(410)),s=n(r(411)),u=r(412),c=r(126),l={m3u8:a.default,"dash-mpd":s.default};let d=(e,t={})=>{const r=new i.PassThrough({highWaterMark:t.highWaterMark}),n=t.chunkReadahead||3,a=t.liveBuffer||2e4,s=t.requestOptions,d=l[t.parser||(/\.mpd$/.test(e)?"dash-mpd":"m3u8")];if(!d)throw TypeError(`parser '${t.parser}' not supported`);let h=0;void 0!==t.begin&&(h="string"==typeof t.begin?c.humanStr(t.begin):Math.max(t.begin-a,0));const p=e=>{for(let t of["abort","request","response","redirect","retry","reconnect"])e.on(t,r.emit.bind(r,t))};let f;const m=new u.Queue((e,t)=>{f=e;let n=0;e.on("data",e=>n+=e.length),e.pipe(r,{end:!1}),e.on("end",()=>t(null,n))},{concurrency:1});let v=0,g=0;const b=new u.Queue((t,n)=>{let i=Object.assign({},s);t.range&&(i.headers=Object.assign({},i.headers,{Range:`bytes=${t.range.start}-${t.range.end}`}));let a=o.default(new URL(t.url,e).toString(),i);a.on("error",n),p(a),m.push(a,(e,i)=>{g+=+i,r.emit("progress",{num:++v,size:i,duration:t.duration,url:t.url},b.total,g),n(null)})},{concurrency:n}),y=e=>{r.emit("error",e),r.end()};let _,w,E,D,C=!0,T=!1,A=!1;const x=e=>{if(f=null,e)y(e);else if(!C&&!T&&!A&&b.tasks.length+b.active<=_){let e=Math.max(0,w-(Date.now()-D));C=!0,E=setTimeout(R,e)}else!T&&!A||b.tasks.length||b.active||r.end()};let L,S,O=0;const R=()=>{D=Date.now(),L=o.default(e,s),L.on("error",y),p(L);const r=L.pipe(new d(t.id));r.on("starttime",e=>{O||(O=e,"string"==typeof t.begin&&h>=0&&(h+=O))}),r.on("endlist",()=>{A=!0}),r.on("endearly",L.unpipe.bind(L,r));let n=[];const i=e=>{if(!e.init){if(e.seq<=S)return;S=e.seq}h=e.time,b.push(e,x),n.push(e)};let u=[],c=0;r.on("item",e=>{let t=Object.assign({time:O},e);if(h<=t.time)i(t);else for(u.push(t),c+=t.duration;u.length>1&&c-u[0].duration>a;){const e=u.shift();c-=e.duration}O+=t.duration}),r.on("end",()=>{L=null,!n.length&&u.length&&u.forEach(e=>{i(e)}),_=Math.max(1,Math.ceil(.01*n.length)),w=n.reduce((e,t)=>t.duration+e,0),C=!1,x(null)})};return R(),r.end=()=>(T=!0,m.die(),b.die(),clearTimeout(E),null==L||L.destroy(),null==f||f.destroy(),i.PassThrough.prototype.end.call(r,null),r),r};d.parseTimestamp=c.humanStr,e.exports=d},,,,function(e,t,r){"use strict";(function(e){var n=r(0),i=r(7),o=r(1),a=r(3),s=r(2),u=r(104);t.a=new class{constructor(){this._callbacks={},this._data=new Map,chrome.downloads.onChanged.addListener(e=>{var t,r,i,o=this._data.get(e.id);if(o&&e.error){var a=o.tid;o.item.error=e.error.current,"USER_CANCELED"!==e.error.current?(n.logDownloadError({url:JSON.stringify(null===(t=o.item)||void 0===t?void 0:t.url),referrer:null===(r=o.item)||void 0===r?void 0:r.referrer,error:e.error.current||"Error: After call download API"}),EE.emit("download_error",{tabId:a,type:"download_error",params:o.item})):EE.emit("finish_download",{tabId:a,type:"download_canceled",params:o.item}),this._handleError(e.error.current,o)}if(e.state&&"complete"===e.state.current){var s=this._data.get(e.id);if(!(null==s?void 0:s.item))return;s.item.playable=null===(i=e.playable)||void 0===i?void 0:i.current,s.item.state="complete";var u=s.tid;EE.emit("finish_download",{tabId:u,type:"widget_playnow",params:s.item})}}),chrome.tabs.onRemoved.addListener(e=>{"object"==typeof this._callbacks&&delete this._callbacks[e],"object"==typeof this._tabMedia2id&&delete this._tabMedia2id[e]})}processRequest(e,t,r,n){switch(t){case"download":return this.download(e,r,n);case"play":this.play(r)}}_handleError(e,t){var r;e&&("USER_CANCELED"!==e?(0===e.indexOf("SERVER_")?r="RefrSE":0===e.indexOf("FILE_")&&(r="RefrFE"),r&&s.a.log(r,t.ref)):s.a.log("Download",s.a.DOWNLOAD_CANCELED))}_options(t,r){var a,s,c;try{t.filename=(null===(a=t.filename)||void 0===a?void 0:a.match(/[*~]/gi))?"_"+t.filename.replace(/[*~]/gi,"."):t.filename;var l=/(?:(?![ -\x7F\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2026\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])[\s\S])+/gi;if(t.filename&&t.filename.match(l)){var d=t.filename.replace(l,"").trim(),h=d.split(".")[0].trim().length;t.filename=(h>0?d:t.filename.replace(l,"-")).trim()}}catch(e){console.warn(e)}var p={filename:t.filename},f=t.url;if("object"==typeof f){if(!f.videoUrl||!f.audioUrl)return{filename:""};chrome.mediaDownload?(p.videoUrl=f.videoUrl,p.audioUrl=f.audioUrl):p.url=f.videoUrl}else p.url=f;if(chrome.mediaDownload){var m=t.referrer;m&&(p.referrer=m);var v=[p.url,p.audioUrl,p.videoUrl].filter(n.defined);n.isMatches(v,o.j)&&(p.streamsNumber=1),(t.hls||t.dashMPD)&&(t.hls&&(p.convertToMp4=!0,p.streamsNumber=u.a.HLS,"string"==typeof f&&f.match(/khophim18\.net\/m3u8/)&&(p.convertToMp4=!1)),t.dashMPD&&(p.streamsNumber=u.a.DASH_MPD),(t.skipConvert||"object"==typeof f)&&delete p.convertToMp4),i.a.DOWNLOAD.M3U8_AUDIO&&"audio"===t.type&&(delete p.convertToMp4,p.convertToMp3=!0)}if(void 0!==t.soundOnly){p.soundOnly=t.soundOnly,p.soundQuality=t.resolution?parseInt(t.resolution):128}t.dashMPD&&t.dashVideoId&&(p.videoId=""+t.dashVideoId),t.play_list&&(p.playList=t.play_list),t.hls&&t.dashVideoId&&(p.videoId=t.dashVideoId);var g={name:"tab_url",value:t.referrer||e.tab_url||(null==r?void 0:r.url)};p.extraData=[...t.extraData||[]],t.hlsKeyMem&&p.extraData.push({name:"hlsKeyMem",value:t.hlsKeyMem}),(null===(s=t.extraData)||void 0===s?void 0:s.some(e=>"tab_url"==e.name))||g.value&&p.extraData.push(g);var b=/\.yt_srt$/i;return(null===(c=t.filename)||void 0===c?void 0:c.match(b))&&(p.isYoutubeSubtitles=!0,p.filename=p.filename.replace(b,".srt")),t.skipReferrer&&delete p.referrer,p}download(e,t,r){var n=this,o=t.referrer;return new Promise(u=>{var c,l;function d(i){var c;if(i){t.playId=i,t.succeed=!0;var l={tid:e,item:t},d=Object(a.c)(o);n._data.set(i,l);try{if((null===(c=t.referrer)||void 0===c?void 0:c.includes("youtube.com"))&&t.useDoubleDownloadTrick){var p=n._options(t,r);p.url=h.videoUrl||h.url,delete p.videoUrl,delete p.audioUrl,p.saveAs=!1,chrome.downloads.download(p,e=>{chrome.downloads.cancel(e,()=>{chrome.downloads.erase({id:e})})})}}catch(e){}return s.a.log("Refr",d),void u(l.item)}t.error=chrome.runtime.lastError,u(t)}"object"==typeof t.url&&(null===(c=t.referrer)||void 0===c?void 0:c.match(/vieon.vn|xemxx.me|www.skillshare.com|mphimmoitv\.com|hentaiz\./g))&&t.hls&&(t.hls=!1);var h=n._options(t,r);if(h)if(h.url){h.conflictAction="uniquify";(null===(l=null==h?void 0:h.referrer)||void 0===l?void 0:l.match(/(https:\/\/trangtainhac\.com)|(http:\/\/animehay\.tv)|(https:\/\/salaphim\.com)|(https:\/\/lucaphim\.com)|(https:\/\/[\s\S]+\.yeuphim18x\.com)|(https:\/\/[\s\S]*hentaipro\.net)|(z[\d]+hay\.xyz)|(\.xyz\/video\.mp4\?hash=[a-z0-9]+.*&key=lbs\.cdnproxy\.xyz)|(https:\/\/vlxyz\.net)|(\/m3u8-rd\.[\s\S]+\.xyz\/m3u8)|(https:\/\/vjav\.com\/videos)|(static-video\.vnncdn\.net\/videos\/.+\.m3u8)|(kazastream\.xyz)/i))&&delete h.referrer,chrome.downloads.download(h,d)}else{if(delete h.convertToMp4,h.extraData){var p=h.extraData.find(e=>"downloadRangeRequest"==e.name);delete h.extraData,p&&(h.extraData=[p])}chrome.mediaDownload.combineStreams(h,d)}else d();if(h.referrer&&h.referrer.includes("youtube.com")){var f=h.filename.split(".").pop();s.a.logYtExtension(f)}if(i.a.CUSTOM_METRICS_JSON&&h.referrer){var m={timestamp_ms:Date.now(),page_url:h.referrer};h.url?m.download_url=h.url:m.download_url={audio:h.audioUrl,video:h.videoUrl},s.a.log("recordCustomData",[{key:"savior_download_start",value:JSON.stringify(m)}])}})}play(e){chrome.downloads.play(e)}}}).call(this,r(10))},function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.HLS=-42]="HLS",e[e.DASH_MPD=-43]="DASH_MPD"}(n||(n={}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o}));var n=r(26);function i(e,t){return new Promise(r=>{"sidebar"===e.params.type?chrome.coccocPrivate?chrome.coccocPrivate.getFeatureState(e.params.type,i=>{chrome.tabs.query({windowType:"popup"},o=>{!o.some(e=>{var r;return e.id==(null===(r=t.tab)||void 0===r?void 0:r.id)})&&i.enabled&&(e.params.testName?n.a.processRequest({testName:e.params.testName}).then(e=>{r({type:"support_result",data:{abTestData:e,featureData:null==i?void 0:i.configurations}})}):r({type:"support_result",data:{featureData:null==i?void 0:i.configurations}}))})}):r({type:"support_result",data:chrome.coccocPrivate}):n.a.processRequest({testName:e.params.testName}).then(e=>{r({type:"support_result",data:{abTestData:e}})})})}function o(e,t){var r,n=e.params;n.params.windowId=null===(r=t.tab)||void 0===r?void 0:r.windowId,n.activatName?chrome.coccocPrivate.getFeatureState(n.checkName,e=>{var r,i,o,s;if(e.enabled){if("sidebar"==n.checkName&&n.params.predefinedIcons&&(null===(o=null===(i=null===(r=e.configurations)||void 0===r?void 0:r.additionalProperties)||void 0===i?void 0:i.active_url)||void 0===o?void 0:o.includes(n.params.predefinedIcons)))return;a(n)}else chrome.coccocPrivate.actOnFeature({action:n.activatName,params:{windowId:null===(s=t.tab)||void 0===s?void 0:s.windowId}},()=>{a(n)})}):a(n)}function a(e){chrome.coccocPrivate.actOnFeature({action:e.action,params:e.params},()=>{})}},,,,,,,,,function(e,t,r){"use strict";(function(t,n){var i=r(85);e.exports=y;var o,a=r(53);y.ReadableState=b;r(29).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(115),c=r(97).Buffer,l=t.Uint8Array||function(){};var d=Object.create(r(74));d.inherits=r(16);var h=r(390),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var f,m=r(391),v=r(116);d.inherits(y,u);var g=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var n=t instanceof(o=o||r(52));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(30).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||r(52),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function _(e,t,r,n,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,D(e)}(e,a)):(i||(o=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):T(e,a)):w(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&D(e)),T(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},y.prototype.unshift=function(e){return _(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return f||(f=r(30).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){p("emit readable"),e.emit("readable"),S(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(A,e,t))}function A(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function x(e){p("readable nexttick read 0"),e.read(0)}function L(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(k,t,e))}function k(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):D(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&R(this),null;var n,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&R(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:y;function c(t,n){p("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",v),e.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",y),r.removeListener("data",m),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function l(){p("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",c);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,S(e))}}(r);e.on("drain",d);var h=!1;var f=!1;function m(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==I(o.pipes,e))&&!h&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function v(t){p("onerror",t),y(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",b),y()}function b(){p("onfinish"),e.removeListener("close",g),y()}function y(){p("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",v),e.once("close",g),e.once("finish",b),e.emit("pipe",r),o.flowing||(p("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=I(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&D(this):i.nextTick(x,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=O}).call(this,r(10),r(19))},function(e,t,r){e.exports=r(29).EventEmitter},function(e,t,r){"use strict";var n=r(85);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";e.exports=a;var n=r(52),i=Object.create(r(74));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(16),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){(function(e){!function(t){t.parser=function(e,t){return new o(e,t)},t.SAXParser=o,t.SAXStream=s,t.createStream=function(e,t){return new s(e,t)},t.MAX_BUFFER_LENGTH=65536;var n,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,r){if(!(this instanceof o))return new o(e,r);!function(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=r||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=E.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),C(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),o.prototype={end:function(){S(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return L(this,"Cannot write after close. Assign an onready handler.");if(null===e)return S(this);"object"==typeof e&&(e=e.toString());var r=0,n="";for(;n=M(e,r++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case E.BEGIN:if(this.state=E.BEGIN_WHITESPACE,"\ufeff"===n)continue;P(this,n);continue;case E.BEGIN_WHITESPACE:P(this,n);continue;case E.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=r-1;n&&"<"!==n&&"&"!==n;)(n=M(e,r++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(o,r-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(f(n)||this.sawRoot&&!this.closedRoot||O(this,"Text data outside of root node."),"&"===n?this.state=E.TEXT_ENTITY:this.textNode+=n):(this.state=E.OPEN_WAKA,this.startTagPosition=this.position);continue;case E.SCRIPT:"<"===n?this.state=E.SCRIPT_ENDING:this.script+=n;continue;case E.SCRIPT_ENDING:"/"===n?this.state=E.CLOSE_TAG:(this.script+="<"+n,this.state=E.SCRIPT);continue;case E.OPEN_WAKA:if("!"===n)this.state=E.SGML_DECL,this.sgmlDecl="";else if(f(n));else if(g(l,n))this.state=E.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=E.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=E.PROC_INST,this.procInstName=this.procInstBody="";else{if(O(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;n=new Array(a).join(" ")+n}this.textNode+="<"+n,this.state=E.TEXT}continue;case E.SGML_DECL:"[CDATA["===(this.sgmlDecl+n).toUpperCase()?(T(this,"onopencdata"),this.state=E.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=E.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+n).toUpperCase()?(this.state=E.DOCTYPE,(this.doctype||this.sawRoot)&&O(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(T(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=E.TEXT):m(n)?(this.state=E.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case E.SGML_DECL_QUOTED:n===this.q&&(this.state=E.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case E.DOCTYPE:">"===n?(this.state=E.TEXT,T(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=E.DOCTYPE_DTD:m(n)&&(this.state=E.DOCTYPE_QUOTED,this.q=n));continue;case E.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=E.DOCTYPE:m(n)&&(this.state=E.DOCTYPE_DTD_QUOTED,this.q=n);continue;case E.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=E.DOCTYPE_DTD,this.q="");continue;case E.COMMENT:"-"===n?this.state=E.COMMENT_ENDING:this.comment+=n;continue;case E.COMMENT_ENDING:"-"===n?(this.state=E.COMMENT_ENDED,this.comment=x(this.opt,this.comment),this.comment&&T(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=E.COMMENT);continue;case E.COMMENT_ENDED:">"!==n?(O(this,"Malformed comment"),this.comment+="--"+n,this.state=E.COMMENT):this.state=E.TEXT;continue;case E.CDATA:"]"===n?this.state=E.CDATA_ENDING:this.cdata+=n;continue;case E.CDATA_ENDING:"]"===n?this.state=E.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=E.CDATA);continue;case E.CDATA_ENDING_2:">"===n?(this.cdata&&T(this,"oncdata",this.cdata),T(this,"onclosecdata"),this.cdata="",this.state=E.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=E.CDATA);continue;case E.PROC_INST:"?"===n?this.state=E.PROC_INST_ENDING:f(n)?this.state=E.PROC_INST_BODY:this.procInstName+=n;continue;case E.PROC_INST_BODY:if(!this.procInstBody&&f(n))continue;"?"===n?this.state=E.PROC_INST_ENDING:this.procInstBody+=n;continue;case E.PROC_INST_ENDING:">"===n?(T(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=E.TEXT):(this.procInstBody+="?"+n,this.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:g(d,n)?this.tagName+=n:(R(this),">"===n?F(this):"/"===n?this.state=E.OPEN_TAG_SLASH:(f(n)||O(this,"Invalid character in tag name"),this.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:">"===n?(F(this,!0),B(this)):(O(this,"Forward-slash in opening tag not followed by >"),this.state=E.ATTRIB);continue;case E.ATTRIB:if(f(n))continue;">"===n?F(this):"/"===n?this.state=E.OPEN_TAG_SLASH:g(l,n)?(this.attribName=n,this.attribValue="",this.state=E.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case E.ATTRIB_NAME:"="===n?this.state=E.ATTRIB_VALUE:">"===n?(O(this,"Attribute without value"),this.attribValue=this.attribName,I(this),F(this)):f(n)?this.state=E.ATTRIB_NAME_SAW_WHITE:g(d,n)?this.attribName+=n:O(this,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=E.ATTRIB_VALUE;else{if(f(n))continue;O(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",T(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?F(this):g(l,n)?(this.attribName=n,this.state=E.ATTRIB_NAME):(O(this,"Invalid attribute name"),this.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(f(n))continue;m(n)?(this.q=n,this.state=E.ATTRIB_VALUE_QUOTED):(O(this,"Unquoted attribute value"),this.state=E.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case E.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=E.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}I(this),this.q="",this.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:f(n)?this.state=E.ATTRIB:">"===n?F(this):"/"===n?this.state=E.OPEN_TAG_SLASH:g(l,n)?(O(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=E.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!v(n)){"&"===n?this.state=E.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}I(this),">"===n?F(this):this.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(this.tagName)">"===n?B(this):g(d,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=E.SCRIPT):(f(n)||O(this,"Invalid tagname in closing tag"),this.state=E.CLOSE_TAG_SAW_WHITE);else{if(f(n))continue;b(l,n)?this.script?(this.script+="</"+n,this.state=E.SCRIPT):O(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case E.CLOSE_TAG_SAW_WHITE:if(f(n))continue;">"===n?B(this):O(this,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var s,u;switch(this.state){case E.TEXT_ENTITY:s=E.TEXT,u="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:s=E.ATTRIB_VALUE_QUOTED,u="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:s=E.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===n?(this[u]+=N(this),this.entity="",this.state=s):g(this.entity.length?p:h,n)?this.entity+=n:(O(this,"Invalid character in entity name"),this[u]+="&"+this.entity+n,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,o=0,a=i.length;o<a;o++){var s=e[i[o]].length;if(s>r)switch(i[o]){case"textNode":A(e);break;case"cdata":T(e,"oncdata",e.cdata),e.cdata="";break;case"script":T(e,"onscript",e.script),e.script="";break;default:L(e,"Max buffer length exceeded: "+i[o])}n=Math.max(n,s)}var u=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=u+e.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;A(e=this),""!==e.cdata&&(T(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(T(e,"onscript",e.script),e.script="")}};try{n=r(57).Stream}catch(e){n=function(){}}var a=t.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,t){if(!(this instanceof s))return new s(e,t);n.apply(this),this._parser=new o(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,a.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(n.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=r(30).StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===a.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)};var u="http://www.w3.org/XML/1998/namespace",c={xml:u,xmlns:"http://www.w3.org/2000/xmlns/"},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function m(e){return'"'===e||"'"===e}function v(e){return">"===e||f(e)}function g(e,t){return e.test(t)}function b(e,t){return!g(e,t)}var y,_,w,E=0;for(var D in t.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n})),t.STATE)t.STATE[t.STATE[D]]=D;function C(e,t,r){e[t]&&e[t](r)}function T(e,t,r){e.textNode&&A(e),C(e,t,r)}function A(e){e.textNode=x(e.opt,e.textNode),e.textNode&&C(e,"ontext",e.textNode),e.textNode=""}function x(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function L(e,t){return A(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,C(e,"onerror",t),e}function S(e){return e.sawRoot&&!e.closedRoot&&O(e,"Unclosed root tag"),e.state!==E.BEGIN&&e.state!==E.BEGIN_WHITESPACE&&e.state!==E.TEXT&&L(e,"Unexpected end"),A(e),e.c="",e.closed=!0,C(e,"onend"),o.call(e,e.strict,e.opt),e}function O(e,t){if("object"!=typeof e||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&L(e,t)}function R(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,T(e,"onopentagstart",r)}function k(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function I(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=k(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==u)O(e,"xml: prefix must be bound to "+u+"\nActual: "+e.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)O(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,T(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function F(e,t){if(e.opt.xmlns){var r=e.tag,n=k(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(O(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){T(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var o=0,a=e.attribList.length;o<a;o++){var s=e.attribList[o],u=s[0],c=s[1],l=k(u,!0),d=l.prefix,h=l.local,p=""===d?"":r.ns[d]||"",f={name:u,value:c,prefix:d,local:h,uri:p};d&&"xmlns"!==d&&!p&&(O(e,"Unbound namespace prefix: "+JSON.stringify(d)),f.uri=d),e.tag.attributes[u]=f,T(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),T(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=E.TEXT:e.state=E.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function B(e){if(!e.tagName)return O(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=E.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=E.SCRIPT);T(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;O(e,"Unexpected close tag")}if(t<0)return O(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=E.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,T(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach((function(t){var r=o.ns[t];T(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=E.TEXT}function N(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==r?(O(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function P(e,t){"<"===t?(e.state=E.OPEN_WAKA,e.startTagPosition=e.position):f(t)||(O(e,"Non-whitespace before first tag."),e.textNode=t,e.state=E.TEXT)}function M(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}E=t.STATE,String.fromCodePoint||(y=String.fromCharCode,_=Math.floor,w=function(){var e,t,r=16384,n=[],i=-1,o=arguments.length;if(!o)return"";for(var a="";++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||_(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(i+1===o||n.length>r)&&(a+=y.apply(null,n),n.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(t)}).call(this,r(20).Buffer)},function(e,t,r){(function(e){var n=r(401),i=r(121),o=r(403),a=r(404),s=r(122),u=t;u.request=function(t,r){t="string"==typeof t?s.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?a+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var d=new n(t);return r&&d.on("response",r),d},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(10))},function(e,t,r){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var r;function n(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function i(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,a=o&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||o&&i("arraybuffer"),t.msstream=!t.fetch&&a&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&s(n().overrideMimeType),t.vbArray=s(e.VBArray),r=null}).call(this,r(10))},function(e,t,r){(function(e,n,i){var o=r(120),a=r(16),s=r(73),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,r,a,u){var c=this;if(s.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===a){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),o.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,r){c._destroyed?r():c.push(new n(e))?t():c._resumeFetch=t}))},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void r.body.pipeTo(l).catch((function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)}))}catch(e){}}var d=r.body.getReader();!function e(){d.read().then((function(t){if(!c._destroyed){if(t.done)return i.clearTimeout(u),void c.push(null);c.push(new n(t.value)),e()}})).catch((function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)}))}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var h=c.rawHeaders["mime-type"];if(h){var p=h.match(/;\s*charset=([^;])(;|$)/);p&&(c._charset=p[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(c,s.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var o=r.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new n(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,r(19),r(20).Buffer,r(10))},function(e,t,r){"use strict";var n=r(405),i=r(406);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),d=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(86);function y(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(s);if(y=y.trim(),!r&&1===e.split("#").length){var _=u.exec(y);if(_)return this.path=y,this.href=y,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(y);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,y=y.substr(w.length)}if(r||w||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var D="//"===y.substr(0,2);!D||w&&v[w]||(y=y.substr(2),this.slashes=!0)}if(!v[w]&&(D||w&&!g[w])){for(var C,T,A=-1,x=0;x<h.length;x++){-1!==(L=y.indexOf(h[x]))&&(-1===A||L<A)&&(A=L)}-1!==(T=-1===A?y.lastIndexOf("@"):y.lastIndexOf("@",A))&&(C=y.slice(0,T),y=y.slice(T+1),this.auth=decodeURIComponent(C)),A=-1;for(x=0;x<d.length;x++){var L;-1!==(L=y.indexOf(d[x]))&&(-1===A||L<A)&&(A=L)}-1===A&&(A=y.length),this.host=y.slice(0,A),y=y.slice(A),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S)for(var O=this.hostname.split(/\./),R=(x=0,O.length);x<R;x++){var k=O[x];if(k&&!k.match(p)){for(var I="",F=0,B=k.length;F<B;F++)k.charCodeAt(F)>127?I+="x":I+=k[F];if(!I.match(p)){var N=O.slice(0,x),P=O.slice(x+1),M=k.match(f);M&&(N.push(M[1]),P.unshift(M[2])),P.length&&(y="/"+P.join(".")+y),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+U,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[E])for(x=0,R=l.length;x<R;x++){var q=l[x];if(-1!==y.indexOf(q)){var H=encodeURIComponent(q);H===q&&(H=escape(q)),y=y.split(q).join(H)}}var V=y.indexOf("#");-1!==V&&(this.hash=y.substr(V),y=y.slice(0,V));var Y=y.indexOf("?");if(-1!==Y?(this.search=y.substr(Y),this.query=y.substr(Y+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,Y)):t&&(this.search="",this.query={}),y&&(this.pathname=y),g[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var $=this.search||"";this.path=U+$}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var p=d[h];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",b=r.search||"";r.path=m+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||y||r.host&&e.pathname,E=w,D=r.pathname&&r.pathname.split("/")||[],C=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(C&&(r.hostname="",r.port=null,r.host&&(""===D[0]?D[0]=r.host:D.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===D[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,D=f;else if(f.length)D||(D=[]),D.pop(),D=D.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(C)r.hostname=r.host=D.shift(),(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!D.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=D.slice(-1)[0],A=(r.host||e.host||D.length>1)&&("."===T||".."===T)||""===T,x=0,L=D.length;L>=0;L--)"."===(T=D[L])?D.splice(L,1):".."===T?(D.splice(L,1),x++):x&&(D.splice(L,1),x--);if(!w&&!E)for(;x--;x)D.unshift("..");!w||""===D[0]||D[0]&&"/"===D[0].charAt(0)||D.unshift(""),A&&"/"!==D.join("/").substr(-1)&&D.push("");var S,O=""===D[0]||D[0]&&"/"===D[0].charAt(0);C&&(r.hostname=r.host=O?"":D.length?D.shift():"",(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift()));return(w=w||r.host&&D.length)&&!O&&D.unshift(""),D.length?r.pathname=D.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e){e.exports=JSON.parse('{"name":"ytdl-core","description":"YouTube video downloader in pure javascript.","keywords":["youtube","video","download"],"version":"4.9.1","repository":{"type":"git","url":"git://github.com/fent/node-ytdl-core.git"},"author":"fent <fentbox@gmail.com> (https://github.com/fent)","contributors":["Tobias Kutscha (https://github.com/TimeForANinja)","Andrew Kelley (https://github.com/andrewrk)","Mauricio Allende (https://github.com/mallendeo)","Rodrigo Altamirano (https://github.com/raltamirano)","Jim Buck (https://github.com/JimmyBoh)"],"main":"./lib/index.js","types":"./typings/index.d.ts","files":["lib","typings"],"scripts":{"test":"nyc --reporter=lcov --reporter=text-summary npm run test:unit","test:unit":"mocha --ignore test/irl-test.js test/*-test.js --timeout 4000","test:irl":"mocha --timeout 16000 test/irl-test.js","lint":"eslint ./","lint:fix":"eslint --fix ./","lint:typings":"tslint typings/index.d.ts","lint:typings:fix":"tslint --fix typings/index.d.ts"},"dependencies":{"m3u8stream":"^0.8.3","miniget":"^4.0.0","sax":"^1.1.3"},"devDependencies":{"@types/node":"^13.1.0","assert-diff":"^3.0.1","dtslint":"^3.6.14","eslint":"^6.8.0","mocha":"^7.0.0","muk-require":"^1.2.0","nock":"^13.0.4","nyc":"^15.0.0","sinon":"^9.0.0","stream-equal":"~1.1.0","typescript":"^3.9.7"},"engines":{"node":">=10"},"license":"MIT"}')},function(e,t,r){const n=r(75),i=r(408),o=["mp4a","mp3","vorbis","aac","opus","flac"],a=["mp4v","avc1","Sorenson H.283","MPEG-4 Visual","VP8","VP9","H.264"],s=e=>e.bitrate||0,u=e=>a.findIndex(t=>e.codecs&&e.codecs.includes(t)),c=e=>e.audioBitrate||0,l=e=>o.findIndex(t=>e.codecs&&e.codecs.includes(t)),d=(e,t,r)=>{let n=0;for(let i of r)if(n=i(t)-i(e),0!==n)break;return n},h=(e,t)=>d(e,t,[e=>parseInt(e.qualityLabel),s,u]),p=(e,t)=>d(e,t,[c,l]);t.sortFormats=(e,t)=>d(e,t,[e=>+!!e.isHLS,e=>+!!e.isDashMPD,e=>+(e.contentLength>0),e=>+(e.hasVideo&&e.hasAudio),e=>+e.hasVideo,e=>parseInt(e.qualityLabel)||0,s,c,u,l]),t.chooseFormat=(e,r)=>{if("object"==typeof r.format){if(!r.format.url)throw Error("Invalid format given, did you use `ytdl.getInfo()`?");return r.format}let n;r.filter&&(e=t.filterFormats(e,r.filter)),e.some(e=>e.isHLS)&&(e=e.filter(e=>e.isHLS||!e.isLive));const i=r.quality||"highest";switch(i){case"highest":n=e[0];break;case"lowest":n=e[e.length-1];break;case"highestaudio":{(e=t.filterFormats(e,"audio")).sort(p);const r=e[0],i=(e=e.filter(e=>0===p(r,e))).map(e=>parseInt(e.qualityLabel)||0).sort((e,t)=>e-t)[0];n=e.find(e=>(parseInt(e.qualityLabel)||0)===i);break}case"lowestaudio":(e=t.filterFormats(e,"audio")).sort(p),n=e[e.length-1];break;case"highestvideo":{(e=t.filterFormats(e,"video")).sort(h);const r=e[0],i=(e=e.filter(e=>0===h(r,e))).map(e=>e.audioBitrate||0).sort((e,t)=>e-t)[0];n=e.find(e=>(e.audioBitrate||0)===i);break}case"lowestvideo":(e=t.filterFormats(e,"video")).sort(h),n=e[e.length-1];break;default:n=f(i,e)}if(!n)throw Error("No such format found: "+i);return n};const f=(e,t)=>{let r=e=>t.find(t=>""+t.itag==""+e);return Array.isArray(e)?r(e.find(e=>r(e))):r(e)};t.filterFormats=(e,t)=>{let r;switch(t){case"videoandaudio":case"audioandvideo":r=e=>e.hasVideo&&e.hasAudio;break;case"video":r=e=>e.hasVideo;break;case"videoonly":r=e=>e.hasVideo&&!e.hasAudio;break;case"audio":r=e=>e.hasAudio;break;case"audioonly":r=e=>!e.hasVideo&&e.hasAudio;break;default:if("function"!=typeof t)throw TypeError(`Given filter (${t}) is not supported`);r=t}return e.filter(e=>!!e.url&&r(e))},t.addFormatMeta=e=>((e=Object.assign({},i[e.itag],e)).hasVideo=!!e.qualityLabel,e.hasAudio=!!e.audioBitrate,e.container=e.mimeType?e.mimeType.split(";")[0].split("/")[1]:null,e.codecs=e.mimeType?n.between(e.mimeType,'codecs="','"'):null,e.videoCodec=e.hasVideo&&e.codecs?e.codecs.split(", ")[0]:null,e.audioCodec=e.hasAudio&&e.codecs?e.codecs.split(", ").slice(-1)[0]:null,e.isLive=/\bsource[/=]yt_live_broadcast\b/.test(e.url),e.isHLS=/\/manifest\/hls_(variant|playlist)\//.test(e.url),e.isDashMPD=/\/manifest\/dash\//.test(e.url),e)},function(e,t){const r=new Set(["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","gaming.youtube.com"]),n=/^https?:\/\/(youtu\.be\/|(www\.)?youtube\.com\/(embed|v|shorts)\/)/;t.getURLVideoID=e=>{const i=new URL(e);let a=i.searchParams.get("v");if(n.test(e)&&!a){const e=i.pathname.split("/");a="youtu.be"===i.host?e[1]:e[2]}else if(i.hostname&&!r.has(i.hostname))throw Error("Not a YouTube domain");if(!a)throw Error("No video id found: "+e);if(a=a.substring(0,11),!t.validateID(a))throw TypeError(`Video id (${a}) does not match expected format (${o.toString()})`);return a};const i=/^https?:\/\//;t.getVideoID=e=>{if(t.validateID(e))return e;if(i.test(e))return t.getURLVideoID(e);throw Error("No video id found: "+e)};const o=/^[a-zA-Z0-9-_]{11}$/;t.validateID=e=>o.test(e),t.validateURL=e=>{try{return t.getURLVideoID(e),!0}catch(e){return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.durationStr=t.humanStr=void 0;const n=/^\d+$/,i=/^(?:(?:(\d+):)?(\d{1,2}):)?(\d{1,2})(?:\.(\d{3}))?$/,o={ms:1,s:1e3,m:6e4,h:36e5};t.humanStr=e=>{if("number"==typeof e)return e;if(n.test(e))return+e;const t=i.exec(e);if(t)return+(t[1]||0)*o.h+ +(t[2]||0)*o.m+ +t[3]*o.s+ +(t[4]||0);{let t=0;const r=/(-?\d+)(ms|s|m|h)/g;let n;for(;null!==(n=r.exec(e));)t+=+n[1]*o[n[2]];return t}},t.durationStr=e=>{let t=0;const r=/(\d+(?:\.\d+)?)(S|M|H)/g;let n;for(;null!==(n=r.exec(e));)t+=+n[1]*o[n[2].toLowerCase()];return t}},function(e,t,r){const n=r(86),i=r(128),o=r(75);t.cache=new i,t.getTokens=(e,r)=>t.cache.getOrSet(e,async()=>{const n=await o.exposedMiniget(e,r).text(),i=t.extractActions(n);if(!i||!i.length)throw Error("Could not extract signature deciphering actions");return t.cache.set(e,i),i}),t.decipher=(e,t)=>{t=t.split("");for(let r=0,n=e.length;r<n;r++){let n,i=e[r];switch(i[0]){case"r":t=t.reverse();break;case"w":n=~~i.slice(1),t=a(t,n);break;case"s":n=~~i.slice(1),t=t.slice(n);break;case"p":n=~~i.slice(1),t.splice(0,n)}}return t.join("")};const a=(e,t)=>{const r=e[0];return e[0]=e[t%e.length],e[t]=r,e},s="[a-zA-Z_\\$][a-zA-Z_0-9]*",u="(?:'[^'\\\\]*(:?\\\\[\\s\\S][^'\\\\]*)*'|\"[^\"\\\\]*(:?\\\\[\\s\\S][^\"\\\\]*)*\")",c=`(?:${s}|${u})`,l=`(?:\\.${s}|\\[${u}\\])`,d=":function\\(a\\)\\{(?:return )?a\\.reverse\\(\\)\\}",h=":function\\(a,b\\)\\{return a\\.slice\\(b\\)\\}",p=":function\\(a,b\\)\\{a\\.splice\\(0,b\\)\\}",f=":function\\(a,b\\)\\{var c=a\\[0\\];a\\[0\\]=a\\[b(?:%a\\.length)?\\];a\\[b(?:%a\\.length)?\\]=c(?:;return a)?\\}",m=new RegExp(`var (${s})=\\{((?:(?:${c}${d}|${c}${h}|${c}${p}|${c}${f}),?\\r?\\n?)+)\\};`),v=new RegExp(`function(?: ${s})?\\(a\\)\\{a=a\\.split\\((?:''|"")\\);\\s*((?:(?:a=)?[a-zA-Z_\\$][a-zA-Z_0-9]*${l}\\(a,\\d+\\);)+)return a\\.join\\((?:''|"")\\)\\}`),g=new RegExp(`(?:^|,)(${c})${d}`,"m"),b=new RegExp(`(?:^|,)(${c})${h}`,"m"),y=new RegExp(`(?:^|,)(${c})${p}`,"m"),_=new RegExp(`(?:^|,)(${c})${f}`,"m");t.extractActions=e=>{const t=m.exec(e),r=v.exec(e);if(!t||!r)return null;const n=t[1].replace(/\$/g,"\\$"),i=t[2].replace(/\$/g,"\\$"),o=r[1].replace(/\$/g,"\\$");let a=g.exec(i);const s=a&&a[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,"");a=b.exec(i);const u=a&&a[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,"");a=y.exec(i);const c=a&&a[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,"");a=_.exec(i);const l=a&&a[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,""),d=`(${[s,u,c,l].join("|")})`,h=new RegExp(`(?:a=)?${n}(?:\\.${d}|\\['${d}'\\]|\\["${d}"\\])\\(a,(\\d+)\\)`,"g"),p=[];for(;null!==(a=h.exec(o));){switch(a[1]||a[2]||a[3]){case l:p.push("w"+a[4]);break;case s:p.push("r");break;case u:p.push("s"+a[4]);break;case c:p.push("p"+a[4])}}return p},t.setDownloadURL=(e,t)=>{let r;if(!e.url)return;r=e.url;try{r=decodeURIComponent(r)}catch(e){return}const n=new URL(r);n.searchParams.set("ratebypass","yes"),t&&n.searchParams.set(e.sp||"signature",t),e.url=n.toString()},t.decipherFormats=async(e,r,i)=>{let o={},a=await t.getTokens(r,i);return e.forEach(e=>{let r=e.signatureCipher||e.cipher;r&&(Object.assign(e,n.parse(r)),delete e.signatureCipher,delete e.cipher);const i=a&&e.s?t.decipher(a,e.s):null;t.setDownloadURL(e,i),o[e.url]=e}),o}},function(e,t,r){const{setTimeout:n}=r(47);e.exports=class extends Map{constructor(e=1e3){super(),this.timeout=e}set(e,t){this.has(e)&&clearTimeout(super.get(e).tid),super.set(e,{tid:n(this.delete.bind(this,e),this.timeout).unref(),value:t})}get(e){let t=super.get(e);return t?t.value:null}getOrSet(e,t){if(this.has(e))return this.get(e);{let r=t();return this.set(e,r),(async()=>{try{await r}catch(t){this.delete(e)}})(),r}}delete(e){let t=super.get(e);t&&(clearTimeout(t.tid),super.delete(e))}clear(){for(let e of this.values())clearTimeout(e.tid);super.clear()}}},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(149);t.a=n.getInfo},function(e,t,r){(function(t){const n=r(57).PassThrough,i=r(398),o=r(75),a=r(124),s=r(125),u=r(127),c=r(87),l=r(99),{parseTimestamp:d}=r(99),h=(e,t)=>{const r=p(t);return h.getInfo(e,t).then(e=>{m(r,e,t)},r.emit.bind(r,"error")),r};e.exports=h,h.getBasicInfo=i.getBasicInfo,h.getInfo=i.getInfo,h.chooseFormat=a.chooseFormat,h.filterFormats=a.filterFormats,h.validateID=s.validateID,h.validateURL=s.validateURL,h.getURLVideoID=s.getURLVideoID,h.getVideoID=s.getVideoID,h.cache={sig:u.cache,info:i.cache,watch:i.watchPageCache,cookie:i.cookieCache},h.version=r(123).version;const p=e=>{const t=new n({highWaterMark:e&&e.highWaterMark||524288});return t._destroy=()=>{t.destroyed=!0},t},f=(e,t,r)=>{["abort","request","response","error","redirect","retry","reconnect"].forEach(r=>{e.prependListener(r,t.emit.bind(t,r))}),e.pipe(t,{end:r})},m=(e,t,r)=>{r=r||{};let n,i=o.playError(t.player_response,["UNPLAYABLE","LIVE_STREAM_OFFLINE","LOGIN_REQUIRED"]);if(i)return void e.emit("error",i);if(!t.formats.length)return void e.emit("error",Error("This video is unavailable"));try{n=a.chooseFormat(t.formats,r)}catch(t){return void e.emit("error",t)}if(e.emit("info",t,n),e.destroyed)return;let s,u=0;const h=t=>{u+=t.length,e.emit("progress",t.length,u,s)},p=r.dlChunkSize||10485760;let m,v=!0;if(n.isHLS||n.isDashMPD)m=l(n.url,{chunkReadahead:+t.live_chunk_readahead,begin:r.begin||n.isLive&&Date.now(),liveBuffer:r.liveBuffer,requestOptions:r.requestOptions,parser:n.isDashMPD?"dash-mpd":"m3u8",id:n.itag}),m.on("progress",(t,r)=>{e.emit("progress",t.size,t.num,r)}),f(m,e,v);else{const t=Object.assign({},r.requestOptions,{maxReconnects:6,maxRetries:3,backoff:{inc:500,max:1e4}});if(!(0===p||n.hasAudio&&n.hasVideo)){let i=r.range&&r.range.start||0,o=i+p;const a=r.range&&r.range.end;s=r.range?(a?a+1:parseInt(n.contentLength))-i:parseInt(n.contentLength);const u=()=>{!a&&o>=s&&(o=0),a&&o>a&&(o=a),v=!o||o===a,t.headers=Object.assign({},t.headers,{Range:`bytes=${i}-${o||""}`}),m=c(n.url,t),m.on("data",h),m.on("end",()=>{e.destroyed||o&&o!==a&&(i=o+1,o+=p,u())}),f(m,e,v)};u()}else r.begin&&(n.url+="&begin="+d(r.begin)),r.range&&(r.range.start||r.range.end)&&(t.headers=Object.assign({},t.headers,{Range:`bytes=${r.range.start||"0"}-${r.range.end||""}`})),m=c(n.url,t),m.on("response",t=>{e.destroyed||(s=s||parseInt(t.headers["content-length"]))}),m.on("data",h),f(m,e,v)}e._destroy=()=>{e.destroyed=!0,m.destroy(),m.end()}};h.downloadFromInfo=(e,r)=>{const n=p(r);if(!e.full)throw Error("Cannot use `ytdl.downloadFromInfo()` when called with info from `ytdl.getBasicInfo()`");return t(()=>{m(n,e,r)}),n}}).call(this,r(47).setImmediate)},function(e,t,r){"use strict";t.a=new class{constructor(){this.DEFAULT_TTL=12e5,this._cache={},this.DEFAULT_TTL=12e5}processRequest(e,t){switch(e){case"get":return this.get(t.key);case"put":this.put(t.key,t.value,t.ttl);break;case"delete":this.delete(t.key)}}get(e){return new Promise((t,r)=>{e in this._cache?t(this._cache[e]):r(null)})}_get(e){return this._cache[e]||null}put(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.DEFAULT_TTL;e&&void 0!==t&&(r=r||this.DEFAULT_TTL,this._cache[e]=t,setTimeout(this.delete.bind(this,e),r))}delete(e){this._cache[e]&&delete this._cache[e]}}},,function(e,t,r){"use strict";var n=r(4);t.a={load(){n.a.set("template-widget",'<div class="widget-attach hidden">\n    <div class="btn-control relative" id="hide-widget">\n        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M4.80001 13.9905L4.00964 13.2001L8.20964 9.00013L4.00964 4.80013L4.80001 4.00977L9.00001 8.20977L13.2 4.00977L13.9904 4.80013L9.79038 9.00013L13.9904 13.2001L13.2 13.9905L9.00001 9.7905L4.80001 13.9905Z" fill="currentColor"/>\n        </svg>\n        <div class="tooltip" position="down">{{i18n_close_tooltip}}</div>\n    </div>\n\n    <div id="download-btn" class="btn-control relative" {{#no_downloads}}disabled{{/no_downloads}}>\n        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <circle cx="9.99992" cy="9.99992" r="9.16667" fill="#4FBA69"/>\n            <path d="M10 15.8372L5.27246 11.1097L6.14263 10.2187L9.37502 13.4511V4.1626H10.625V13.4511L13.8574 10.2315L14.7275 11.1097L10 15.8372Z" fill="currentColor"/>\n        </svg>\n        <div class="tooltip" position="down">{{i18n_download_tooltip}}</div>\n\n        <dropdown-box class="download-box" hidden>\n            <dropdown-box-header class="mobile-content-box-header">\n                <savior-image data-src="/images/logo_cc.svg"></savior-image>\n                <h2>{{i18n_download_box_header_title}}</h2>\n                <button class="dropdown-box-closer" id="mobile-transfer-closer">\n                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M5.33327 15.5448L4.45508 14.6667L9.12174 9.99999L4.45508 5.33333L5.33327 4.45514L9.99993 9.12181L14.6666 4.45514L15.5448 5.33333L10.8781 9.99999L15.5448 14.6667L14.6666 15.5448L9.99993 10.8782L5.33327 15.5448Z" fill="currentColor"/>\n                    </svg>\n                </button>\n            </dropdown-box-header>\n            <dropdown-box-body id="downloads" data-panel="loading">\n                <panel value="loading">\n                    <savior-row class="download-box-content-box">\n                        <svg width="20" height="20" class="loading-3-dots" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"></svg>\n                        <span>{{i18n_downloading_media}}</span>\n                    </savior-row>\n                </panel>\n\n                <panel value="media" id="downloads-media"></panel>\n\n                <panel value="no-media">\n                    <savior-row class="download-box-content-box">\n                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M10.0001 5.83332C9.77907 5.83332 9.56711 5.92112 9.41083 6.0774C9.25455 6.23368 9.16675 6.44564 9.16675 6.66666V9.99999C9.16675 10.221 9.25455 10.433 9.41083 10.5892C9.56711 10.7455 9.77907 10.8333 10.0001 10.8333C10.2211 10.8333 10.4331 10.7455 10.5893 10.5892C10.7456 10.433 10.8334 10.221 10.8334 9.99999V6.66666C10.8334 6.44564 10.7456 6.23368 10.5893 6.0774C10.4331 5.92112 10.2211 5.83332 10.0001 5.83332ZM10.7668 13.0167C10.7485 12.9636 10.7233 12.9131 10.6918 12.8667L10.5918 12.7417C10.4746 12.626 10.3258 12.5477 10.1641 12.5166C10.0024 12.4854 9.83518 12.5028 9.68342 12.5667C9.58243 12.6089 9.48942 12.668 9.40842 12.7417C9.33118 12.8195 9.27008 12.9119 9.22861 13.0134C9.18714 13.1149 9.16612 13.2237 9.16675 13.3333C9.16807 13.4422 9.19072 13.5498 9.23342 13.65C9.27084 13.7534 9.33056 13.8473 9.40832 13.9251C9.48609 14.0029 9.58001 14.0626 9.68342 14.1C9.78317 14.1441 9.89103 14.1669 10.0001 14.1669C10.1091 14.1669 10.217 14.1441 10.3168 14.1C10.4202 14.0626 10.5141 14.0029 10.5918 13.9251C10.6696 13.8473 10.7293 13.7534 10.7668 13.65C10.8095 13.5498 10.8321 13.4422 10.8334 13.3333C10.8375 13.2778 10.8375 13.2221 10.8334 13.1667C10.8191 13.1135 10.7966 13.0629 10.7668 13.0167ZM10.0001 1.66666C8.35191 1.66666 6.74074 2.1554 5.37033 3.07108C3.99992 3.98675 2.93182 5.28824 2.30109 6.81096C1.67036 8.33368 1.50533 10.0092 1.82687 11.6257C2.14842 13.2423 2.94209 14.7271 4.10753 15.8925C5.27297 17.058 6.75782 17.8517 8.37433 18.1732C9.99084 18.4947 11.6664 18.3297 13.1891 17.699C14.7118 17.0683 16.0133 16.0002 16.929 14.6297C17.8447 13.2593 18.3334 11.6482 18.3334 9.99999C18.3334 8.90564 18.1179 7.82201 17.6991 6.81096C17.2803 5.79991 16.6665 4.88125 15.8926 4.10743C15.1188 3.33361 14.2002 2.71978 13.1891 2.30099C12.1781 1.8822 11.0944 1.66666 10.0001 1.66666ZM10.0001 16.6667C8.68154 16.6667 7.39261 16.2757 6.29628 15.5431C5.19996 14.8106 4.34547 13.7694 3.84089 12.5512C3.3363 11.333 3.20428 9.99259 3.46152 8.69939C3.71875 7.40618 4.35369 6.2183 5.28604 5.28594C6.21839 4.35359 7.40628 3.71866 8.69948 3.46142C9.99269 3.20419 11.3331 3.33621 12.5513 3.84079C13.7695 4.34538 14.8107 5.19986 15.5432 6.29619C16.2758 7.39252 16.6668 8.68145 16.6668 9.99999C16.6668 11.7681 15.9644 13.4638 14.7141 14.714C13.4639 15.9643 11.7682 16.6667 10.0001 16.6667Z" fill="currentColor"/>\n                        </svg>\n                        <span>{{i18n_no_media_found_widget}}</span>\n                    </savior-row>\n                </panel>\n            </dropdown-box-body>\n        </dropdown-box>\n    </div>\n\n    {{#has_pip}}\n        <div id="open-pip" class="btn-control" data-svg-control="off">\n            <svg data-value="off" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.8335 2.91667H2.50016C2.27004 2.91667 2.0835 3.10322 2.0835 3.33334V13.3333C2.0835 13.5635 2.27004 13.75 2.50016 13.75H4.16683V15H2.50016C1.57969 15 0.833496 14.2538 0.833496 13.3333V3.33334C0.833496 2.41286 1.57969 1.66667 2.50016 1.66667H15.8335C16.754 1.66667 17.5002 2.41286 17.5002 3.33334V5.83334H16.2502V3.33334C16.2502 3.10322 16.0636 2.91667 15.8335 2.91667ZM5.8335 8.70371C5.8335 8.03892 6.37618 7.50001 7.04562 7.50001H17.9547C18.6241 7.50001 19.1668 8.03892 19.1668 8.70371V17.1296C19.1668 17.7944 18.6241 18.3333 17.9547 18.3333H7.04562C6.37618 18.3333 5.8335 17.7944 5.8335 17.1296V8.70371ZM9.55736 15.3027C9.45237 15.4077 9.52673 15.5872 9.67521 15.5872L14.9469 15.5872L14.9469 10.3156C14.9469 10.1671 14.7673 10.0928 14.6623 10.1978L12.8191 12.041L10.8806 10.1025C10.8155 10.0374 10.71 10.0374 10.6449 10.1025L9.46207 11.2853C9.39698 11.3503 9.39698 11.4559 9.46207 11.521L11.4006 13.4595L9.55736 15.3027Z" fill="currentColor"/>\n            </svg>\n            <svg data-value="on" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.8335 2.91666H2.50016C2.27004 2.91666 2.0835 3.1032 2.0835 3.33332V13.3333C2.0835 13.5634 2.27004 13.75 2.50016 13.75H8.3335V15H2.50016C1.57969 15 0.833496 14.2538 0.833496 13.3333V3.33332C0.833496 2.41285 1.57969 1.66666 2.50016 1.66666H15.8335C16.754 1.66666 17.5002 2.41285 17.5002 3.33332V9.99999H16.2502V3.33332C16.2502 3.1032 16.0636 2.91666 15.8335 2.91666ZM10.0002 15.8334V14.1667V12.5C10.0002 12.0398 10.3733 11.6667 10.8335 11.6667H15.8335H17.5002H18.3335C18.7937 11.6667 19.1668 12.0398 19.1668 12.5V18.3334C19.1668 18.7936 18.7937 19.1667 18.3335 19.1667H10.8335C10.3733 19.1667 10.0002 18.7936 10.0002 18.3334V15.8334ZM9.20216 5.39112C9.30715 5.28612 9.23279 5.1066 9.08431 5.1066H4.27354V9.91737C4.27354 10.0659 4.45306 10.1402 4.55806 10.0352L6.22847 8.36481L7.99997 10.1363C8.06505 10.2014 8.17058 10.2014 8.23567 10.1363L9.30325 9.06873C9.36834 9.00364 9.36834 8.89811 9.30325 8.83303L7.53175 7.06152L9.20216 5.39112Z" fill="currentColor"/>\n            </svg>\n            <div class="tooltip" position="down">{{i18n_pip_button}}</div>\n        </div>\n    {{/has_pip}}\n\n    <div id="switch-light" class="btn-control" data-svg-control="off">\n        <svg data-value="off" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M10.0002 19.1667C9.60383 19.1667 9.2534 19.0669 8.94887 18.8675C8.64436 18.668 8.43132 18.4063 8.30976 18.0823H8.02485C7.62093 18.0823 7.27304 17.9429 6.98119 17.6643C6.68932 17.3856 6.54338 17.0535 6.54338 16.6679V13.4646C5.54687 12.8879 4.76276 11.2815 4.19105 10.3119C3.61935 9.34236 3.3335 8.3045 3.3335 7.19834C3.3335 5.42365 3.9799 3.91914 5.27271 2.68481C6.56554 1.4505 8.14136 0.833344 10.0002 0.833344C11.859 0.833344 13.4348 1.4505 14.7276 2.68481C16.0204 3.91914 16.6668 5.42365 16.6668 7.19834C16.6668 8.32385 16.381 9.36655 15.8093 10.3264C15.2376 11.2863 14.4535 12.8879 13.4569 13.4646V16.6679C13.4569 17.0535 13.311 17.3856 13.0191 17.6643C12.7273 17.9429 12.3794 18.0823 11.9755 18.0823H11.6906C11.569 18.4063 11.356 18.668 11.0515 18.8675C10.7469 19.0669 10.3965 19.1667 10.0002 19.1667ZM8.02485 16.6679H11.9755V16.6667H8.02485V16.6679ZM8.02485 16.6667H11.9755V13.9252H8.02485V16.6667ZM7.82731 12.5108H9.41137V8.93194L7.29551 6.91182L8.12361 6.12119L10.0002 7.91283L11.8767 6.12119L12.7048 6.91182L10.589 8.93194V12.5108H12.173C13.0619 12.1021 13.7862 10.6677 14.3459 9.87401C14.9055 9.08034 15.1854 8.18845 15.1854 7.19834C15.1854 5.81532 14.6833 4.64447 13.6792 3.68579C12.6751 2.72711 11.4487 2.24777 10.0002 2.24777C8.5516 2.24777 7.32526 2.72711 6.32114 3.68579C5.31702 4.64447 4.81496 5.81532 4.81496 7.19834C4.81496 8.18845 5.09479 9.08034 5.65447 9.87401C6.21414 10.6677 6.93842 12.1021 7.82731 12.5108Z" fill="currentColor"/>\n        </svg>\n        <svg data-value="on" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M10.0002 19.1667C9.60383 19.1667 9.2534 19.0669 8.94887 18.8675C8.64436 18.668 8.43132 18.4063 8.30976 18.0823H8.02485C7.62093 18.0823 7.27304 17.9429 6.98119 17.6643C6.68932 17.3856 6.54338 17.0535 6.54338 16.6679V13.4646C5.54687 12.8879 4.76276 11.2815 4.19105 10.3119C3.61935 9.34236 3.3335 8.3045 3.3335 7.19834C3.3335 5.42365 3.9799 3.91914 5.27271 2.68481C6.56554 1.4505 8.14136 0.833344 10.0002 0.833344C11.859 0.833344 13.4348 1.4505 14.7276 2.68481C16.0204 3.91914 16.6668 5.42365 16.6668 7.19834C16.6668 8.32385 16.381 9.36655 15.8093 10.3264C15.2376 11.2863 14.4535 12.8879 13.4569 13.4646V16.6679C13.4569 17.0535 13.311 17.3856 13.0191 17.6643C12.7273 17.9429 12.3794 18.0823 11.9755 18.0823H11.6906C11.569 18.4063 11.356 18.668 11.0515 18.8675C10.7469 19.0669 10.3965 19.1667 10.0002 19.1667ZM8.02485 16.6679H11.9755V16.6667H8.02485V16.6679ZM8.02485 16.6667H11.9755V13.9252H8.02485V16.6667ZM10.589 12.5108V8.93194L12.7048 6.91182L11.8767 6.12119L10.0002 7.91283L8.12361 6.12119L7.29551 6.91182L9.41137 8.93194V12.5108H10.589Z" fill="currentColor"/>\n        </svg>\n        <div class="tooltip" position="down">{{i18n_switch}}</div>\n    </div>\n\n    <div id="other-feature" class="btn-control relative last-of-type">\n        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M9.99998 16.0576C9.65624 16.0576 9.36198 15.9353 9.11719 15.6905C8.8724 15.4457 8.75 15.1514 8.75 14.8077C8.75 14.4639 8.8724 14.1697 9.11719 13.9249C9.36198 13.6801 9.65624 13.5577 9.99998 13.5577C10.3437 13.5577 10.638 13.6801 10.8828 13.9249C11.1276 14.1697 11.25 14.4639 11.25 14.8077C11.25 15.1514 11.1276 15.4457 10.8828 15.6905C10.638 15.9353 10.3437 16.0576 9.99998 16.0576ZM9.99998 11.25C9.65624 11.25 9.36198 11.1276 9.11719 10.8828C8.8724 10.638 8.75 10.3437 8.75 10C8.75 9.65626 8.8724 9.362 9.11719 9.11721C9.36198 8.87241 9.65624 8.75002 9.99998 8.75002C10.3437 8.75002 10.638 8.87241 10.8828 9.11721C11.1276 9.362 11.25 9.65626 11.25 10C11.25 10.3437 11.1276 10.638 10.8828 10.8828C10.638 11.1276 10.3437 11.25 9.99998 11.25ZM9.99998 6.44229C9.65624 6.44229 9.36198 6.31989 9.11719 6.0751C8.8724 5.83032 8.75 5.53606 8.75 5.19231C8.75 4.84857 8.8724 4.55431 9.11719 4.30952C9.36198 4.06474 9.65624 3.94235 9.99998 3.94235C10.3437 3.94235 10.638 4.06474 10.8828 4.30952C11.1276 4.55431 11.25 4.84857 11.25 5.19231C11.25 5.53606 11.1276 5.83032 10.8828 6.0751C10.638 6.31989 10.3437 6.44229 9.99998 6.44229Z" fill="currentColor"/>\n        </svg>\n        <div class="tooltip" position="down">{{i18n_other_feature}}</div>\n        {{! <div id="expansion" hidden="true">\n\n        </div> }}\n        <dropdown-box id="expansion" class="expansion-box" hidden>\n            <dropdown-item id="open-mobile" {{^has_mobile}}hidden="true"{{/has_mobile}} {{#no_downloads}}hidden="true"{{/no_downloads}}>\n                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M14.331 18.75C14.7519 18.75 15.1082 18.6041 15.3999 18.3125C15.6916 18.0208 15.8374 17.6645 15.8374 17.2435V2.75642C15.8374 2.33547 15.6916 1.97917 15.3999 1.6875C15.1082 1.39583 14.7519 1.25 14.331 1.25H8.72203V2.49998H14.331C14.3951 2.49998 14.4539 2.52669 14.5073 2.5801C14.5607 2.63353 14.5874 2.69231 14.5874 2.75642V3.54167H8.72203V4.79162H14.5874V15.2083H6.25409V13.5417H5.00411V17.2435C5.00411 17.6645 5.14994 18.0208 5.44161 18.3125C5.73328 18.6041 6.08958 18.75 6.51053 18.75H14.331ZM14.5874 16.4583V17.2435C14.5874 17.3077 14.5607 17.3664 14.5073 17.4199C14.4539 17.4733 14.3951 17.5 14.331 17.5H6.51053C6.44642 17.5 6.38764 17.4733 6.33421 17.4199C6.2808 17.3664 6.25409 17.3077 6.25409 17.2435V16.4583H14.5874ZM5.42076 11.3701L9.29894 7.49196L8.42076 6.61379L6.04574 8.98879V2.70833H4.79578V8.98879L2.42076 6.61379L1.54257 7.49196L5.42076 11.3701Z" fill="#45474A"/>\n                </svg>\n\n                <span>{{i18n_mobile_button}}</span>\n            </dropdown-item>\n            <dropdown-item id="hide-on-site">\n                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M13.1444 10.8109L12.2085 9.875C12.3335 9.18481 12.1366 8.56436 11.6179 8.01362C11.0992 7.46287 10.4627 7.24999 9.70848 7.37499L8.7726 6.43912C8.96063 6.35472 9.15347 6.29142 9.35112 6.24922C9.54876 6.20702 9.7651 6.18591 10.0001 6.18591C10.9456 6.18591 11.7483 6.51577 12.408 7.1755C13.0677 7.83522 13.3976 8.63783 13.3976 9.58333C13.3976 9.81837 13.3765 10.0374 13.3342 10.2404C13.2921 10.4434 13.2288 10.6335 13.1444 10.8109ZM15.795 13.4038L14.8751 12.5417C15.4029 12.1389 15.8717 11.6979 16.2814 11.2187C16.6911 10.7396 17.0418 10.1944 17.3335 9.58333C16.639 8.18055 15.6425 7.06597 14.3439 6.23958C13.0453 5.41319 11.5974 4.99999 10.0001 4.99999C9.59737 4.99999 9.20153 5.02777 8.81264 5.08333C8.42375 5.13888 8.04181 5.22222 7.66681 5.33333L6.69568 4.3622C7.22239 4.1528 7.76032 3.99842 8.30946 3.89906C8.85859 3.7997 9.42216 3.75002 10.0001 3.75002C11.9531 3.75002 13.7143 4.28847 15.2838 5.36539C16.8532 6.44232 17.998 7.8483 18.7181 9.58333C18.4093 10.328 18.0105 11.023 17.5217 11.6682C17.033 12.3135 16.4574 12.8921 15.795 13.4038ZM16.4681 18.2243L13.0963 14.8782C12.669 15.0363 12.1954 15.1656 11.6756 15.266C11.1559 15.3664 10.5974 15.4166 10.0001 15.4166C8.04182 15.4166 6.28062 14.8782 4.71652 13.8013C3.15242 12.7243 2.00766 11.3184 1.28223 9.58333C1.58992 8.84722 1.98736 8.16052 2.47454 7.52322C2.96172 6.88595 3.49805 6.33333 4.08352 5.86539L1.77581 3.53206L2.65402 2.65387L17.3463 17.3461L16.4681 18.2243ZM4.96171 6.74356C4.52154 7.09399 4.09339 7.5152 3.67725 8.0072C3.26111 8.49919 2.9243 9.02456 2.66681 9.58333C3.36125 10.9861 4.35778 12.1007 5.65639 12.9271C6.955 13.7535 8.40292 14.1667 10.0001 14.1667C10.3794 14.1667 10.7571 14.1346 11.1332 14.0705C11.5093 14.0064 11.8282 13.9402 12.0899 13.8718L11.0354 12.7916C10.8933 12.8493 10.7288 12.8953 10.5418 12.9295C10.3549 12.9636 10.1743 12.9807 10.0001 12.9807C9.05464 12.9807 8.25203 12.6509 7.59231 11.9912C6.93259 11.3314 6.60273 10.5288 6.60273 9.58333C6.60273 9.41452 6.61982 9.23797 6.65402 9.05368C6.68821 8.86938 6.73415 8.70084 6.79183 8.54806L4.96171 6.74356Z" fill="#45474A"/>\n                </svg>\n\n                <span>{{i18n_hide_panel_on_site}}</span>\n            </dropdown-item>\n            <dropdown-item id="open-settings">\n                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M8.07696 17.9167L7.75965 15.3782C7.53636 15.3034 7.30746 15.1987 7.07294 15.0641C6.83843 14.9295 6.62876 14.7852 6.44392 14.6314L4.09296 15.625L2.16992 12.2917L4.20357 10.7548C4.18433 10.6309 4.17071 10.5064 4.16269 10.3814C4.15468 10.2564 4.15067 10.132 4.15067 10.008C4.15067 9.88944 4.15468 9.76898 4.16269 9.64665C4.17071 9.52431 4.18433 9.3905 4.20357 9.24521L2.16992 7.70835L4.09296 4.39108L6.4359 5.37667C6.63676 5.21747 6.85124 5.0719 7.07934 4.93996C7.30745 4.808 7.53155 4.70196 7.75163 4.62183L8.07696 2.08337H11.923L12.2404 4.62985C12.4904 4.72066 12.7166 4.82669 12.9191 4.94796C13.1215 5.06922 13.3259 5.21212 13.532 5.37667L15.907 4.39108L17.8301 7.70835L15.7644 9.26923C15.7943 9.40385 15.8106 9.52966 15.8133 9.64665C15.8159 9.76363 15.8173 9.88142 15.8173 10C15.8173 10.1133 15.8146 10.2284 15.8093 10.3454C15.8039 10.4624 15.7847 10.5962 15.7516 10.7468L17.8013 12.2917L15.8782 15.625L13.532 14.6234C13.3259 14.7879 13.1154 14.9335 12.9006 15.0601C12.6859 15.1867 12.4658 15.2901 12.2404 15.3702L11.923 17.9167H8.07696ZM10.0096 12.5C10.703 12.5 11.293 12.2567 11.7796 11.77C12.2663 11.2834 12.5096 10.6934 12.5096 10C12.5096 9.30666 12.2663 8.71665 11.7796 8.23C11.293 7.74336 10.703 7.50004 10.0096 7.50004C9.30771 7.50004 8.71557 7.74336 8.23319 8.23C7.75083 8.71665 7.50965 9.30666 7.50965 10C7.50965 10.6934 7.75083 11.2834 8.23319 11.77C8.71557 12.2567 9.30771 12.5 10.0096 12.5ZM10.0096 11.25C9.66239 11.25 9.36725 11.1285 9.12419 10.8854C8.88114 10.6424 8.75961 10.3472 8.75961 10C8.75961 9.6528 8.88114 9.35766 9.12419 9.1146C9.36725 8.87155 9.66239 8.75002 10.0096 8.75002C10.3568 8.75002 10.652 8.87155 10.895 9.1146C11.1381 9.35766 11.2596 9.6528 11.2596 10C11.2596 10.3472 11.1381 10.6424 10.895 10.8854C10.652 11.1285 10.3568 11.25 10.0096 11.25ZM9.16667 16.6667H10.8045L11.1042 14.4343C11.5294 14.3232 11.918 14.1653 12.27 13.9608C12.6221 13.7562 12.9615 13.4931 13.2885 13.1715L15.359 14.0417L16.1795 12.625L14.3718 11.2628C14.4412 11.047 14.4885 10.8355 14.5136 10.6282C14.5387 10.421 14.5513 10.2116 14.5513 10C14.5513 9.78315 14.5387 9.57374 14.5136 9.37181C14.4885 9.1699 14.4412 8.9637 14.3718 8.75323L16.1955 7.37502L15.375 5.95835L13.2804 6.84137C13.0016 6.54329 12.6675 6.27994 12.278 6.05131C11.8886 5.82267 11.4947 5.66081 11.0962 5.56573L10.8333 3.33335H9.17948L8.90386 5.55771C8.47864 5.65814 8.08601 5.81199 7.72596 6.01925C7.36592 6.22651 7.02244 6.49361 6.69553 6.82054L4.62501 5.95835L3.80448 7.37502L5.60417 8.71637C5.53473 8.91401 5.48612 9.11967 5.45834 9.33335C5.43056 9.54703 5.41667 9.77193 5.41667 10.008C5.41667 10.2249 5.43056 10.4375 5.45834 10.6459C5.48612 10.8542 5.53205 11.0598 5.59615 11.2628L3.80448 12.625L4.62501 14.0417L6.68751 13.1667C7.00374 13.4915 7.34188 13.7575 7.70192 13.9648C8.06196 14.172 8.45994 14.3312 8.89584 14.4423L9.16667 16.6667Z" fill="#45474A"/>\n                </svg>\n\n                <span>{{i18n_go_to_settings}}</span>\n\n                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M4.42316 17.0836C4.00222 17.0836 3.64591 16.9378 3.35425 16.6461C3.06258 16.3545 2.91675 15.9981 2.91675 15.5772V4.42341C2.91675 4.00246 3.06258 3.64616 3.35425 3.35449C3.64591 3.06283 4.00222 2.91699 4.42316 2.91699H9.67952V4.16697H4.42316C4.35905 4.16697 4.30028 4.19368 4.24685 4.2471C4.19344 4.30053 4.16673 4.3593 4.16673 4.42341V15.5772C4.16673 15.6413 4.19344 15.7001 4.24685 15.7535C4.30028 15.8069 4.35905 15.8336 4.42316 15.8336H15.577C15.6411 15.8336 15.6998 15.8069 15.7533 15.7535C15.8067 15.7001 15.8334 15.6413 15.8334 15.5772V10.3208H17.0834V15.5772C17.0834 15.9981 16.9375 16.3545 16.6459 16.6461C16.3542 16.9378 15.9979 17.0836 15.577 17.0836H4.42316ZM8.09942 12.7791L7.22123 11.901L14.9552 4.16697H11.6667V2.91699H17.0834V8.33364H15.8334V5.04516L8.09942 12.7791Z" fill="#1A1C1E"/>\n                </svg>\n            </dropdown-item>\n        </dropdown-box>\n    </div>\n\n    <div id="mobile-wrapper" class="btn-control relative is-active last-of-type" hidden="true">\n        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M12.8976 16.875C13.2765 16.875 13.5972 16.7437 13.8597 16.4812C14.1222 16.2187 14.2534 15.898 14.2534 15.5192V2.48078C14.2534 2.10193 14.1222 1.78125 13.8597 1.51875C13.5972 1.25625 13.2765 1.125 12.8976 1.125H7.84958V2.24998H12.8976C12.9553 2.24998 13.0082 2.27402 13.0563 2.32209C13.1044 2.37018 13.1284 2.42308 13.1284 2.48078V3.1875H7.84958V4.31246H13.1284V13.6875H5.62844V12.1875H4.50345V15.5192C4.50345 15.898 4.6347 16.2187 4.89721 16.4812C5.15971 16.7437 5.48038 16.875 5.85923 16.875H12.8976ZM13.1284 14.8125V15.5192C13.1284 15.5769 13.1044 15.6298 13.0563 15.6779C13.0082 15.7259 12.9553 15.75 12.8976 15.75H5.85923C5.80153 15.75 5.74864 15.7259 5.70055 15.6779C5.65247 15.6298 5.62844 15.5769 5.62844 15.5192V14.8125H13.1284ZM4.87844 10.2331L8.36881 6.74276L7.57844 5.95241L5.44092 8.08991V2.4375H4.31595V8.08991L2.17844 5.95241L1.38807 6.74276L4.87844 10.2331Z" fill="currentColor"/>\n        </svg>\n    </div>\n\n    <div id="onboard-nmp" hidden="true"></div>\n\n</div>'),n.a.set("template-sound-only-tour",'<div class="tour-container">\n    <div class="pointer"></div>\n    <div class="dialog-content">\n        <h2>{{i18n_title}}</h2>\n        <div class="dialog-description">\n            <p>{{{i18n_description}}}</p>\n        </div>\n        <button class="try-now">{{i18n_lets_try_btn}}</button>\n    </div>\n</div>'),n.a.set("template-list",'<ul class="downloads-list">\n    {{#downloads}}\n        {{>media_template}}\n    {{/downloads}}\n</ul>'),n.a.set("template-media",'<panel value="media" class="media-download-panel quality-selector-box">\n    {{#media_list}}\n        <div class="extension-box">\n            <div class="extensions-label">\n                {{{type_icon}}}\n                <strong>{{i18n_type}}</strong>\n            </div>\n            {{#media}}\n                <div id="media_{{id}}" data-id="{{id}}" data-quality-value="{{ext}}/{{quality}}/{{resolution}}" class="quality-label j-quality {{#fast}}is-fast{{/fast}}">\n                    <strong class="media-name {{type}}">\n                        {{#i18n_quality}}\n                            {{i18n_quality}}\n                        {{/i18n_quality}}\n                        {{^i18n_quality}}\n                            {{quality}}\n                        {{/i18n_quality}}\n                    </strong>\n                    <p class="media-sub-wrap {{#resolution}}with-resolution{{/resolution}}">\n                        <span class="media-sub-info info-ext">\n                            .{{i18n_ext}}{{^i18n_ext}}{{ext}}{{/i18n_ext}}\n                        </span>\n                        {{#resolution}}\n                            <span class="media-sub-info info-resolution">\n                                {{resolution}}\n                            </span>\n                        {{/resolution}}\n                    </p>\n                </div>\n            {{/media}}\n        </div>\n    {{/media_list}}\n</panel>'),n.a.set("template-media-popup",'<div class="j-media-scope media-scope" title="{{title}}">\n    <span class="filename" title="{{title}}">{{title}}</span>\n\n    <div class="select-wrapper">\n        <span class="select">\n            <span class="j-quality-option quality-option" data-item="loading" hidden>\n                <svg width="20" height="20" class="loading-3-dots" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"></svg>\n                {{i18n_downloading_media}}\n            </span>\n            {{#media}}\n                {{#media}}\n                    <span class="j-quality-option quality-option" data-quality="{{ext}}/{{quality}}/{{resolution}}" hidden>\n                        <span class="selected-type">{{i18n_type}}</span>\n                        <span class="quality-option-ext-quality">\n                            {{#i18n_quality}}\n                                {{i18n_quality}}\n                            {{/i18n_quality}}\n                            {{^i18n_quality}}\n                                {{#quality}}{{quality}}{{/quality}}\n                            {{/i18n_quality}}\n                        </span>\n                        <span class="file-size{{#size}} done{{/size}}" id="size_{{id}}">{{size}}</span>\n                    </span>\n                {{/media}}\n            {{/media}}\n        </span>\n\n        \x3c!-- Pseudo Select --\x3e\n        <div class="quality-selector-box j-quality-selector" hidden>\n            <div class="quality-selector-box-relative">\n                {{#media}}\n                    <div class="extension-box">\n                        <div class="extensions-label">\n                            {{{type_icon}}}\n                            <strong>{{i18n_type}}</strong>\n                        </div>\n                        {{#media}}\n                            <div data-quality-value="{{ext}}/{{quality}}/{{resolution}}" class="quality-label j-quality {{#fast}}is-fast{{/fast}}">\n                                <strong class="media-name {{type}}">\n                                    {{#i18n_quality}}\n                                        {{i18n_quality}}\n                                    {{/i18n_quality}}\n                                    {{^i18n_quality}}\n                                        {{quality}}\n                                    {{/i18n_quality}}\n                                </strong>\n\n                                <p class="media-sub-wrap">\n                                    <span class="media-sub-info info-ext">\n                                        .{{i18n_ext}}{{^i18n_ext}}{{ext}}{{/i18n_ext}}\n                                    </span>\n\n                                    <span class="media-sub-info info-size popup j-checked-size">\n                                        {{size}}\n                                    </span>\n\n                                    <span class="media-sub-info info-resolution">\n                                        {{resolution}}\n                                    </span>\n                                </p>\n                            </div>\n                        {{/media}}\n                    </div>\n                {{/media}}\n            </div>\n        </div>\n    </div>\n\n    {{#media}}\n        {{#media}}\n            <a title="{{title}}" class="{{#playable}}play-now-btn{{/playable}} {{^playable}}download-btn{{/playable}} {{#hide}}visible{{/hide}} j-quality-download"\n               data-quality="{{ext}}/{{quality}}/{{resolution}}"\n               data-id="{{id}}"\n               data-url="{{url}}"\n               id="media_{{id}}"\n               >\n                {{#playable}}\n                    <svg class="play-now-play-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M6.41171 3.33325C6.11775 3.33325 5.8294 3.41274 5.57765 3.5631C5.30283 3.71914 5.07527 3.94559 4.91883 4.21882C4.76207 4.4926 4.68255 4.80317 4.68855 5.1179L4.68855 14.8903C4.68255 15.205 4.76207 15.5156 4.91883 15.7894C5.07647 16.0647 5.30632 16.2925 5.58397 16.4487C5.82843 16.5871 6.1042 16.662 6.38566 16.6665L6.38836 16.6665C6.69761 16.6698 7.00127 16.585 7.26337 16.4223L15.4943 11.5337L15.5027 11.5285C15.7634 11.367 15.9785 11.1424 16.1276 10.8757C16.2767 10.609 16.3549 10.3091 16.3549 10.0041C16.3549 9.69915 16.2767 9.39921 16.1276 9.13251C15.9785 8.86582 15.7635 8.64109 15.5027 8.4796L7.25313 3.56752L7.25148 3.56652C6.99838 3.41395 6.70789 3.33325 6.41171 3.33325Z" fill="white"/>\n                    </svg>\n                {{/playable}}\n            </a>\n        {{/media}}\n    {{/media}}\n</div>'),n.a.set("template-onboard-popup","\n{{#img_class}}\n    <div class='popup-header'>\n        <div class='logo'></div>\n        <div class='title'>{{sidebar_onboard_title}}</div>\n        {{#close_button}}\n            <div class='close_button'>\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M13.41 12L17.71 7.71C17.8983 7.5217 18.0041 7.2663 18.0041 7C18.0041 6.7337 17.8983 6.47831 17.71 6.29C17.5217 6.1017 17.2663 5.99591 17 5.99591C16.7337 5.99591 16.4783 6.1017 16.29 6.29L12 10.59L7.71 6.29C7.5217 6.1017 7.2663 5.99591 7 5.99591C6.7337 5.99591 6.4783 6.1017 6.29 6.29C6.1017 6.47831 5.99591 6.7337 5.99591 7C5.99591 7.2663 6.1017 7.5217 6.29 7.71L10.59 12L6.29 16.29C6.19627 16.383 6.12188 16.4936 6.07111 16.6154C6.02034 16.7373 5.9942 16.868 5.9942 17C5.9942 17.132 6.02034 17.2627 6.07111 17.3846C6.12188 17.5064 6.19627 17.617 6.29 17.71C6.38296 17.8037 6.49356 17.8781 6.61542 17.9289C6.73728 17.9797 6.86799 18.0058 7 18.0058C7.13201 18.0058 7.26272 17.9797 7.38458 17.9289C7.50644 17.8781 7.61704 17.8037 7.71 17.71L12 13.41L16.29 17.71C16.383 17.8037 16.4936 17.8781 16.6154 17.9289C16.7373 17.9797 16.868 18.0058 17 18.0058C17.132 18.0058 17.2627 17.9797 17.3846 17.9289C17.5064 17.8781 17.617 17.8037 17.71 17.71C17.8037 17.617 17.8781 17.5064 17.9289 17.3846C17.9797 17.2627 18.0058 17.132 18.0058 17C18.0058 16.868 17.9797 16.7373 17.9289 16.6154C17.8781 16.4936 17.8037 16.383 17.71 16.29L13.41 12Z\" fill=\"currentColor\"/>\n                </svg>\n            </div>\n        {{/close_button}}\n    </div>\n    <div class='feature-img'>\n        <img src='{{img_class}}'/>\n        {{#button_icon_selector_show}}\n            <div class='control'>\n                <div class='icon messenger {{#messenger_active}}active{{/messenger_active}}'></div>\n                <div class='icon zalo {{#zalo_active}}active{{/zalo_active}}'></div>\n                <div class='icon tele {{#tele_active}}active{{/tele_active}}'></div>\n                <div class='icon skype {{#skype_active}}active{{/skype_active}}'></div>\n            </div>\n        {{/button_icon_selector_show}}\n    </div>\n{{/img_class}}\n<div class='desc {{^img_class}}no_header{{/img_class}}'>\n    {{{i18n_desc_text}}}\n</div>\n<div class='bottom-control {{^img_class}}no_header{{/img_class}}'>\n    {{#pass_text}}\n        <button class='cancel-btn'>\n            {{pass_text}}\n        </button>\n    {{/pass_text}}\n    <button class='onboarding-btn'>\n        {{#button_icon}}\n            <div class='icon {{button_icon}}'></div>\n        {{/button_icon}}\n        <span>{{i18n_try_now}}</span>\n    </button>\n</div>"),n.a.set("template-tooltip-play-now-bottom",'<div class="tooltip-box tooltip-box-bottom" hidden>\n    <div class="tooltip tleft">\n        {{{i18n_play_text}}}\n        <form action="" class="not-show">\n            <input type="checkbox" name="vehicle" value="" id="play-now-not-show-check-bottom">\n            <label for="play-now-not-show-check-bottom">{{i18n_play_not_show}}</label>\n        </form>\n        <span class="closebtn" id="close-play-now-tooltip-bottom">\n            <svg width="16" height="16" focusable="false" role="img" viewBox="0 0 320 512">\n                <path fill="currentColor" d="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z" />\n            </svg>\n        </span>\n    </div>\n</div>'),n.a.set("template-mobile-transfer-panel",'<dropdown-box class="transfer-to-mobile hidden">\n    <div class="mobile-content-box">\n\n        <dropdown-box-header class="mobile-content-box-header">\n            <savior-image data-src="/images/logo_cc.svg"></savior-image>\n            <h2>{{i18n_mobile_header_title}}</h2>\n            <button class="dropdown-box-closer" id="mobile-transfer-closer">\n                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M5.33327 15.5448L4.45508 14.6667L9.12174 9.99999L4.45508 5.33333L5.33327 4.45514L9.99993 9.12181L14.6666 4.45514L15.5448 5.33333L10.8781 9.99999L15.5448 14.6667L14.6666 15.5448L9.99993 10.8782L5.33327 15.5448Z" fill="currentColor"/>\n                </svg>\n            </button>\n        </dropdown-box-header>\n\n        <savior-row class="mobile-content-body">\n            <instruction class="">\n                <div class="mobile-instruction-text">{{i18n_mobile_instruction_1}}</div>\n                <div class="mobile-instruction-image">\n                    <picture>\n                        <source srcset="" media="(prefers-color-scheme: dark)" id="mobile-instruction-image-dark">\n                        <img src="" alt="Instruction" id="mobile-instruction-image">\n                    </picture>\n                </div>\n\n            </instruction>\n\n            <instruction class="">\n                <div class="mobile-instruction-text">{{i18n_mobile_instruction_2}}</div>\n                <savior-row class="mobile-instruction-body">\n                    <div class="mobile-switch-box">\n                        <div class="switch">\n                            <savior-row class="switch-field">\n                                <input type="radio" id="switch-video" name="send-type" value="video" checked />\n                                <label for="switch-video">\n                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path d="M4.54791 19.5C4.04278 19.5 3.61521 19.325 3.26521 18.975C2.91523 18.625 2.74023 18.1974 2.74023 17.6922V6.3077C2.74023 5.80257 2.91523 5.375 3.26521 5.025C3.61521 4.675 4.04278 4.5 4.54791 4.5H15.9325C16.4376 4.5 16.8652 4.675 17.2152 5.025C17.5652 5.375 17.7402 5.80257 17.7402 6.3077V10.8846L21.2593 7.36543V16.6345L17.7402 13.1153V17.6922C17.7402 18.1974 17.5652 18.625 17.2152 18.975C16.8652 19.325 16.4376 19.5 15.9325 19.5H4.54791ZM4.54791 18H15.9325C16.0222 18 16.096 17.9711 16.1536 17.9134C16.2113 17.8557 16.2402 17.782 16.2402 17.6922V6.3077C16.2402 6.21795 16.2113 6.14423 16.1536 6.08652C16.096 6.02882 16.0222 5.99997 15.9325 5.99997H4.54791C4.45816 5.99997 4.38443 6.02882 4.32673 6.08652C4.26903 6.14423 4.24018 6.21795 4.24018 6.3077V17.6922C4.24018 17.782 4.26903 17.8557 4.32673 17.9134C4.38443 17.9711 4.45816 18 4.54791 18Z" fill="currentColor"/>\n                                    </svg>\n                                    <span>{{i18n_mobile_video}}</span>\n                                </label>\n                                <input type="radio" id="switch-audio" name="send-type" value="audio" />\n                                <label for="switch-audio">\n                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.01641 19.3757C4.70182 20.0611 5.52577 20.4038 6.48826 20.4038C7.45074 20.4038 8.27469 20.0611 8.96011 19.3757C9.64551 18.6903 9.98821 17.8663 9.98821 16.9038V6.86537H19.5123V14.0885C19.2315 13.8603 18.9238 13.6891 18.5892 13.575C18.2546 13.4609 17.8956 13.4039 17.5123 13.4039C16.5498 13.4039 15.7259 13.7466 15.0405 14.432C14.355 15.1174 14.0123 15.9413 14.0123 16.9038C14.0123 17.8663 14.355 18.6903 15.0405 19.3757C15.7259 20.0611 16.5498 20.4038 17.5123 20.4038C18.4748 20.4038 19.2987 20.0611 19.9842 19.3757C20.6696 18.6903 21.0123 17.8663 21.0123 16.9038V6.86537V3.59619H20.0121H19.5123H8.48826V14.0885C8.20749 13.8603 7.8998 13.6891 7.56518 13.575C7.23056 13.4609 6.87159 13.4039 6.48826 13.4039C5.52577 13.4039 4.70182 13.7466 4.01641 14.432C3.33099 15.1174 2.98828 15.9413 2.98828 16.9038C2.98828 17.8663 3.33099 18.6903 4.01641 19.3757Z" fill="currentColor"/>\n                                    </svg>\n                                    <span>{{i18n_mobile_audio}}</span>\n                                </label>\n                            </savior-row>\n\n                        </div>\n                    </div>\n                    <savior-row class="mobile-qrcode mobile-default-row-gap">\n                        <div class="qrcode loading"></div>\n                    </savior-row>\n                </savior-row>\n            </instruction>\n        </savior-row>\n\n        <savior-row class="mobile-footer mobile-default-row-gap">\n            <div class="footer-text">{{i18n_mobile_panel_footer}}</div>\n            <savior-row class="download-web-stores">\n                <figure class="store google-play" id="google-play"></figure>\n                <figure class="store app-store" id="app-store"></figure>\n            </savior-row>\n        </savior-row>\n    </div>\n</dropdown-box>\n'),n.a.set("template-promote-serp",'<div class="promote-serp-block">\n    <div id="close">&times;</div>\n    <p>{{i18n_desc}}</p>\n\n    <div class="btn-block">\n        <button class="btn green" id="check">{{i18n_btn_check}}</button>\n        <button class="btn" id="settings">{{i18n_btn_settings}}</button>\n    </div>\n</div>'),n.a.set("template-onboard-new-panel",'<dropdown-box id="onboard-nmp" hidden="true">\n    <dropdown-box-body>\n        <div class="info">\n            <h2 data-text="header">{{i18n_onboard_header}}</h2>\n            <p class="" data-text="desc">{{i18n_onboard_desc}}</p>\n        </div>\n        <savior-row class="onboard-nmp-footer">\n            <step-indicator id="onboard-nmp-indicator" steps="3" current="1" controls></step-indicator>\n            <savior-row>\n                <button class="btn-chip" id="onboard-nmp-abort" >\n                    <span>{{i18n_abort}}</span>\n                </button>\n                <button class="btn-chip btn-primary" id="onboard-nmp-next" >\n                    <span>{{i18n_next}}</span>\n                </button>\n                <button class="btn-chip btn-primary" id="onboard-nmp-complete" >\n                    <span>{{i18n_complete}}</span>\n                </button>\n            </savior-row>\n        </savior-row>\n    </dropdown-box-body>\n</dropdown-box>'),n.a.set("template-onboard-youtube-anti-adblocker",'<dropdown-box id="onboard-yaa" hidden="true">\n    <dropdown-box-body>\n        <div class="info">\n            <h2 data-text="header">\n                {{i18n_onboard_header}}\n                <button id="onboard-yaa-close" title="{{i18n_close}}">\n                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M5.33339 15.5448L4.4552 14.6667L9.12187 9.99999L4.4552 5.33333L5.33339 4.45514L10.0001 9.12181L14.6667 4.45514L15.5449 5.33333L10.8782 9.99999L15.5449 14.6667L14.6667 15.5448L10.0001 10.8782L5.33339 15.5448Z" fill="currentColor"/>\n                    </svg>\n                </button>\n            </h2>\n            <p class="" data-text="desc">{{{i18n_onboard_desc}}}</p>\n        </div>\n        <savior-row class="onboard-yaa-footer">\n            <img src="{{image_source}}" alt="Youtube anti-adblocker guide" />\n        </savior-row>\n    </dropdown-box-body>\n</dropdown-box>')}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t),function(e){r(60);var t=r(4),n=r(152),i=r(148),o=r(103),a=r(9),s=r(150),u=(r(417),r(413),r(105)),c=r(2),l=r(0),d=r(1),h=r(3),p=r(26);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new A(i||[]);return n(a,"_invoke",{value:E(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};u(m,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&r.call(b,o)&&(m=b);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;n(this,"_invoke",{value:function(n,o){function a(){return new t((function(i,a){!function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=D(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function D(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,D(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=f,n(y,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),u(y,s,"Generator"),u(y,o,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var g,b=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};chrome.offscreen&&chrome.offscreen.createDocument;e.IS_CONTENT_SCRIPT=!1;Object(h.e)();function y(e,t,r){return b(this,void 0,void 0,v().mark((function n(){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=11;break}if(!r&&0!==r){n.next=7;break}return n.next=5,chrome.tabs.sendMessage(e,t,{frameId:r});case 5:n.next=9;break;case 7:return n.next=9,chrome.tabs.sendMessage(e,t);case 9:n.next=13;break;case 11:return n.next=13,chrome.runtime.sendMessage(t);case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))}function _(){var e,r,n,i=(null===(e=t.a.get(d.q))||void 0===e?void 0:e.turn_off_adblock_max_attemp)||d.h,o=t.a.get(d.q).turn_off_adblock_duration||d.g,a=t.a.get(d.r);(!a||a.startAt+60*o*1e3<Date.now())&&(a={retryNo:0,startAt:Date.now()}),a.retryNo++,t.a.set(d.r,a),a.retryNo<=i&&(null===(n=null===(r=chrome.coccoc)||void 0===r?void 0:r.mayTurnOffAdblockOnYoutube)||void 0===n||n.call(r))}null===(g=chrome.action)||void 0===g||g.disable(),t.a.load().then(()=>{var e;p.a.loadTestsFromServer(),n.a.load(),chrome.storage.local.get(["onboardTrack"],t=>{e=t.onboardTrack||{}}),chrome.tabs.onUpdated.addListener((e,t,r)=>{a.b&&a.b.isYSERPHref(r.url)&&"complete"===t.status&&r.active&&EE.emit("yserp_matched",e)});var t={};chrome.webNavigation.onBeforeNavigate.addListener(e=>{var r=`${e.tabId}_${e.frameId}`;t[r]||(t[r]=[]),t[r].push(e.url)}),chrome.tabs.onRemoved.addListener(e=>{Object.keys(t).forEach(r=>{r.startsWith(e+"_")&&delete t[r]})});var r="";chrome.runtime.onMessage.addListener((function(n,a,h){var p,m,g,w,E,D,C,T;return b(this,void 0,void 0,v().mark((function A(){var x,L,S,O,R,k,I,F,B,N;return v().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:x=(null===(p=a.tab)||void 0===p?void 0:p.id)||0,n.id&&(r=n.id),A.t0=n.type,A.next=A.t0===d.a.PROMOTE_SERP._?5:A.t0===d.a.PROMOTE_SERP.GET?7:A.t0===d.a.PROMOTE_SERP.CLOSE?9:A.t0===d.a.ONBOARD_TRACK.GET?11:A.t0===d.a.DOWNLOAD?13:A.t0===d.a.PLAY?19:A.t0===d.a.SET_FEATURE?21:A.t0===d.a.IS_SUPPORTED?23:A.t0===d.a.ONBOARD_TRACK.SAVE?28:A.t0===d.a.FRAME_TYPE?31:A.t0===d.a.YOUTUBE.GET_INFO?34:A.t0===d.a.FETCH?36:A.t0===d.a.YOUTUBE.GET_MPD?48:A.t0===d.a.OMNI.ACTIVE?61:A.t0===d.a.OMNI.DEACTIVE?63:A.t0===d.a.GET_URL?65:A.t0===d.a.METRICS?67:A.t0===d.a.CACHE?69:A.t0===d.a.PIP.INNER?72:A.t0===d.a.PIP.REQUEST?74:A.t0===d.a.CONSOLE_LOG?76:A.t0===d.a.GET_MATCHED_REQUESTS?78:A.t0===d.a.GET_SERVER_TIME?80:A.t0===d.a.SCRIPTING.EXEC?82:A.t0===d.a.SCRIPTING.INJECT?84:A.t0===d.a.SCRIPTING.NOTIFY?87:A.t0===d.a.OPEN_SEARCH_SETTINGS?89:A.t0===d.a.OPEN_SETTINGS?91:A.t0===d.a.TURN_OFF_ADBLOCK_ON_YOUTUBE?93:A.t0===d.a.TURN_ON_ADBLOCK_ON_YOUTUBE?95:A.t0===d.a.GET_FASTFORWARD_ENABLED?97:A.t0===d.a.PIP.ON.ENTER?99:A.t0===d.a.PIP.ON.LEAVE?101:103;break;case 5:return chrome.cookies.get({url:"https://coccoc.com",name:"coccoc_office"},e=>{var t={type:"promote_serp_result"};e&&"1"===e.value?t.data=!0:t.data=!1,y(x,t)}),A.abrupt("break",103);case 7:return chrome.storage.local.get(["is_promote_serp_closed"],e=>{y(x,{type:"get_promote_serp_result",data:e.is_promote_serp_closed})}),A.abrupt("break",103);case 9:return chrome.storage.local.set({is_promote_serp_closed:1}),A.abrupt("break",103);case 11:return y(x,{type:"onboard_track_result",data:e[(null===(m=null==n?void 0:n.params)||void 0===m?void 0:m.site)||{}]}),A.abrupt("break",103);case 13:return A.next=15,o.a.processRequest(null===(g=a.tab)||void 0===g?void 0:g.id,n.data.method,n.data.params,a.tab);case 15:return A.t1=A.sent,L={type:"download.result",data:A.t1},y(x,L),A.abrupt("break",103);case 19:return o.a.play(n.id),A.abrupt("break",103);case 21:return Object(u.a)(n,a),A.abrupt("break",103);case 23:return A.next=25,Object(u.b)(n,a);case 25:return S=A.sent,y(x,S),A.abrupt("break",103);case 28:return e[n.params.site]=n.params.data,chrome.storage.local.set({onboardTrack:e}),A.abrupt("break",103);case 31:return d.m.filter(e=>e.constructor.toString().includes("RegExp()")).some(e=>{var t;return null===(t=a.url)||void 0===t?void 0:t.match(e)})||0!==a.frameId||y(x,{type:"init_main_frame"},0),A.abrupt("break",103);case 34:try{chrome.storage.local.get("timeout",e=>b(this,void 0,void 0,v().mark((function e(){var t,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(n.data.url);case 2:t=e.sent,(r={type:"youtube_get_info",data:t}).data.url=n.data.url,y(x,r);case 6:case"end":return e.stop()}}),e)}))))}catch(e){console.log("Caught",e),y(x,{type:"youtube_get_info",data:{url:n.data.url}})}return A.abrupt("break",103);case 36:return A.prev=36,A.next=39,l.send(n.data.method,n.data.url,n.data.params,n.data.headers,n.data.includeCredentials);case 39:R=A.sent,O={type:"background_request_result",data:{success:"resolve",id:n.data.id,response:R}},A.next=46;break;case 43:A.prev=43,A.t2=A.catch(36),O={type:"background_request_result",data:{success:"reject",id:n.data.id,response:A.t2}};case 46:return y(x,O),A.abrupt("break",103);case 48:return A.prev=48,A.next=51,l.send(n.data.method,n.data.url,n.data.params,n.data.headers,n.data.includeCredentials);case 51:I=A.sent,F=I.responseText,k={type:"youtube_set_mpd_info",data:{success:"resolve",response:F}},A.next=59;break;case 56:A.prev=56,A.t3=A.catch(48),k={type:"youtube_set_mpd_info",data:{success:"reject",response:A.t3}};case 59:return y(x,k),A.abrupt("break",103);case 61:return chrome.action?chrome.action.enable(null===(w=a.tab)||void 0===w?void 0:w.id):chrome.pageAction.show(x),A.abrupt("break",103);case 63:return chrome.action?chrome.action.disable(null===(E=a.tab)||void 0===E?void 0:E.id):chrome.pageAction.hide(x),A.abrupt("break",103);case 65:return chrome.webNavigation.getAllFrames({tabId:x},e=>{var t,r=[],i=f(e||[]);try{var o=function(){var e=t.value;0!==e.frameId&&r.push(new Promise(t=>{try{chrome.tabs.sendMessage(x,Object.assign({type:"get_inner_data",id:n.id},(null==n?void 0:n.params)||{}),{frameId:e.frameId},e=>t(e))}catch(e){t(void 0)}}))};for(i.s();!(t=i.n()).done;)o()}catch(e){i.e(e)}finally{i.f()}Promise.all(r).then(e=>{var t=e.find(e=>e&&e.data);t?y(x,{type:"return_inner_data",data:t},0):(e[0]=e[0]||{id:n.id},y(x,{type:"return_inner_data",data:e[0]}))})}),A.abrupt("break",103);case 67:return"log"===n.method?(B=n.params,c.a.logFromContentScript(B.name,B.value)):"log_request"===n.method&&c.a.logRequest(n.params),A.abrupt("break",103);case 69:return N=s.a.processRequest(n.data.method,n.data.params),"get"===n.data.method&&(null==N||N.then(e=>({type:"cache.background.hit",data:{id:n.data.id,result:e}})).catch(()=>({type:"cache.background.miss",data:{id:n.data.id}})).then(e=>y(x,e))),A.abrupt("break",103);case 72:return chrome.webNavigation.getAllFrames({tabId:x},e=>{var r,i,o,a=e||[],s=n.params.url;""==s&&(s="about:blank");var u=!1;(null==s?void 0:s.startsWith("blob:"))&&(u=!0);var c,l=null===(r=a.find(e=>-1==e.parentFrameId))||void 0===r?void 0:r.url,d=f(a);try{for(d.s();!(c=d.n()).done;){var h=c.value,p=`${x}_${h.frameId}`,m=null==s?void 0:s.includes("playhydrax.com"),v=u&&(null==s?void 0:s.includes("javhdporn."));if(null==s?void 0:s.includes("playhydrax.com")){var g=new URL(s).search;m=null===(i=h.url)||void 0===i?void 0:i.includes(g)}try{(-1!=h.parentFrameId&&(h.url==s||m||v)||(null===(o=t[p])||void 0===o?void 0:o.some(e=>e==s||e.startsWith(s))))&&chrome.tabs.sendMessage(x,Object.assign(Object.assign({},n.params),{type:"inner_pip",requestUrl:l}),{frameId:h.frameId})}catch(e){console.log(e)}}}catch(e){d.e(e)}finally{d.f()}}),A.abrupt("break",103);case 74:return EE.emit("pipRequest",{method:n.method,params:n.params}),A.abrupt("break",103);case 76:return console.log(n),A.abrupt("break",103);case 78:return EE.emit("request_cache.get_matched_requests",{id:x}),A.abrupt("break",103);case 80:return EE.emit("request_cache.get_server_time",{id:x,msgId:n.id}),A.abrupt("break",103);case 82:return chrome.scripting.executeScript({target:{tabId:x},world:chrome.scripting.ExecutionWorld.MAIN,func:n.func}),A.abrupt("break",103);case 84:return chrome.scripting.executeScript({target:{tabId:x},world:chrome.scripting.ExecutionWorld.MAIN,files:[`inject/${n.file}/main-world.js`]}),chrome.scripting.executeScript({target:{tabId:x},files:[`inject/${n.file}/index.js`]}),A.abrupt("break",103);case 87:return y(x,Object.assign(Object.assign({},n),{type:"return_inner_data",data:Object.assign(Object.assign({},n.data),{id:r})})),A.abrupt("break",103);case 89:return chrome.tabs.create({url:"coccoc://settings/searchEngines"}),A.abrupt("break",103);case 91:return chrome.runtime.openOptionsPage(),A.abrupt("break",103);case 93:return(null===(D=chrome.coccoc)||void 0===D?void 0:D.shouldBlockAdsOnYoutubeBySavior)?chrome.coccoc.shouldBlockAdsOnYoutubeBySavior(e=>{e||_()}):_(),A.abrupt("break",103);case 95:return null===(T=null===(C=chrome.coccoc)||void 0===C?void 0:C.mayTurnOnAdblockOnYoutube)||void 0===T||T.call(C),A.abrupt("break",103);case 97:try{chrome.coccoc.shouldBlockAdsOnYoutubeBySavior(e=>{y(x,{type:"return_inner_data",data:{id:n.id,data:e}})})}catch(e){y(x,{type:"return_inner_data",data:{id:n.id,data:null}})}return A.abrupt("break",103);case 99:return y(x,{type:"inner_pip_event_fired",data:Object.assign(Object.assign({},n.params||{}),{name:"enterpictureinpicture"})}),A.abrupt("break",103);case 101:return y(x,{type:"inner_pip_event_fired",data:Object.assign(Object.assign({},n.params||{}),{name:"leavepictureinpicture"})}),A.abrupt("break",103);case 103:return h(),A.abrupt("return",!0);case 105:case"end":return A.stop()}}),A,this,[[36,43],[48,56]])})))})),EE.on("request.matched",e=>y(e.tabId,e.data,0)),EE.on("yserp_matched",e=>y(e,{type:"yserp_metrics"})),EE.on("finish_download",e=>y(e.tabId,e)),EE.on("download_error",e=>y(e.tabId,e)),EE.on("request_cache.return_matched_requests",e=>y(e.id,{type:"request.matched",result:e.tasks},0)),EE.on("request_cache.return_server_time",e=>y(e.id,{type:"return_inner_data",data:{id:e.msgId,data:e.serverTime}},0))}).catch(e=>console.log("Caught",e)),chrome.runtime.onMessageExternal.addListener((function(e,t,r){if(!e||t.tab&&-1===t.tab.index)return console.warn("Empty external request"),void r({status:"error",error_message:"empty_request"});switch(e.action){case"pip_url":EE.emit("pipRequest",{method:"pipUrl",params:e.params}),r({status:"ok"});break;case"custom_metrics3":if("object"!=typeof e.data||!Object.keys(e.data).length)return void r({status:"error",error_message:"bad_data"});if(void 0===e.key||"string"!=typeof e.key)return void r({status:"error",error_message:"bad_key"});c.a.log("recordCustomData",[{key:e.key,value:JSON.stringify(e.data)}]),r({status:"ok"})}}))}.call(this,r(10))},function(e,t){},function(e,t,r){"use strict";var n=r(97).Buffer,i=r(392);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=o,i=s,t.copy(r,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){"use strict";e.exports=o;var n=r(117),i=Object.create(r(74));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(16),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(98)},function(e,t,r){e.exports=r(52)},function(e,t,r){e.exports=r(73).Transform},function(e,t,r){e.exports=r(73).PassThrough},function(e,t,r){const n=r(86),i=r(118),o=r(87),a=r(75),{setTimeout:s}=r(47),u=r(124),c=r(125),l=r(409),d=r(127),h=r(128),p="https://www.youtube.com/watch?v=";t.cache=new h,t.cookieCache=new h(864e5),t.watchPageCache=new h;let f="2.20210622.10.00";class m extends Error{}const v=["support.google.com/youtube/?p=age_restrictions","youtube.com/t/community_guidelines"];t.getBasicInfo=async(e,t)=>{const r=Object.assign({},o.defaultOptions,t.requestOptions);t.requestOptions=Object.assign({},t.requestOptions,{}),t.requestOptions.headers=Object.assign({},{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Safari/537.36"},t.requestOptions.headers);let n=await D([e,t],e=>{let t=a.playError(e.player_response,["ERROR"],m),r=g(e.player_response);if(t||r)throw t||r;return e&&e.player_response&&(e.player_response.streamingData||b(e.player_response)||y(e.player_response))},r,[R,O,k]);Object.assign(n,{formats:I(n.player_response),related_videos:l.getRelatedVideos(n)});const i=l.getMedia(n),s={author:l.getAuthor(n),media:i,likes:l.getLikes(n),dislikes:l.getDislikes(n),age_restricted:!!(i&&i.notice_url&&v.some(e=>i.notice_url.includes(e))),video_url:p+e,storyboards:l.getStoryboards(n),chapters:l.getChapters(n)};return n.videoDetails=l.cleanVideoDetails(Object.assign({},n.player_response&&n.player_response.microformat&&n.player_response.microformat.playerMicroformatRenderer,n.player_response&&n.player_response.videoDetails,s),n),n};const g=e=>{let t=e&&e.playabilityStatus;return t&&"LOGIN_REQUIRED"===t.status&&t.messages&&t.messages.filter(e=>/This is a private video/.test(e)).length?new m(t.reason||t.messages&&t.messages[0]):null},b=e=>{let t=e.playabilityStatus;return t&&"UNPLAYABLE"===t.status&&t.errorScreen&&t.errorScreen.playerLegacyDesktopYpcOfferRenderer},y=e=>{let t=e.playabilityStatus;return t&&"LIVE_STREAM_OFFLINE"===t.status},_=(e,t)=>`${p+e}&hl=${t.lang||"en"}`,w=(e,r)=>{const n=_(e,r);return t.watchPageCache.getOrSet(n,()=>a.exposedMiniget(n,r).text())},E=e=>{let t=/<script\s+src="([^"]+)"(?:\s+type="text\/javascript")?\s+name="player_ias\/base"\s*>|"jsUrl":"([^"]+)"/.exec(e);return t?t[1]||t[2]:null},D=async(e,t,r,n)=>{let i;for(let o of n)try{const n=await T(o,e.concat([i]),r);if(n.player_response&&(n.player_response.videoDetails=C(i&&i.player_response&&i.player_response.videoDetails,n.player_response.videoDetails),n.player_response=C(i&&i.player_response,n.player_response)),i=C(i,n),t(i,!1))break}catch(e){if(e instanceof m||o===n[n.length-1])throw e}return i},C=(e,t)=>{if(!e||!t)return e||t;for(let[r,n]of Object.entries(t))null!=n&&(e[r]=n);return e},T=async(e,t,r)=>{let n,i=0;for(;i<=r.maxRetries;)try{n=await e(...t);break}catch(e){if(e instanceof m||e instanceof o.MinigetError&&e.statusCode<500||i>=r.maxRetries)throw e;let t=Math.min(++i*r.backoff.inc,r.backoff.max);await new Promise(e=>s(e,t))}return n},A=/^[)\]}'\s]+/,x=(e,t,r)=>{if(!r||"object"==typeof r)return r;try{return r=r.replace(A,""),JSON.parse(r)}catch(r){throw Error(`Error parsing ${t} in ${e}: ${r.message}`)}},L=(e,t,r,n,i,o)=>{let s=a.between(r,n,i);if(!s)throw Error(`Could not find ${t} in ${e}`);return x(e,t,a.cutAfterJSON(`${o}${s}`))},S=(e,t)=>{const r=t&&(t.args&&t.args.player_response||t.player_response||t.playerResponse||t.embedded_player_response);return x(e,"player_response",r)},O=async(e,r)=>{const n=Object.assign({headers:{}},r.requestOptions);let i=n.headers.Cookie||n.headers.cookie;n.headers=Object.assign({"x-youtube-client-name":"1","x-youtube-client-version":f,"x-youtube-identity-token":t.cookieCache.get(i||"browser")||""},n.headers);const o=async(i,o)=>{n.headers["x-youtube-identity-token"]||(n.headers["x-youtube-identity-token"]=await((e,r,n,i)=>t.cookieCache.getOrSet(n,async()=>{let t=(await w(e,r)).match(/(["'])ID_TOKEN\1[:,]\s?"([^"]+)"/);if(!t&&i)throw new m("Cookie header used in request, but unable to find YouTube identity token");return t&&t[2]}))(e,r,i,o))};i&&await o(i,!0);const s=((e,t)=>_(e,t)+"&pbj=1")(e,r),u=await a.exposedMiniget(s,r,n).text();let c=x("watch.json","body",u);if("now"===c.reload&&await o("browser",!1),"now"===c.reload||!Array.isArray(c))throw Error("Unable to retrieve video metadata in watch.json");let l=c.reduce((e,t)=>Object.assign(t,e),{});return l.player_response=S("watch.json",l),l.html5player=l.player&&l.player.assets&&l.player.assets.js,l},R=async(e,t)=>{let r=await w(e,t),n={page:"watch"};try{f=a.between(r,'{"key":"cver","value":"','"}'),n.player_response=L("watch.html","player_response",r,/\bytInitialPlayerResponse\s*=\s*\{/i,"<\/script>","{")}catch(e){let t=L("watch.html","player_response",r,/\bytplayer\.config\s*=\s*{/,"<\/script>","{");n.player_response=S("watch.html",t)}return n.response=L("watch.html","response",r,/\bytInitialData("\])?\s*=\s*\{/i,"<\/script>","{"),n.html5player=E(r),n},k=async(e,t)=>{const r=new URL("https://www.youtube.com/get_video_info");r.searchParams.set("video_id",e),r.searchParams.set("c","TVHTML5"),r.searchParams.set("cver","7"+f.substr(1)),r.searchParams.set("eurl","https://youtube.googleapis.com/v/"+e),r.searchParams.set("ps","default"),r.searchParams.set("gl","US"),r.searchParams.set("hl",t.lang||"en"),r.searchParams.set("html5","1");const i=await a.exposedMiniget(r.toString(),t).text();let o=n.parse(i);return o.player_response=S("get_video_info",o),o},I=e=>{let t=[];return e&&e.streamingData&&(t=t.concat(e.streamingData.formats||[]).concat(e.streamingData.adaptiveFormats||[])),t};t.getInfo=async(e,r)=>{let n=await t.getBasicInfo(e,r);const i=n.player_response&&n.player_response.streamingData&&(n.player_response.streamingData.dashManifestUrl||n.player_response.streamingData.hlsManifestUrl);let o=[];if(n.formats.length){if(n.html5player=n.html5player||E(await w(e,r))||E(await((e,t)=>{const r=`${"https://www.youtube.com/embed/"+e}?hl=${t.lang||"en"}`;return a.exposedMiniget(r,t).text()})(e,r)),!n.html5player)throw Error("Unable to find html5player file");const t=new URL(n.html5player,p).toString();o.push(d.decipherFormats(n.formats,t,r))}if(i&&n.player_response.streamingData.dashManifestUrl){let e=n.player_response.streamingData.dashManifestUrl;o.push(F(e,r))}if(i&&n.player_response.streamingData.hlsManifestUrl){let e=n.player_response.streamingData.hlsManifestUrl;o.push(B(e,r))}let s=await Promise.all(o);return n.formats=Object.values(Object.assign({},...s)),n.formats=n.formats.map(u.addFormatMeta),n.formats.sort(u.sortFormats),n.full=!0,n};const F=(e,t)=>new Promise((r,n)=>{let o={};const s=i.parser(!1);let u;s.onerror=n,s.onopentag=t=>{if("ADAPTATIONSET"===t.name)u=t.attributes;else if("REPRESENTATION"===t.name){const r=parseInt(t.attributes.ID);isNaN(r)||(o[e]=Object.assign({itag:r,url:e,bitrate:parseInt(t.attributes.BANDWIDTH),mimeType:`${u.MIMETYPE}; codecs="${t.attributes.CODECS}"`},t.attributes.HEIGHT?{width:parseInt(t.attributes.WIDTH),height:parseInt(t.attributes.HEIGHT),fps:parseInt(t.attributes.FRAMERATE)}:{audioSampleRate:t.attributes.AUDIOSAMPLINGRATE}))}},s.onend=()=>{r(o)};const c=a.exposedMiniget(new URL(e,p).toString(),t);c.setEncoding("utf8"),c.on("error",n),c.on("data",e=>{s.write(e)}),c.on("end",s.close.bind(s))}),B=async(e,t)=>{e=new URL(e,p);const r=await a.exposedMiniget(e.toString(),t).text();let n={};return r.split("\n").filter(e=>/^https?:\/\//.test(e)).forEach(e=>{const t=parseInt(e.match(/\/itag\/(\d+)\//)[1]);n[e]={itag:t,url:e}}),n};for(let e of["getBasicInfo","getInfo"]){const r=t[e];t[e]=async(n,i={})=>{a.checkForUpdates();let o=await c.getVideoID(n);const s=[e,o,i.lang].join("-");return t.cache.getOrSet(s,()=>r(o,i))}}t.validateID=c.validateID,t.validateURL=c.validateURL,t.getURLVideoID=c.getURLVideoID,t.getVideoID=c.getVideoID},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var d,h,p,f,m=e[l].replace(s,"%20"),v=m.indexOf(r);v>=0?(d=m.substr(0,v),h=m.substr(v+1)):(d=m,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),n(a,p)?i(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[a]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){(function(t,n,i){var o=r(120),a=r(16),s=r(121),u=r(73),c=r(402),l=s.IncomingMessage,d=s.readyStates;var h=e.exports=function(e){var r,n=this;u.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(r,i),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};a(h,u.Writable),h.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,a=e._headers,s=null;"GET"!==r.method&&"HEAD"!==r.method&&(s=o.arraybuffer?c(t.concat(e._body)):o.blobConstructor?new n.Blob(e._body.map((function(e){return c(e)})),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(a).forEach((function(e){var t=a[e].name,r=a[e].value;Array.isArray(r)?r.forEach((function(e){u.push([t,e])})):u.push([t,r])})),"fetch"===e._mode){var l=null;if(o.abortController){var h=new AbortController;l=h.signal,e._fetchAbortController=h,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=n.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),r.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){n.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var p=e._xhr=new n.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in p&&(p.responseType=e._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(p.timeout=r.requestTimeout,p.ontimeout=function(){e.emit("requestTimeout")}),u.forEach((function(e){p.setRequestHeader(e[0],e[1])})),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{p.send(s)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},h.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},h.prototype._write=function(e,t,r){this._body.push(e),r()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),u.Writable.prototype.end.call(this,e,t,r)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(20).Buffer,r(10),r(19))},function(e,t,r){var n=r(20).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,i=0;i<r;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function m(e){throw new RangeError(h[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function g(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function y(e){return v(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=36)e=p(e/35);return p(n+36*e/(e+38))}function E(e){var t,r,n,i,o,a,s,c,l,d,h,f=[],v=e.length,g=0,b=128,_=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),f.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=g,a=1,s=36;i>=v&&m("invalid-input"),((c=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>p((u-g)/a))&&m("overflow"),g+=c*a,!(c<(l=s<=_?1:s>=_+26?26:s-_));s+=36)a>p(u/(d=36-l))&&m("overflow"),a*=d;_=w(g-o,t=f.length+1,0==o),p(g/t)>u-b&&m("overflow"),b+=p(g/t),g%=t,f.splice(g++,0,b)}return y(f)}function D(e){var t,r,n,i,o,a,s,c,l,d,h,v,g,y,E,D=[];for(v=(e=b(e)).length,t=128,r=0,o=72,a=0;a<v;++a)(h=e[a])<128&&D.push(f(h));for(n=i=D.length,i&&D.push("-");n<v;){for(s=u,a=0;a<v;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>p((u-r)/(g=n+1))&&m("overflow"),r+=(s-t)*g,t=s,a=0;a<v;++a)if((h=e[a])<t&&++r>u&&m("overflow"),h==t){for(c=r,l=36;!(c<(d=l<=o?1:l>=o+26?26:l-o));l+=36)E=c-d,y=36-d,D.push(f(_(d+E%y,0))),c=p(E/y);D.push(f(_(c,0))),o=w(r,g,n==i),r=0,++n}++r,++t}return D.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:y},decode:E,encode:D,toASCII:function(e){return g(e,(function(e){return l.test(e)?"xn--"+D(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(84)(e),r(10))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){var n=r(119),i=r(122),o=e.exports;for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);function s(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),n.request.call(this,e,t)},o.get=function(e,t){return e=s(e),n.get.call(this,e,t)}},function(e,t){e.exports={5:{mimeType:'video/flv; codecs="Sorenson H.283, mp3"',qualityLabel:"240p",bitrate:25e4,audioBitrate:64},6:{mimeType:'video/flv; codecs="Sorenson H.263, mp3"',qualityLabel:"270p",bitrate:8e5,audioBitrate:64},13:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:null,bitrate:5e5,audioBitrate:null},17:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"144p",bitrate:5e4,audioBitrate:24},18:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:96},22:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},34:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},35:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8e5,audioBitrate:128},36:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"240p",bitrate:175e3,audioBitrate:32},37:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:192},38:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"3072p",bitrate:35e5,audioBitrate:192},43:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},44:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"480p",bitrate:1e6,audioBitrate:128},45:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},46:{mimeType:'audio/webm; codecs="vp8, vorbis"',qualityLabel:"1080p",bitrate:null,audioBitrate:192},82:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:96},83:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"240p",bitrate:5e5,audioBitrate:96},84:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},85:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:192},91:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"144p",bitrate:1e5,audioBitrate:48},92:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15e4,audioBitrate:48},93:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},94:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8e5,audioBitrate:128},95:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:15e5,audioBitrate:256},96:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:256},100:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:128},101:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:192},102:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:null,audioBitrate:192},120:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:128},127:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},128:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},132:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15e4,audioBitrate:48},133:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"240p",bitrate:2e5,audioBitrate:null},134:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"360p",bitrate:3e5,audioBitrate:null},135:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},136:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:1e6,audioBitrate:null},137:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:null},138:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"4320p",bitrate:135e5,audioBitrate:null},139:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:48},140:{mimeType:'audio/m4a; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:128},141:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:256},151:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:5e4,audioBitrate:24},160:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"144p",bitrate:1e5,audioBitrate:null},171:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:128},172:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:192},242:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p",bitrate:1e5,audioBitrate:null},243:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p",bitrate:25e4,audioBitrate:null},244:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},247:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p",bitrate:7e5,audioBitrate:null},248:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p",bitrate:15e5,audioBitrate:null},249:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:48},250:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:64},251:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:160},264:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1440p",bitrate:4e6,audioBitrate:null},266:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"2160p",bitrate:125e5,audioBitrate:null},271:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p",bitrate:9e6,audioBitrate:null},272:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"4320p",bitrate:2e7,audioBitrate:null},278:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p 30fps",bitrate:8e4,audioBitrate:null},298:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:3e6,audioBitrate:null},299:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:55e5,audioBitrate:null},300:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:1318e3,audioBitrate:48},302:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HFR",bitrate:25e5,audioBitrate:null},303:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HFR",bitrate:5e6,audioBitrate:null},308:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HFR",bitrate:1e7,audioBitrate:null},313:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p",bitrate:13e6,audioBitrate:null},315:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HFR",bitrate:2e7,audioBitrate:null},330:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p HDR, HFR",bitrate:8e4,audioBitrate:null},331:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:1e5,audioBitrate:null},332:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p HDR, HFR",bitrate:25e4,audioBitrate:null},333:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:5e5,audioBitrate:null},334:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HDR, HFR",bitrate:1e6,audioBitrate:null},335:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HDR, HFR",bitrate:15e5,audioBitrate:null},336:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HDR, HFR",bitrate:5e6,audioBitrate:null},337:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HDR, HFR",bitrate:12e6,audioBitrate:null}}},function(e,t,r){const n=r(75),i=r(86),{parseTimestamp:o}=r(99),a="https://www.youtube.com/watch?v=",s={song:{name:"Music",url:"https://music.youtube.com/"}},u=e=>e?e.runs?e.runs[0].text:e.simpleText:null;t.getMedia=e=>{let t={},r=[];try{r=e.response.contents.twoColumnWatchNextResults.results.results.contents}catch(e){}let n=r.find(e=>e.videoSecondaryInfoRenderer);if(!n)return{};try{let e=(n.metadataRowContainer||n.videoSecondaryInfoRenderer.metadataRowContainer).metadataRowContainerRenderer.rows;for(let r of e)if(r.metadataRowRenderer){let e=u(r.metadataRowRenderer.title).toLowerCase(),n=r.metadataRowRenderer.contents[0];t[e]=u(n);let i=n.runs;i&&i[0].navigationEndpoint&&(t[e+"_url"]=new URL(i[0].navigationEndpoint.commandMetadata.webCommandMetadata.url,a).toString()),e in s&&(t.category=s[e].name,t.category_url=s[e].url)}else if(r.richMetadataRowRenderer){let e=r.richMetadataRowRenderer.contents,n=e.filter(e=>"RICH_METADATA_RENDERER_STYLE_BOX_ART"===e.richMetadataRenderer.style);for(let{richMetadataRenderer:e}of n){let r=e;t.year=u(r.subtitle);let n=u(r.callToAction).split(" ")[1];t[n]=u(r.title),t[n+"_url"]=new URL(r.endpoint.commandMetadata.webCommandMetadata.url,a).toString(),t.thumbnails=r.thumbnail.thumbnails}let i=e.filter(e=>"RICH_METADATA_RENDERER_STYLE_TOPIC"===e.richMetadataRenderer.style);for(let{richMetadataRenderer:e}of i){let r=e;t.category=u(r.title),t.category_url=new URL(r.endpoint.commandMetadata.webCommandMetadata.url,a).toString()}}}catch(e){}return t};const c=e=>!(!e||!e.find(e=>"Verified"===e.metadataBadgeRenderer.tooltip));t.getAuthor=e=>{let t,r,i=[],o=!1;try{let s=e.response.contents.twoColumnWatchNextResults.results.results.contents.find(e=>e.videoSecondaryInfoRenderer&&e.videoSecondaryInfoRenderer.owner&&e.videoSecondaryInfoRenderer.owner.videoOwnerRenderer).videoSecondaryInfoRenderer.owner.videoOwnerRenderer;t=s.navigationEndpoint.browseEndpoint.browseId,i=s.thumbnail.thumbnails.map(e=>(e.url=new URL(e.url,a).toString(),e)),r=n.parseAbbreviatedNumber(u(s.subscriberCountText)),o=c(s.badges)}catch(e){}try{let s=e.player_response.microformat&&e.player_response.microformat.playerMicroformatRenderer,u=s&&s.channelId||t||e.player_response.videoDetails.channelId,c={id:u,name:s?s.ownerChannelName:e.player_response.videoDetails.author,user:s?s.ownerProfileUrl.split("/").slice(-1)[0]:null,channel_url:"https://www.youtube.com/channel/"+u,external_channel_url:s?"https://www.youtube.com/channel/"+s.externalChannelId:"",user_url:s?new URL(s.ownerProfileUrl,a).toString():"",thumbnails:i,verified:o,subscriber_count:r};return i.length&&n.deprecate(c,"avatar",c.thumbnails[0].url,"author.avatar","author.thumbnails[0].url"),c}catch(e){return{}}};const l=(e,t)=>{if(e)try{let r=u(e.viewCountText),i=u(e.shortViewCountText),s=t.find(t=>t.id===e.videoId);/^\d/.test(i)||(i=s&&s.short_view_count_text||""),r=(/^\d/.test(r)?r:i).split(" ")[0];let l=e.shortBylineText.runs[0].navigationEndpoint.browseEndpoint,d=l.browseId,h=u(e.shortBylineText),p=(l.canonicalBaseUrl||"").split("/").slice(-1)[0],f={id:e.videoId,title:u(e.title),published:u(e.publishedTimeText),author:{id:d,name:h,user:p,channel_url:"https://www.youtube.com/channel/"+d,user_url:"https://www.youtube.com/user/"+p,thumbnails:e.channelThumbnail.thumbnails.map(e=>(e.url=new URL(e.url,a).toString(),e)),verified:c(e.ownerBadges),[Symbol.toPrimitive]:()=>(console.warn("`relatedVideo.author` will be removed in a near future release, use `relatedVideo.author.name` instead."),f.author.name)},short_view_count_text:i.split(" ")[0],view_count:r.replace(/,/g,""),length_seconds:e.lengthText?Math.floor(o(u(e.lengthText))/1e3):t&&""+t.length_seconds,thumbnails:e.thumbnail.thumbnails,richThumbnails:e.richThumbnail?e.richThumbnail.movingThumbnailRenderer.movingThumbnailDetails.thumbnails:[],isLive:!(!e.badges||!e.badges.find(e=>"LIVE NOW"===e.metadataBadgeRenderer.label))};return n.deprecate(f,"author_thumbnail",f.author.thumbnails[0].url,"relatedVideo.author_thumbnail","relatedVideo.author.thumbnails[0].url"),n.deprecate(f,"ucid",f.author.id,"relatedVideo.ucid","relatedVideo.author.id"),n.deprecate(f,"video_thumbnail",f.thumbnails[0].url,"relatedVideo.video_thumbnail","relatedVideo.thumbnails[0].url"),f}catch(e){}};t.getRelatedVideos=e=>{let t=[],r=[];try{t=e.response.webWatchNextResponseExtensionData.relatedVideoArgs.split(",").map(e=>i.parse(e))}catch(e){}try{r=e.response.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results}catch(e){return[]}let n=[];for(let e of r||[]){let r=e.compactVideoRenderer;if(r){let e=l(r,t);e&&n.push(e)}else{let r=e.compactAutoplayRenderer||e.itemSectionRenderer;if(!r||!Array.isArray(r.contents))continue;for(let e of r.contents){let r=l(e.compactVideoRenderer,t);r&&n.push(r)}}}return n},t.getLikes=e=>{try{let t=e.response.contents.twoColumnWatchNextResults.results.results.contents.find(e=>e.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons.find(e=>e.toggleButtonRenderer&&"LIKE"===e.toggleButtonRenderer.defaultIcon.iconType);return parseInt(t.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(e){return null}},t.getDislikes=e=>{try{let t=e.response.contents.twoColumnWatchNextResults.results.results.contents.find(e=>e.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons.find(e=>e.toggleButtonRenderer&&"DISLIKE"===e.toggleButtonRenderer.defaultIcon.iconType);return parseInt(t.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(e){return null}},t.cleanVideoDetails=(e,t)=>(e.thumbnails=e.thumbnail.thumbnails,delete e.thumbnail,n.deprecate(e,"thumbnail",{thumbnails:e.thumbnails},"videoDetails.thumbnail.thumbnails","videoDetails.thumbnails"),e.description=e.shortDescription||u(e.description),delete e.shortDescription,n.deprecate(e,"shortDescription",e.description,"videoDetails.shortDescription","videoDetails.description"),e.lengthSeconds=t.player_response.microformat&&t.player_response.microformat.playerMicroformatRenderer.lengthSeconds||t.player_response.videoDetails.lengthSeconds,e),t.getStoryboards=e=>{const t=e.player_response.storyboards&&e.player_response.storyboards.playerStoryboardSpecRenderer&&e.player_response.storyboards.playerStoryboardSpecRenderer.spec&&e.player_response.storyboards.playerStoryboardSpecRenderer.spec.split("|");if(!t)return[];const r=new URL(t.shift());return t.map((e,t)=>{let[n,i,o,a,s,u,c,l]=e.split("#");r.searchParams.set("sigh",l),o=parseInt(o,10),a=parseInt(a,10),s=parseInt(s,10);const d=Math.ceil(o/(a*s));return{templateUrl:r.toString().replace("$L",t).replace("$N",c),thumbnailWidth:parseInt(n,10),thumbnailHeight:parseInt(i,10),thumbnailCount:o,interval:parseInt(u,10),columns:a,rows:s,storyboardCount:d}})},t.getChapters=e=>{const t=e.response&&e.response.playerOverlays&&e.response.playerOverlays.playerOverlayRenderer,r=t&&t.decoratedPlayerBarRenderer&&t.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer&&t.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer.playerBar,n=r&&r.multiMarkersPlayerBarRenderer&&r.multiMarkersPlayerBarRenderer.markersMap,i=Array.isArray(n)&&n.find(e=>e.value&&Array.isArray(e.value.chapters));if(!i)return[];return i.value.chapters.map(e=>({title:u(e.chapterRenderer.title),start_time:e.chapterRenderer.timeRangeStartMillis/1e3}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(57);class i extends n.Writable{constructor(){super(),this._lastLine="",this._seq=0,this._nextItemDuration=null,this._nextItemRange=null,this._lastItemRangeEnd=0,this.on("finish",()=>{this._parseLine(this._lastLine),this.emit("end")})}_parseAttrList(e){let t,r={},n=/([A-Z0-9-]+)=(?:"([^"]*?)"|([^,]*?))/g;for(;null!==(t=n.exec(e));)r[t[1]]=t[2]||t[3];return r}_parseRange(e){if(!e)return null;let t=e.split("@"),r=t[1]?parseInt(t[1]):this._lastItemRangeEnd+1,n={start:r,end:r+parseInt(t[0])-1};return this._lastItemRangeEnd=n.end,n}_parseLine(e){let t=e.match(/^#(EXT[A-Z0-9-]+)(?::(.*))?/);if(t){const e=t[1],r=t[2]||"";switch(e){case"EXT-X-PROGRAM-DATE-TIME":this.emit("starttime",new Date(r).getTime());break;case"EXT-X-MEDIA-SEQUENCE":this._seq=parseInt(r);break;case"EXT-X-MAP":{let e=this._parseAttrList(r);if(!e.URI)return void this.destroy(new Error("`EXT-X-MAP` found without required attribute `URI`"));this.emit("item",{url:e.URI,seq:this._seq,init:!0,duration:0,range:this._parseRange(e.BYTERANGE)});break}case"EXT-X-BYTERANGE":this._nextItemRange=this._parseRange(r);break;case"EXTINF":this._nextItemDuration=Math.round(1e3*parseFloat(r.split(",")[0]));break;case"EXT-X-ENDLIST":this.emit("endlist")}}else!/^#/.test(e)&&e.trim()&&(this.emit("item",{url:e.trim(),seq:this._seq++,duration:this._nextItemDuration,range:this._nextItemRange}),this._nextItemRange=null)}_write(e,t,r){let n=e.toString("utf8").split("\n");this._lastLine&&(n[0]=this._lastLine+n[0]),n.forEach((e,t)=>{this.destroyed||(t<n.length-1?this._parseLine(e):this._lastLine=e)}),r()}}t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(57),o=n(r(118)),a=r(126);class s extends i.Writable{constructor(e){let t;super(),this._parser=o.default.createStream(!1,{lowercase:!0}),this._parser.on("error",this.destroy.bind(this));let r,n,i,s,u,c,l,d,h=0,p=0,f=[],m=!1,v=!1;const g=t=>{const r={RepresentationID:e,Number:p,Time:h};return t.replace(/\$(\w+)\$/g,(e,t)=>""+r[t])};this._parser.on("opentag",o=>{switch(o.name){case"mpd":h=o.attributes.availabilitystarttime?new Date(o.attributes.availabilitystarttime).getTime():0,c="dynamic"!==o.attributes.type;break;case"period":p=0,n=1e3,s=0,i=0,u=[],l=0,d=a.durationStr(o.attributes.start)||0;break;case"segmentlist":p=parseInt(o.attributes.startnumber)||p,n=parseInt(o.attributes.timescale)||n,s=parseInt(o.attributes.duration)||s,i=parseInt(o.attributes.presentationtimeoffset)||i;break;case"segmenttemplate":r=o.attributes,p=parseInt(o.attributes.startnumber)||p,n=parseInt(o.attributes.timescale)||n;break;case"segmenttimeline":case"baseurl":t=o.name;break;case"s":f.push({duration:parseInt(o.attributes.d),repeat:parseInt(o.attributes.r),time:parseInt(o.attributes.t)});break;case"adaptationset":case"representation":l++,e||(e=o.attributes.id),m=o.attributes.id===""+e,m&&(d&&(h+=d),i&&(h-=i/n*1e3),this.emit("starttime",h));break;case"initialization":m&&this.emit("item",{url:u.filter(e=>!!e).join("")+o.attributes.sourceurl,seq:p,init:!0,duration:0});break;case"segmenturl":if(m){v=!0;let e=f.shift(),t=((null==e?void 0:e.duration)||s)/n*1e3;this.emit("item",{url:u.filter(e=>!!e).join("")+o.attributes.media,seq:p++,duration:t}),h+=t}}});const b=()=>{c&&this.emit("endlist"),m?this.emit("end"):this.destroy(Error(`Representation '${e}' not found`))};this._parser.on("closetag",e=>{switch(e){case"adaptationset":case"representation":if(l--,r&&f.length){v=!0,r.initialization&&this.emit("item",{url:u.filter(e=>!!e).join("")+g(r.initialization),seq:p,init:!0,duration:0});for(let{duration:e,repeat:t,time:i}of f){e=e/n*1e3,t=t||1,h=i||h;for(let n=0;n<t;n++)this.emit("item",{url:u.filter(e=>!!e).join("")+g(r.media),seq:p++,duration:e}),h+=e}}v&&(this.emit("endearly"),b(),this._parser.removeAllListeners(),this.removeAllListeners("finish"))}}),this._parser.on("text",e=>{"baseurl"===t&&(u[l]=e,t=null)}),this.on("finish",b)}_write(e,t,r){this._parser.write(e),r()}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;t.Queue=class{constructor(e,t={}){this._worker=e,this._concurrency=t.concurrency||1,this.tasks=[],this.total=0,this.active=0}push(e,t){this.tasks.push({item:e,callback:t}),this.total++,this._next()}_next(){if(this.active>=this._concurrency||!this.tasks.length)return;const{item:e,callback:t}=this.tasks.shift();let r=!1;this.active++,this._worker(e,(e,n)=>{r||(this.active--,r=!0,null==t||t(e,n),this._next())})}die(){this.tasks=[]}}},function(e,t,r){"use strict";var n=r(2),i=r(7),o=r(3),a=640,s=480;var u=new class{constructor(){chrome.tabs.onAttached.addListener((e,t)=>{var r,i;t.isFromPanel&&(n.a.log("Pip",n.a.PIP_RESTORE_CLICK),null===(i=null===(r=chrome.tabs.sendMessage(e,{type:"restore_tab"}))||void 0===r?void 0:r.catch)||void 0===i||i.call(r,console.log))}),this.requestActions={detachTab:this.detachTab.bind(this),pipUrl:this.pipUrl.bind(this),restorePanelToTab:this.restorePanelToTab.bind(this)}}processRequest(e){var t=e.method;if(t&&this.requestActions[t])return this.requestActions[t].apply(this,arguments)}detachTab(e,t){var r,a,s=e.params,u=e.params.url?e.params.url:null===(r=t.tab)||void 0===r?void 0:r.url,c=null===(a=t.tab)||void 0===a?void 0:a.id;chrome.windows.create(this.getWindowOptions(s,u,c),()=>{n.a.log("Pip",n.a.PIP_DETACH_CLICK);var e=Object(o.c)(u);if(n.a.log("RefrPin",e),i.a.CUSTOM_METRICS_JSON){var t={timestamp_ms:Date.now(),page_url:u};n.a.log("recordCustomData",[{key:"savior_pip_action",value:JSON.stringify(t)}])}})}pipUrl(e){var t,r=e.params;(t=r.url,new Promise(e=>{chrome.windows.getAll({populate:!0},r=>{for(var n=0;n<r.length;n++){var i=r[n];if("panel"===i.type&&0!==(i.tabs||[]).length&&(i.tabs||[])[0].url===t)return void e(!0)}e(!1)})})).then(e=>{if(!e){var t=r.height?r.height+36:s+36,o={type:"panel",width:r.width||a,height:t,url:r.url};r.isAds&&i.a.IS_ADS_PIP_PARAMS&&(o.isAds=!0),"Coc Coc"===navigator.vendor&&(o.proportional=!0),chrome.windows.create(o,()=>{n.a.log("Pip",n.a.PIP_SITE_LINK_CLICK)})}})}restorePanelToTab(e,t){var r,n=(null===(r=t.tab)||void 0===r?void 0:r.id)||0;try{chrome.tabs.move(n,{index:-1,restoreFromPanel:!0})}catch(e){}}getWindowOptions(e,t,r){var n={width:e.width,height:(e.height||0)+36,type:"panel",url:t};return e.incognito&&(n.incognito=!0),"Coc Coc"===navigator.vendor&&(n.proportional=!0,n.moveTabToPanel=!0,n.forceAlwaysOnTop=!0,n.tabId=r),n}};EE.on("pipRequest",e=>{u.processRequest(e)})},,,,function(e,t,r){"use strict";var n=r(0),i=r(3),o=r(7),a=r(18),s=r(4),u=r(1);var c=new class{constructor(){this._cache=new Map,this._timeCache=new Map,this.setListener()}report(e,t,r){var n=this._cache.has(e)&&this._cache.get(e)||[];n.push({name:t,result:r}),this._cache.set(e,n),this.autoClean(e,t,r),EE.emit("request.matched",{tabId:e,data:{type:"request.matched",name:t,result:r}})}fbSetTime(e,t){this._timeCache.set(e,t)}removeTask(e,t,r){var n=this._cache.get(e);n&&n.length&&(0!==(n=n.filter(e=>e.name!==t&&e.result!==r)).length?this._cache.set(e,n):this._cache.delete(e))}autoClean(e,t,r){setTimeout(()=>{this.removeTask(e,t,r)},15e3)}setListener(){EE.on("request_cache.get_matched_requests",e=>{var t;if(e.id){var r=null===(t=this._cache.get(e.id))||void 0===t?void 0:t.map(e=>e.result);EE.emit("request_cache.return_matched_requests",{id:e.id,tasks:r}),this._cache.delete(e.id)}}),EE.on("request_cache.get_server_time",e=>{if(e.id){var t=this._timeCache.get(e.id);EE.emit("request_cache.return_server_time",{id:e.id,msgId:e.msgId,serverTime:t})}}),chrome.tabs.onRemoved.addListener(e=>{this._cache.delete(e)}),chrome.tabs.onUpdated.addListener((e,t)=>{"loading"===t.status&&this._cache.delete(e)})}},l=["unicornmedia.com","plist.vn-hd.com","content-aaps1.uplynk.com","playlist-free.vieon.vn","watch.asiaplayer.site"];class d{constructor(){this.name="default"}match(e,t,r){var i,o;if((!(e=>a.a.check(e.url,"requests")||a.a.check(e.url))(t)||e.initiator&&e.initiator.includes("//vuighe.net")&&t.url.match(/playlist[\s\S]*\.m3u8/g)||(null===(i=e.initiator)||void 0===i?void 0:i.match(/tvzingvn\.net|play\.play[\s\S]*(xyz|net)/g))&&t.url.includes(".m3u8")||Object(n.isSpecialUrls)(t.url))&&!e.url.match(/https:\/[\s\S]*phim18hd\.net\/link\/[\s\S]*\.m3u/g)){var c=t;if((null===(o=c.filename)||void 0===o?void 0:o.trim())||(c.filename="noname_"+Date.now()),l.some(e=>{var t;return null===(t=c.host)||void 0===t?void 0:t.includes(e)})&&(Object(u.s)(c.ext)||"mpd"==c.ext)?c.type="video":(c=Object(n.detectMediaTypeAndExt)(c,r["content-type"],r["content-disposition"]),!Object(u.s)(c.ext)&&"mpd"!=c.ext||c.type||(c.type="video")),Object(n.isValidData)(c)&&!function(e,t){var r,n;if(null===(r=e.host)||void 0===r?void 0:r.includes("vlive-hls.akamaized.net"))return!0;if("flv"!==e.ext&&"musicmd1.keeng.net"!==e.host)return!1;if(null===(n=e.host)||void 0===n?void 0:n.includes("flv.nimo.tv"))return!0;var i=t.server;return i&&-1!==i.indexOf("icecast")}(c,r)||Object(n.isSpecialUrls)(c.url)){var d=this._removeByteRequestFromUrl(e.url);c.url=d.url,(302===e.statusCode||function(e,t,r){if(!t||Object(u.s)(e.ext)||Object(n.isSpecialUrls)(e.url))return!0;if("vhosting.vcmedia.vn"===e.host)return!0;var i=+t;if(Number.isNaN(i)&&(i=null),"m3u8"===e.ext||e.exts&&e.exts.includes("m3u8"))return!0;var o=s.a.get("min_stream_size");if(null!==i&&i<o&&!r&&"mpd"!=e.ext)return!1;if(r&&r.match(/^bytes\s[1-9]\d+-\d+\/\d+/g)){var a=r.split("/");if(a&&a.length)return e.size=parseInt(a.pop()||""),!0}return e.size=i||void 0,!0}(c,r["content-length"],r["content-range"]))&&(d.hasChanged&&delete c.size,302===e.statusCode&&e.redirectUrl&&(c.altUrl=this._removeByteRequestFromUrl(e.redirectUrl)),this._reportNewMedia(e,c))}}}_reportNewMedia(e,t){var r=this,n=e.tabId||-1;function o(e,n,o){var a=Object(i.g)(e);a.protocol&&!a.protocol.match(/^http|^ftp/)||"coccoc.com"===a.host&&"/webhp"===a.pathname||(t.referrer=o||e,function(e,t,r){c.report(e,t,r)}(n,r.name,t))}function a(t){return o(t,n,e.initiator)}if(-1===e.parentFrameId||e.initiator&&e.initiator.match(/zingmp3\.vn|www\.twitch\.tv/)){if(-1===n)return void chrome.tabs.query({url:e.initiator+"/*"}).then(e=>{var t=e.find(e=>e.active);t?o(t.url,t.id,t.url):e.forEach(e=>{o(e.url,e.id,e.url)})});chrome.tabs.get(n,e=>{e?a(e.url||""):console.log(chrome.runtime.lastError)})}else try{chrome.webNavigation.getAllFrames({tabId:n},t=>{if(t){var r=t.filter(t=>{if(t.frameId===e.frameId&&"about:blank"!==t.url)return t.url=e.url,!0})[0];r&&a(r.url)}})}catch(e){console.log(e)}}_removeByteRequestFromUrl(e){var t=!1;e.match(/(googlevideo\.com)|(mycdn\.me)/g)&&(e!==(e=e.replace(/[&?]begin=\d+/g,"").replace(/&bytes=\d+-\d+/g,"").replace(/&range=\d+-\d+/g,"").replace(/&rn=\d+/g,"").replace(/&rbuf=\d+/g,""))&&(t=!0));return{url:e,hasChanged:t}}}new class{constructor(){this._listener=new d,this._init()}_init(){var e=this._onResponseStarted.bind(this),t=["xmlhttprequest","object","other","script","image","sub_frame"];o.a.MEDIA_WEB_REQUEST&&t.push("media");var r={urls:["*://*/*"],types:t};o.a.WEB_REQUEST_EXTRA_HEADERS&&["requestHeaders"].push("extraHeaders"),chrome.webRequest.onBeforeRequest.addListener(this._onBeforeRequest.bind(this),r,["requestBody"]),chrome.webRequest.onBeforeRedirect.addListener(e,r,["responseHeaders","extraHeaders"]),chrome.webRequest.onResponseStarted.addListener(e,r,["responseHeaders","extraHeaders"])}_onBeforeRequest(e){var t,r,n,o,a,s,u;try{if(e.url.match(/:\/\/v\.douyu\.com\/.+\/stream\/getStreamUrl/i)&&"https://v.douyu.com"===e.initiator){var c=Object(i.g)(e.url);this._listener.match(e,Object.assign(Object.assign({},c),{url:c.url,ext:"m3u8",exts:["m3u8"],params:null===(t=e.requestBody)||void 0===t?void 0:t.formData,requestMethod:e.method,identifier:null===(o=null===(n=null===(r=e.requestBody)||void 0===r?void 0:r.formData)||void 0===n?void 0:n.vid)||void 0===o?void 0:o[0]}),{})}if(e.url.match(/\/\/api-.+\.(play|plhq).+\.(xyz|site|click|cfd)\/api(\/.+)?\/(playiframe|getblob)/i)&&(null===(a=e.initiator)||void 0===a?void 0:a.match(/\/\/play\.(play|plhq).+\.(xyz|site|click|cfd)/i))){var l=Object(i.g)(e.url);this._listener.match(e,Object.assign(Object.assign({},l),{url:l.url,ext:l.ext||"m3u8",exts:l.exts,params:null===(s=e.requestBody)||void 0===s?void 0:s.formData,requestMethod:e.method,identifier:e.requestId}),{})}try{if(e.url.match(/nhaccuatui\.com\/api(\/media\/info)/i)){var d=Object(i.g)(e.url);this._listener.match(e,Object.assign(Object.assign({},d),{url:d.url,ext:"m3u8",exts:["m3u8"],params:null===(u=e.requestBody)||void 0===u?void 0:u.formData,requestMethod:e.method,identifier:e.requestId,type:"video"}),{})}}catch(e){console.log(e)}if(e.initiator&&e.initiator.includes("bschool.vn")&&/\.mp4.+?\.ts\?nimblesessionid=/.test(e.url)){var h={};chrome.tabs.get(e.tabId,t=>{h[""+t.url]=e.url.split("?")[1],chrome.storage.local.set(h)})}if(e.url.match(/\.(mpd|m3u8)$/i)){var p=Object(i.g)(e.url);this._listener.match(e,Object.assign(Object.assign({},p),{url:p.url,ext:p.ext||"",exts:p.exts}),{})}}catch(e){console.log(e)}}_onResponseStarted(e){try{if(e.tabId<0||e.statusCode>399)return;var t=this._parseHeaders(e.responseHeaders||[]);e.url.includes("graphql")&&c.fbSetTime(e.tabId,Date.parse(t.date||""));var r=Object(i.g)(e.url);this._listener.match(e,r,t)}catch(e){console.log(e)}}_parseHeaders(e){var t={};return e.length?(e.forEach(e=>{var r;t[e.name.toLowerCase()]=null===(r=e.value)||void 0===r?void 0:r.toLowerCase()}),t):{}}}}]);